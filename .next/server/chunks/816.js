"use strict";exports.id=816,exports.ids=[816],exports.modules={2816:(t,e,n)=>{function r(t,e){for(var n=t.length,r=0;r<n;++r)if(e(t[r],r))return!0;return!1}function i(t,e){for(var n=t.length,r=0;r<n;++r)if(e(t[r],r))return t[r];return null}function o(t){var e=t;if(void 0===e){if("undefined"==typeof navigator||!navigator)return"";e=navigator.userAgent||""}return e.toLowerCase()}function a(t,e){try{return RegExp(t,"g").exec(e)}catch(t){return null}}function s(t){return t.replace(/_/g,".")}function u(t,e){var n=null,i="-1";return r(t,function(t){var r,o=a("("+t.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return!!o&&!t.brand&&((n=t,i=o[3]||"-1",t.versionAlias)?i=t.versionAlias:t.versionTest&&(i=((r=a("("+t.versionTest.toLowerCase()+")((?:\\/|\\s|:)([0-9|\\.|_]+))",e))?r[3]:"")||i),i=s(i),!0)}),{preset:n,version:i}}function l(t,e){var n={brand:"",version:"-1"};return r(t,function(t){var r=c(e,t);return!!r&&(n.brand=t.id,n.version=t.versionAlias||r.version,"-1"!==n.version)}),n}function c(t,e){return i(t,function(t){var n=t.brand;return a(""+e.test,n.toLowerCase())})}n.d(e,{ZP:()=>op});var f,p=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],d=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],h=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],v=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],g=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function m(t){return!!u(v,t).preset}function b(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.map(function(e){return e.split(" ").map(function(e){return e?""+t+e:""}).join(" ")}).join(" ")}function x(t,e){return function(n){n&&(t[e]=n)}}function y(t,e,n){return function(r){r&&(t[e][n]=r)}}var S="undefined",E=typeof window!==S,D=typeof document!==S&&document,C=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],w={cm:function(t){return 96*t/2.54},mm:function(t){return 96*t/254},in:function(t){return 96*t},pt:function(t){return 96*t/72},pc:function(t){return 96*t/6},"%":function(t,e){return t*e/100},vw:function(t,e){return void 0===e&&(e=window.innerWidth),t/100*e},vh:function(t,e){return void 0===e&&(e=window.innerHeight),t/100*e},vmax:function(t,e){return void 0===e&&(e=Math.max(window.innerWidth,window.innerHeight)),t/100*e},vmin:function(t,e){return void 0===e&&(e=Math.min(window.innerWidth,window.innerHeight)),t/100*e}};function M(t){return typeof t===S}function R(t){return t&&"object"==typeof t}function _(t){return Array.isArray(t)}function O(t){return"string"==typeof t}function P(t){return"number"==typeof t}function T(t){return"function"==typeof t}function z(t,e,n){if(!t.ignore)return null;var r=e.slice(Math.max(n-3,0),n+3).join("");return new RegExp(t.ignore).exec(r)}function G(t,e){var n,r=O(e)?{separator:e}:e,i=r.separator,o=void 0===i?",":i,a=r.isSeparateFirst,s=r.isSeparateOnlyOpenClose,u=r.isSeparateOpenClose,l=void 0===u?s:u,c=r.openCloseCharacters,f=void 0===c?C:c,p=RegExp("(\\s*"+o+"\\s*|"+f.map(function(t){var e=t.open,n=t.close;return e===n?e:e+"|"+n}).join("|")+"|\\s+)","g"),d=t.split(p).filter(function(t){return t&&"undefined"!==t}),h=d.length,v=[],g=[];function m(){return!!g.length&&(v.push(g.join("")),g=[],!0)}for(var b=0;b<h;++b){var x=function(e){var r=d[e].trim(),i=e,u=Y(f,function(t){return t.open===r}),c=Y(f,function(t){return t.close===r});if(u){if(-1!==(i=function t(e,n,r,i,o){return z(e,n,r)?r:function(e,n,r,i,o){for(var a,s=r;s<i;++s){var u=function(r){var s=n[r].trim();if(s===e.close&&!z(e,n,r))return{value:r};var u=r,l=Y(o,function(t){return t.open===s});if(l&&(u=t(l,n,r,i,o)),-1===u)return a=r,"break";a=r=u}(s);if(s=a,"object"==typeof u)return u.value;if("break"===u)break}return -1}(e,n,r+1,i,o)}(u,d,e,h,f))&&l)return m()&&a?(n=e,"break"):(v.push(d.slice(e,i+1).join("")),e=i,a)?(n=e,"break"):(n=e,"continue")}else if(c&&!z(c,d,e)){var p=/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(f);return p.splice(f.indexOf(c),1),{value:G(t,{separator:o,isSeparateFirst:a,isSeparateOnlyOpenClose:s,isSeparateOpenClose:l,openCloseCharacters:p})}}else if(((""===o||" "==o)&&(""===r||" "==r)||r===o)&&!s)return(m(),a)?(n=e,"break"):(n=e,"continue");-1===i&&(i=h-1),g.push(d.slice(e,i+1).join("")),n=e=i}(b);if(b=n,"object"==typeof x)return x.value;if("break"===x)break}return g.length&&v.push(g.join("")),v}function k(t){return G(t,"")}function I(t){return G(t,",")}function B(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function A(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var n=e[1],r=e[2];return{prefix:n,unit:e[3],value:parseFloat(r)}}function F(){return Date.now?Date.now():new Date().getTime()}function N(t,e,n){void 0===n&&(n=-1);for(var r=t.length,i=0;i<r;++i)if(e(t[i],i,t))return i;return n}function Y(t,e,n){var r=N(t,e);return r>-1?t[r]:n}var q=function(){var t=F(),e=E&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return e?e.bind(window):function(e){var n=F();return setTimeout(function(){e(n-t)},1e3/60)}}(),X=function(){var t=E&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return t?t.bind(window):function(t){clearTimeout(t)}}();function W(t){return Object.keys(t)}function j(t,e){var n=A(t),r=n.value,i=n.unit;if(R(e)){var o=e[i];if(o){if(T(o))return o(r);if(w[i])return w[i](r,o)}}else if("%"===i)return r*e/100;return w[i]?w[i](r):r}function H(t,e,n){return Math.max(e,Math.min(t,n))}function L(t,e,n,r){return void 0===r&&(r=t[0]/t[1]),[[J(e[0],1e-7),J(e[0]/r,1e-7)],[J(e[1]*r,1e-7),J(e[1],1e-7)]].filter(function(t){return t.every(function(t,r){var i=e[r],o=J(i,1e-7);return n?t<=i||t<=o:t>=i||t>=o})})[0]||t}function V(t,e,n,r){if(!r)return t.map(function(t,r){return H(t,e[r],n[r])});var i=t[0],o=t[1],a=!0===r?i/o:r,s=L(t,e,!1,a),u=s[0],l=s[1],c=L(t,n,!0,a),f=c[0],p=c[1];return i<u||o<l?(i=u,o=l):(i>f||o>p)&&(i=f,o=p),[i,o]}function U(t){for(var e=t.length,n=0,r=e-1;r>=0;--r)n+=t[r];return e?n/e:0}function Z(t,e){var n=e[0]-t[0],r=Math.atan2(e[1]-t[1],n);return r>=0?r:r+2*Math.PI}function K(t){var e=[0,1].map(function(e){return U(t.map(function(t){return t[e]}))}),n=Z(e,t[0]),r=Z(e,t[1]);return n<r&&r-n<Math.PI||n>r&&r-n<-Math.PI?1:-1}function $(t,e){return Math.sqrt(Math.pow((e?e[0]:0)-t[0],2)+Math.pow((e?e[1]:0)-t[1],2))}function J(t,e){return e?Math.round(t/e)/(1/e):t}function Q(t,e){return t.forEach(function(n,r){t[r]=J(t[r],e)}),t}function tt(t,e){return t.classList?t.classList.contains(e):!!t.className.match(RegExp("(\\s|^)"+e+"(\\s|$)"))}function te(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function tn(t,e){if(t.classList)t.classList.remove(e);else{var n=RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}function tr(t,e,n,r){t.addEventListener(e,n,r)}function ti(t,e,n,r){t.removeEventListener(e,n,r)}function to(t){return(null==t?void 0:t.ownerDocument)||D}function ta(t){return to(t).documentElement}function ts(t){return to(t).body}function tu(t){var e;return(null===(e=null==t?void 0:t.ownerDocument)||void 0===e?void 0:e.defaultView)||window}function tl(t){return t&&"postMessage"in t&&"blur"in t&&"self"in t}function tc(t){return R(t)&&t.nodeName&&t.nodeType&&"ownerDocument"in t}function tf(t,e,n){void 0===n&&(n=Math.sqrt(t.length));for(var r=t.slice(),i=0;i<n;++i)r[i*n+e-1]=0,r[(e-1)*n+i]=0;return r[(e-1)*(n+1)]=1,r}function tp(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=t.slice(),r=tP(e),i=0;i<e;++i){var o=e*i+i;if(!J(n[o],1e-7)){for(var a=i+1;a<e;++a)if(n[e*i+a]){!function(t,e,n,r,i){for(var o=0;o<i;++o){var a=n+o*i,s=r+o*i,u=t[a],l=e[a];t[a]=t[s],t[s]=u,e[a]=e[s],e[s]=l}}(n,r,i,a,e);break}}if(!J(n[o],1e-7))return[];!function(t,e,n,r,i){for(var o=0;o<r;++o){var a=n+o*r;t[a]/=i,e[a]/=i}}(n,r,i,e,n[o]);for(var a=0;a<e;++a){var s=a,u=n[a+i*e];J(u,1e-7)&&i!==a&&function(t,e,n,r,i,o){for(var a=0;a<i;++a){var s=n+a*i,u=r+a*i;t[s]+=t[u]*o,e[s]+=e[u]*o}}(n,r,s,i,e,-u)}}return r}function td(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],r=t[e*e-1],i=0;i<e-1;++i)n[i]=t[e*(e-1)+i]/r;return n[e-1]=0,n}function th(t,e){for(var n=t.slice(),r=t.length;r<e-1;++r)n[r]=0;return n[e-1]=1,n}function tv(t,e,n){if(void 0===e&&(e=Math.sqrt(t.length)),e===n)return t;for(var r=tP(n),i=Math.min(e,n),o=0;o<i-1;++o){for(var a=0;a<i-1;++a)r[o*n+a]=t[o*e+a];r[(o+1)*n-1]=t[(o+1)*e-1],r[(n-1)*n+o]=t[(e-1)*e+o]}return r[n*n-1]=t[e*e-1],r}function tg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=tP(t);return e.forEach(function(e){r=tm(r,e,t)}),r}function tm(t,e,n){void 0===n&&(n=Math.sqrt(t.length));var r=[],i=t.length/n,o=e.length/i;if(!i)return e;if(!o)return t;for(var a=0;a<n;++a)for(var s=0;s<o;++s){r[s*n+a]=0;for(var u=0;u<i;++u)r[s*n+a]+=t[u*n+a]*e[s*i+u]}return r}function tb(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),i=0;i<n;++i)r[i]=r[i]+e[i];return r}function tx(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),i=0;i<n;++i)r[i]=r[i]-e[i];return r}function ty(t,e){return(void 0===e&&(e=9===t.length),e)?[t[0],t[1],t[3],t[4],t[6],t[7]]:t}function tS(t,e,n){void 0===n&&(n=e.length);var r=tm(t,e,n),i=r[n-1];return r.map(function(t){return t/i})}function tE(t,e){return tm(t,[1,0,0,0,0,Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1],4)}function tD(t,e){return tm(t,[Math.cos(e),0,-Math.sin(e),0,0,1,0,0,Math.sin(e),0,Math.cos(e),0,0,0,0,1],4)}function tC(t,e){return tm(t,tO(e,4))}function tw(t,e){var n=e[0],r=e[1],i=e[2];return tm(t,[void 0===n?1:n,0,0,0,0,void 0===r?1:r,0,0,0,0,void 0===i?1:i,0,0,0,0,1],4)}function tM(t,e){return tS(tO(e,3),th(t,3))}function tR(t,e){var n=e[0],r=e[1],i=e[2];return tm(t,[1,0,0,0,0,1,0,0,0,0,1,0,void 0===n?0:n,void 0===r?0:r,void 0===i?0:i,1],4)}function t_(t,e){return tm(t,e,4)}function tO(t,e){var n=Math.cos(t),r=Math.sin(t),i=tP(e);return i[0]=n,i[1]=r,i[e]=-r,i[e+1]=n,i}function tP(t){for(var e=t*t,n=[],r=0;r<e;++r)n[r]=r%(t+1)?0:1;return n}function tT(t,e){for(var n=tP(e),r=Math.min(t.length,e-1),i=0;i<r;++i)n[(e+1)*i]=t[i];return n}function tz(t,e){for(var n=tP(e),r=Math.min(t.length,e-1),i=0;i<r;++i)n[e*(e-1)+i]=t[i];return n}function tG(t,e,n,r,i,o,a,s){var u=t[0],l=t[1],c=e[0],f=e[1],p=n[0],d=n[1],h=r[0],v=r[1],g=i[0],m=i[1],b=o[0],x=o[1],y=a[0],S=a[1],E=s[0],D=s[1],C=tp([u,0,c,0,p,0,h,0,l,0,f,0,d,0,v,0,1,0,1,0,1,0,1,0,0,u,0,c,0,p,0,h,0,l,0,f,0,d,0,v,0,1,0,1,0,1,0,1,-g*u,-m*u,-b*c,-x*c,-y*p,-S*p,-E*h,-D*h,-g*l,-m*l,-b*f,-x*f,-y*d,-S*d,-E*v,-D*v],8);if(!C.length)return[];var w=tm(C,[g,m,b,x,y,S,E,D],8);return w[8]=1,tv(function(t,e){void 0===e&&(e=Math.sqrt(t.length));for(var n=[],r=0;r<e;++r)for(var i=0;i<e;++i)n[i*e+r]=t[e*r+i];return n}(w),3,4)}var tk=function(){return(tk=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function tI(t,e){return void 0===e&&(e=0),tB(tA(t,e))}function tB(t){var e=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return t.forEach(function(t){var n=t.matrixFunction,r=t.functionValue;n&&(e=n(e,r))}),e}function tA(t,e){return void 0===e&&(e=0),(_(t)?t:k(t)).map(function(t){var n=B(t),r=n.prefix,i=n.value,o=null,a=r,s="";if("translate"===r||"translateX"===r||"translate3d"===r){var u=R(e)?tk(tk({},e),{"o%":e["%"]}):{"%":e,"o%":e},l=I(i).map(function(t,n){return 0===n&&"x%"in u?u["%"]=e["x%"]:1===n&&"y%"in u?u["%"]=e["y%"]:u["%"]=e["o%"],j(t,u)}),c=l[0],f=l[1],p=void 0===f?0:f,d=l[2],h=void 0===d?0:d;o=tR,s=[c,p,h]}else if("translateY"===r){var p=j(i,R(e)?tk({"%":e["y%"]},e):{"%":e});o=tR,s=[0,p,0]}else if("translateZ"===r){var h=parseFloat(i);o=tR,s=[0,0,h]}else if("scale"===r||"scale3d"===r){var v=I(i).map(function(t){return parseFloat(t)}),g=v[0],m=v[1],b=void 0===m?g:m,x=v[2],y=void 0===x?1:x;o=tw,s=[g,b,y]}else if("scaleX"===r){var g=parseFloat(i);o=tw,s=[g,1,1]}else if("scaleY"===r){var b=parseFloat(i);o=tw,s=[1,b,1]}else if("scaleZ"===r){var y=parseFloat(i);o=tw,s=[1,1,y]}else if("rotate"===r||"rotateZ"===r||"rotateX"===r||"rotateY"===r){var S=A(i),E=S.unit,D=S.value,C="rad"===E?D:D*Math.PI/180;"rotate"===r||"rotateZ"===r?(a="rotateZ",o=tC):"rotateX"===r?o=tE:"rotateY"===r&&(o=tD),s=C}else if("matrix3d"===r)o=t_,s=I(i).map(function(t){return parseFloat(t)});else if("matrix"===r){var w=I(i).map(function(t){return parseFloat(t)});o=t_,s=[w[0],w[1],0,0,w[2],w[3],0,0,0,0,1,0,w[4],w[5],0,1]}else a="";return{name:r,functionName:a,value:i,matrixFunction:o,functionValue:s}})}var tF=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(t){return this.values[this.keys.indexOf(t)]},e.set=function(t,e){var n=this.keys,r=this.values,i=n.indexOf(t),o=-1===i?n.length:i;n[o]=t,r[o]=e},t}(),tN=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(t){return this.object[t]},e.set=function(t,e){this.object[t]=e},t}(),tY="function"==typeof Map,tq=function(){function t(){}var e=t.prototype;return e.connect=function(t,e){this.prev=t,this.next=e,t&&(t.next=this),e&&(e.prev=this)},e.disconnect=function(){var t=this.prev,e=this.next;t&&(t.next=e),e&&(e.prev=t)},e.getIndex=function(){for(var t=this,e=-1;t;)t=t.prev,++e;return e},t}(),tX=function(){function t(t,e,n,r,i,o,a,s){this.prevList=t,this.list=e,this.added=n,this.removed=r,this.changed=i,this.maintained=o,this.changedBeforeAdded=a,this.fixed=s}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var t,e,n,r,i=(t=this.changedBeforeAdded,e=this.fixed,n=[],r=[],t.forEach(function(t){var e=t[0],i=t[1],o=new tq;n[e]=o,r[i]=o}),n.forEach(function(t,e){t.connect(n[e-1])}),t.filter(function(t,n){return!e[n]}).map(function(t,e){var i=t[0],o=t[1];if(i===o)return[0,0];var a=n[i],s=r[o-1],u=a.getIndex();return a.disconnect(),s?a.connect(s,s.next):a.connect(void 0,n[0]),[u,a.getIndex()]})),o=this.changed,a=[];this.cacheOrdered=i.filter(function(t,e){var n=t[0],r=t[1],i=o[e],s=i[0],u=i[1];if(n!==r)return a.push([s,u]),!0}),this.cachePureChanged=a},t}();function tW(t,e,n){var r=tY?Map:n?tN:tF,i=n||function(t){return t},o=[],a=[],s=[],u=t.map(i),l=e.map(i),c=new r,f=new r,p=[],d=[],h={},v=[],g=0,m=0;return u.forEach(function(t,e){c.set(t,e)}),l.forEach(function(t,e){f.set(t,e)}),u.forEach(function(t,e){var n=f.get(t);void 0===n?(++m,a.push(e)):h[n]=m}),l.forEach(function(t,e){var n=c.get(t);void 0===n?(o.push(e),++g):(s.push([n,e]),m=h[e]||0,p.push([n-m,e-g]),d.push(e===n),n!==e&&v.push([n,e]))}),a.reverse(),new tX(t,e,o,a,v,s,p,d)}var tj=function(){function t(t,e){void 0===t&&(t=[]),this.findKeyCallback=e,this.list=[].slice.call(t)}return t.prototype.update=function(t){var e=[].slice.call(t),n=tW(this.list,e,this.findKeyCallback);return this.list=e,n},t}(),tH=function(t,e){return(tH=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},tL="function"==typeof Map?void 0:function(){var t=0;return function(e){return e.__DIFF_KEY__||(e.__DIFF_KEY__=++t)}}(),tV=function(t){function e(e){return void 0===e&&(e=[]),t.call(this,e,tL)||this}return function(t,e){function n(){this.constructor=t}tH(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(tj),tU=function(){return(tU=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},tZ=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(t,e){if(R(t))for(var n in t)this.on(n,t[n]);else this._addEvent(t,e,{});return this},e.off=function(t,e){if(t){if(R(t))for(var n in t)this.off(n);else if(e){var r=this._events[t];if(r){var i=N(r,function(t){return t.listener===e});i>-1&&r.splice(i,1)}}else this._events[t]=[]}else this._events={};return this},e.once=function(t,e){var n=this;return e&&this._addEvent(t,e,{once:!0}),new Promise(function(e){n._addEvent(t,e,{once:!0})})},e.emit=function(t,e){var n=this;void 0===e&&(e={});var r=this._events[t];if(!t||!r)return!0;var i=!1;return e.eventType=t,e.stop=function(){i=!0},e.currentTarget=this,(function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r})(r).forEach(function(r){r.listener(e),r.once&&n.off(t,r.listener)}),!i},e.trigger=function(t,e){return void 0===e&&(e={}),this.emit(t,e)},e._addEvent=function(t,e,n){var r=this._events;r[t]=r[t]||[],r[t].push(tU({listener:e},n))},t}(),tK=function(t,e){return(tK=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},t$=function(){return(t$=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function tJ(t,e){return t.addEventListener("scroll",e),function(){t.removeEventListener("scroll",e)}}function tQ(t){return t?O(t)?document.querySelector(t):T(t)?t():t instanceof Element?t:"current"in t?t.current:"value"in t?t.value:void 0:null}var t0=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._startRect=null,e._startPos=[],e._prevTime=0,e._timer=0,e._prevScrollPos=[0,0],e._isWait=!1,e._flag=!1,e._currentOptions=null,e._lock=!1,e._unregister=null,e._onScroll=function(){var t=e._currentOptions;!e._lock&&t&&e.emit("scrollDrag",{next:function(n){e.checkScroll({container:t.container,inputEvent:n})}})},e}!function(t,e){function n(){this.constructor=t}tK(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t);var n=e.prototype;return n.dragStart=function(t,e){var n=tQ(e.container);if(!n){this._flag=!1;return}var r=0,i=0,o=0,a=0;if(n===document.body)o=window.innerWidth,a=window.innerHeight;else{var s=n.getBoundingClientRect();r=s.top,i=s.left,o=s.width,a=s.height}this._flag=!0,this._startPos=[t.clientX,t.clientY],this._startRect={top:r,left:i,width:o,height:a},this._prevScrollPos=this._getScrollPosition([0,0],e),this._currentOptions=e,this._registerScrollEvent(e)},n.drag=function(t,e){if(clearTimeout(this._timer),this._flag){var n=t.clientX,r=t.clientY,i=e.threshold,o=void 0===i?0:i,a=this._startRect,s=this._startPos;this._currentOptions=e;var u=[0,0];return a.top>r-o?(s[1]>a.top||r<s[1])&&(u[1]=-1):a.top+a.height<r+o&&(s[1]<a.top+a.height||r>s[1])&&(u[1]=1),a.left>n-o?(s[0]>a.left||n<s[0])&&(u[0]=-1):a.left+a.width<n+o&&(s[0]<a.left+a.width||n>s[0])&&(u[0]=1),(!!u[0]||!!u[1])&&this._continueDrag(t$(t$({},e),{direction:u,inputEvent:t,isDrag:!0}))}},n.checkScroll=function(t){var e=this;if(this._isWait)return!1;var n=t.prevScrollPos,r=void 0===n?this._prevScrollPos:n,i=t.direction,o=t.throttleTime,a=void 0===o?0:o,s=t.inputEvent,u=t.isDrag,l=this._getScrollPosition(i||[0,0],t),c=l[0]-r[0],f=l[1]-r[1],p=i||[c?Math.abs(c)/c:0,f?Math.abs(f)/f:0];return this._prevScrollPos=l,this._lock=!1,(!!c||!!f)&&(this.emit("move",{offsetX:p[0]?c:0,offsetY:p[1]?f:0,inputEvent:s}),a&&u&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){e._continueDrag(t)},a)),!0)},n.dragEnd=function(){this._flag=!1,this._lock=!1,clearTimeout(this._timer),this._unregisterScrollEvent()},n._getScrollPosition=function(t,e){var n=e.container,r=e.getScrollPosition;return(void 0===r?function(t){var e=t.container;return e===document.body?[e.scrollLeft||document.documentElement.scrollLeft,e.scrollTop||document.documentElement.scrollTop]:[e.scrollLeft,e.scrollTop]}:r)({container:tQ(n),direction:t})},n._continueDrag=function(t){var e,n=this,r=t.container,i=t.direction,o=t.throttleTime,a=t.useScroll,s=t.isDrag,u=t.inputEvent;if(this._flag&&(!s||!this._isWait)){var l=F(),c=Math.max(o+this._prevTime-l,0);if(c>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){n._continueDrag(t)},c),!1;this._prevTime=l;var f=this._getScrollPosition(i,t);this._prevScrollPos=f,s&&(this._isWait=!0),a||(this._lock=!0);var p={container:tQ(r),direction:i,inputEvent:u};return null===(e=t.requestScroll)||void 0===e||e.call(t,p),this.emit("scroll",p),this._isWait=!1,a||this.checkScroll(t$(t$({},t),{prevScrollPos:f,direction:i,inputEvent:u}))}},n._registerScrollEvent=function(t){this._unregisterScrollEvent();var e=t.checkScrollEvent;if(e){var n=!0===e?tJ:e,r=tQ(t.container);!0===e&&(r===document.body||r===document.documentElement)?this._unregister=tJ(window,this._onScroll):this._unregister=n(r,this._onScroll)}},n._unregisterScrollEvent=function(){var t;null===(t=this._unregister)||void 0===t||t.call(this),this._unregister=null},e}(tZ);function t1(t){return J(t,1e-7)}function t2(t){return t.length<3?0:Math.abs(function(t){for(var e=t.length,n=0,r=e-1;r>=0;--r)n+=t[r];return n}(t.map(function(e,n){var r=t[n+1]||t[0];return e[0]*r[1]-r[0]*e[1]})))/2}function t3(t,e){var n=e.width,r=e.height,i=e.left,o=e.top,a=t4(t),s=a.minX,u=a.minY,l=a.maxX,c=a.maxY,f=n/(l-s),p=r/(c-u);return t.map(function(t){return[i+(t[0]-s)*f,o+(t[1]-u)*p]})}function t4(t){var e=t.map(function(t){return t[0]}),n=t.map(function(t){return t[1]});return{minX:Math.min.apply(Math,e),minY:Math.min.apply(Math,n),maxX:Math.max.apply(Math,e),maxY:Math.max.apply(Math,n)}}function t5(t,e,n){var r=t[0],i=t[1],o=t4(e),a=[[o.minX,i],[o.maxX,i]],s=t6(a[0],a[1]),u=t9(e),l=[];if(u.forEach(function(e){var n=t6(e[0],e[1]),r=e[0];s.every(function(t,e){return 0===t1(t-n[e])})?l.push({pos:t,line:e,type:"line"}):t7(t8(s,n),[a,e]).forEach(function(t){e.some(function(e){return!t1(e[0]-t[0])&&!t1(e[1]-t[1])})?l.push({pos:t,line:e,type:"point"}):0!==t1(r[1]-i)&&l.push({pos:t,line:e,type:"intersection"})})}),!n&&Y(l,function(t){return t[0]===r}))return!0;var c=0,f={};return l.forEach(function(t){var e=t.pos,n=t.type,o=t.line;if(!(e[0]>r)){if("intersection"===n)++c;else if("line"===n)return;else if("point"===n){var a=Y(o,function(t){return t[1]!==i}),s=f[e[0]],u=a[1]>i?1:-1;s?s!==u&&++c:f[e[0]]=u}}}),c%2==1}function t6(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=i-n,s=o-r;1e-7>Math.abs(a)&&(a=0),1e-7>Math.abs(s)&&(s=0);var u=0,l=0,c=0;return a?s?(l=1,c=-(u=-s/a)*n-r):(l=1,c=-r):s&&(u=-1,c=n),[u,l,c]}function t8(t,e){var n=t[0],r=t[1],i=t[2],o=e[0],a=e[1],s=e[2],u=0===n&&0===o,l=0===r&&0===a,c=[];if(u&&l)return[];if(u){var f=-i/r;return f!==-s/a?[]:[[-1/0,f],[1/0,f]]}if(l){var p=-i/n;return p!==-s/o?[]:[[p,-1/0],[p,1/0]]}if(0===n){var d=-i/r,h=-(a*d+s)/o;c=[[h,d]]}else if(0===o){var d=-s/a,h=-(r*d+i)/n;c=[[h,d]]}else if(0===r){var h=-i/n,d=-(o*h+s)/a;c=[[h,d]]}else if(0===a){var h=-s/o,d=-(n*h+i)/r;c=[[h,d]]}else{var h=(r*s-a*i)/(a*n-r*o),d=-(n*h+i)/r;c=[[h,d]]}return c.map(function(t){return[t[0],t[1]]})}function t7(t,e){var n=e.map(function(t){return[0,1].map(function(e){return[Math.min(t[0][e],t[1][e]),Math.max(t[0][e],t[1][e])]})}),r=[];if(2===t.length){var i=t[0],o=i[0],a=i[1];if(t1(o-t[1][0])){if(!t1(a-t[1][1])){var s=Math.max.apply(Math,n.map(function(t){return t[0][0]})),u=Math.min.apply(Math,n.map(function(t){return t[0][1]}));if(t1(s-u)>0)return[];r=[[s,a],[u,a]]}}else{var l=Math.max.apply(Math,n.map(function(t){return t[1][0]})),c=Math.min.apply(Math,n.map(function(t){return t[1][1]}));if(t1(l-c)>0)return[];r=[[o,l],[o,c]]}}return r.length||(r=t.filter(function(t){var e=t[0],r=t[1];return n.every(function(t){return 0<=t1(e-t[0][0])&&0<=t1(t[0][1]-e)&&0<=t1(r-t[1][0])&&0<=t1(t[1][1]-r)})})),r.map(function(t){return[t1(t[0]),t1(t[1])]})}function t9(t){return(/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r})(t.slice(1),[t[0]]).map(function(e,n){return[t[n],e]}))}var et=n(7577),ee=function(t,e){return(ee=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},en=function(){return(en=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function er(t){var e,n,r,i;return e=[t[0].clientX,t[0].clientY],r=(n=[t[1].clientX,t[1].clientY])[0]-e[0],((i=Math.atan2(n[1]-e[1],r))>=0?i:i+2*Math.PI)/Math.PI*180}function ei(t){return t?t.touches?function(t){for(var e=Math.min(t.length,2),n=[],r=0;r<e;++r)n.push(es(t[r]));return n}(t.touches):[es(t)]:[]}function eo(t,e,n){var r=n.length,i=eu(t,r),o=i.clientX,a=i.clientY,s=i.originalClientX,u=i.originalClientY,l=eu(e,r),c=l.clientX,f=l.clientY,p=eu(n,r);return{clientX:s,clientY:u,deltaX:o-c,deltaY:a-f,distX:o-p.clientX,distY:a-p.clientY}}function ea(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function es(t){return{clientX:t.clientX,clientY:t.clientY}}function eu(t,e){void 0===e&&(e=t.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},r=Math.min(t.length,e),i=0;i<r;++i){var o=t[i];n.originalClientX+="originalClientX"in o?o.originalClientX:o.clientX,n.originalClientY+="originalClientY"in o?o.originalClientY:o.clientY,n.clientX+=o.clientX,n.clientY+=o.clientY}return e?{clientX:n.clientX/e,clientY:n.clientY/e,originalClientX:n.originalClientX/e,originalClientY:n.originalClientY/e}:n}var el=function(){function t(t){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=t,this.prevClients=t,this.length=t.length}return t.prototype.getAngle=function(t){return void 0===t&&(t=this.prevClients),er(t)},t.prototype.getRotation=function(t){return void 0===t&&(t=this.prevClients),er(t)-er(this.startClients)},t.prototype.getPosition=function(t,e){void 0===t&&(t=this.prevClients);var n=eo(t||this.prevClients,this.prevClients,this.startClients),r=n.deltaX,i=n.deltaY;return this.movement+=Math.sqrt(r*r+i*i),this.prevClients=t,n},t.prototype.getPositions=function(t){void 0===t&&(t=this.prevClients);for(var e=this.prevClients,n=this.startClients,r=Math.min(this.length,e.length),i=[],o=0;o<r;++o)i[o]=eo([t[o]],[e[o]],[n[o]]);return i},t.prototype.getMovement=function(t){var e=this.movement;if(!t)return e;var n=eu(t,this.length),r=eu(this.prevClients,this.length),i=n.clientX-r.clientX,o=n.clientY-r.clientY;return Math.sqrt(i*i+o*o)+e},t.prototype.getDistance=function(t){return void 0===t&&(t=this.prevClients),ea(t)},t.prototype.getScale=function(t){return void 0===t&&(t=this.prevClients),ea(t)/ea(this.startClients)},t.prototype.move=function(t,e){this.startClients.forEach(function(n){n.clientX-=t,n.clientY-=e}),this.prevClients.forEach(function(n){n.clientX-=t,n.clientY-=e})},t}(),ec=["textarea","input"],ef=function(t){function e(e,n){void 0===n&&(n={});var r=t.call(this)||this;r.options={},r.flag=!1,r.pinchFlag=!1,r.data={},r.isDrag=!1,r.isPinch=!1,r.clientStores=[],r.targets=[],r.prevTime=0,r.doubleFlag=!1,r._useMouse=!1,r._useTouch=!1,r._useDrag=!1,r._dragFlag=!1,r._isTrusted=!1,r._isMouseEvent=!1,r._isSecondaryButton=!1,r._preventMouseEvent=!1,r._prevInputEvent=null,r._isDragAPI=!1,r._isIdle=!0,r._preventMouseEventId=0,r._window=window,r.onDragStart=function(t,e){if(void 0===e&&(e=!0),r.flag||!1!==t.cancelable){var n,i=t.type.indexOf("drag")>=-1;if(!r.flag||!i){r._isDragAPI=!0;var o=r.options,a=o.container,s=o.pinchOutside,u=o.preventWheelClick,l=o.preventRightClick,c=o.preventDefault,f=o.checkInput,p=o.dragFocusedInput,d=o.preventClickEventOnDragStart,h=o.preventClickEventOnDrag,v=o.preventClickEventByCondition,g=r._useTouch,m=!r.flag;if(r._isSecondaryButton=3===t.which||2===t.button,u&&(2===t.which||1===t.button)||l&&(3===t.which||2===t.button))return r.stop(),!1;if(m){var b=r._window.document.activeElement,x=t.target;if(x){var y=x.tagName.toLowerCase(),S=ec.indexOf(y)>-1,E=x.isContentEditable;if(S||E){if(f||!p&&b===x)return!1;if(b&&(b===x||E&&b.isContentEditable&&b.contains(x))){if(!p)return!1;x.blur()}}else if((c||"touchstart"===t.type)&&b){var D=b.tagName.toLowerCase();(b.isContentEditable||ec.indexOf(D)>-1)&&b.blur()}(d||h||v)&&tr(r._window,"click",r._onClick,!0)}r.clientStores=[new el(ei(t))],r._isIdle=!1,r.flag=!0,r.isDrag=!1,r._isTrusted=e,r._dragFlag=!0,r._prevInputEvent=t,r.data={},r.doubleFlag=F()-r.prevTime<200,r._isMouseEvent=t&&(t.type.indexOf("mouse")>-1||"button"in t),!r._isMouseEvent&&r._preventMouseEvent&&r._allowMouseEvent(),!1===(r._preventMouseEvent||r.emit("dragStart",en(en({data:r.data,datas:r.data,inputEvent:t,isMouseEvent:r._isMouseEvent,isSecondaryButton:r._isSecondaryButton,isTrusted:e,isDouble:r.doubleFlag},r.getCurrentStore().getPosition()),{preventDefault:function(){t.preventDefault()},preventDrag:function(){r._dragFlag=!1}})))&&r.stop(),r._isMouseEvent&&r.flag&&c&&t.preventDefault()}if(!r.flag)return!1;var C=0;if(m?(r._attchDragEvent(),g&&s&&(C=setTimeout(function(){tr(a,"touchstart",r.onDragStart,{passive:!1})}))):g&&s&&ti(a,"touchstart",r.onDragStart),r.flag&&(n=t).touches&&n.touches.length>=2){if(clearTimeout(C),m&&t.touches.length!==t.changedTouches.length)return;r.pinchFlag||r.onPinchStart(t)}}}},r.onDrag=function(t,e){if(r.flag){var n=r.options.preventDefault;!r._isMouseEvent&&n&&t.preventDefault(),r._prevInputEvent=t;var i=ei(t),o=r.moveClients(i,t,!1);if(r._dragFlag){if((r.pinchFlag||o.deltaX||o.deltaY)&&!1===(r._preventMouseEvent||r.emit("drag",en(en({},o),{isScroll:!!e,inputEvent:t})))){r.stop();return}r.pinchFlag&&r.onPinch(t,i)}r.getCurrentStore().getPosition(i,!0)}},r.onDragEnd=function(t){if(r.flag){var e=r.options,n=e.pinchOutside,i=e.container,o=e.preventClickEventOnDrag,a=e.preventClickEventOnDragStart,s=e.preventClickEventByCondition,u=r.isDrag;(o||a||s)&&requestAnimationFrame(function(){r._allowClickEvent()}),s||a||!o||u||r._allowClickEvent(),r._useTouch&&n&&ti(i,"touchstart",r.onDragStart),r.pinchFlag&&r.onPinchEnd(t);var l=(null==t?void 0:t.touches)?ei(t):[];0!==l.length&&r.options.keepDragging?r._addStore(new el(l)):r.flag=!1;var c=r._getPosition(),f=F(),p=!u&&r.doubleFlag;r._prevInputEvent=null,r.prevTime=u||p?0:f,r.flag||(r._dettachDragEvent(),r._preventMouseEvent||r.emit("dragEnd",en({data:r.data,datas:r.data,isDouble:p,isDrag:u,isClick:!u,isMouseEvent:r._isMouseEvent,isSecondaryButton:r._isSecondaryButton,inputEvent:t,isTrusted:r._isTrusted},c)),r.clientStores=[],r._isMouseEvent||(r._preventMouseEvent=!0,clearTimeout(r._preventMouseEventId),r._preventMouseEventId=setTimeout(function(){r._preventMouseEvent=!1},200)),r._isIdle=!0)}},r.onBlur=function(){r.onDragEnd()},r._allowClickEvent=function(){ti(r._window,"click",r._onClick,!0)},r._onClick=function(t){r._allowClickEvent(),r._allowMouseEvent();var e=r.options.preventClickEventByCondition;null!=e&&e(t)||(t.stopPropagation(),t.preventDefault())},r._onContextMenu=function(t){r.options.preventRightClick?r.onDragEnd(t):t.preventDefault()},r._passCallback=function(){};var i=[].concat(e),o=i[0];r._window=tl(o)?o:tu(o),r.options=en({checkInput:!1,container:!o||"document"in o?o:tu(o),preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},n);var a=r.options,s=a.container,u=a.events,l=a.checkWindowBlur;if(r._useDrag=u.indexOf("drag")>-1,r._useTouch=u.indexOf("touch")>-1,r._useMouse=u.indexOf("mouse")>-1,r.targets=i,r._useDrag&&i.forEach(function(t){tr(t,"dragstart",r.onDragStart)}),r._useMouse&&(i.forEach(function(t){tr(t,"mousedown",r.onDragStart),tr(t,"mousemove",r._passCallback)}),tr(s,"contextmenu",r._onContextMenu)),l&&tr(tu(),"blur",r.onBlur),r._useTouch){var c={passive:!1};i.forEach(function(t){tr(t,"touchstart",r.onDragStart,c),tr(t,"touchmove",r._passCallback,c)})}return r}return function(t,e){function n(){this.constructor=t}ee(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},e.prototype.getMovement=function(t){return this.getCurrentStore().getMovement(t)+this.clientStores.slice(1).reduce(function(t,e){return t+e.movement},0)},e.prototype.isDragging=function(){return this.isDrag},e.prototype.isIdle=function(){return this._isIdle},e.prototype.isFlag=function(){return this.flag},e.prototype.isPinchFlag=function(){return this.pinchFlag},e.prototype.isDoubleFlag=function(){return this.doubleFlag},e.prototype.isPinching=function(){return this.isPinch},e.prototype.scrollBy=function(t,e,n,r){void 0===r&&(r=!0),this.flag&&(this.clientStores[0].move(t,e),r&&this.onDrag(n,!0))},e.prototype.move=function(t,e){var n=t[0],r=t[1],i=this.getCurrentStore().prevClients;return this.moveClients(i.map(function(t){var e=t.clientX,i=t.clientY;return{clientX:e+n,clientY:i+r,originalClientX:e,originalClientY:i}}),e,!0)},e.prototype.triggerDragStart=function(t){this.onDragStart(t,!1)},e.prototype.setEventData=function(t){var e=this.data;for(var n in t)e[n]=t[n];return this},e.prototype.setEventDatas=function(t){return this.setEventData(t)},e.prototype.getCurrentEvent=function(t){return void 0===t&&(t=this._prevInputEvent),en(en({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:t})},e.prototype.getEventData=function(){return this.data},e.prototype.getEventDatas=function(){return this.data},e.prototype.unset=function(){var t=this,e=this.targets,n=this.options.container;this.off(),ti(this._window,"blur",this.onBlur),this._useDrag&&e.forEach(function(e){ti(e,"dragstart",t.onDragStart)}),this._useMouse&&(e.forEach(function(e){ti(e,"mousedown",t.onDragStart)}),ti(n,"contextmenu",this._onContextMenu)),this._useTouch&&(e.forEach(function(e){ti(e,"touchstart",t.onDragStart)}),ti(n,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},e.prototype.onPinchStart=function(t){var e=this,n=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>n)){var r=new el(ei(t));this.pinchFlag=!0,this._addStore(r),!1===this.emit("pinchStart",en(en({data:this.data,datas:this.data,angle:r.getAngle(),touches:this.getCurrentStore().getPositions()},r.getPosition()),{inputEvent:t,isTrusted:this._isTrusted,preventDefault:function(){t.preventDefault()},preventDrag:function(){e._dragFlag=!1}}))&&(this.pinchFlag=!1)}},e.prototype.onPinch=function(t,e){if(this.flag&&this.pinchFlag&&!(e.length<2)){var n=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",en(en({data:this.data,datas:this.data,movement:this.getMovement(e),angle:n.getAngle(e),rotation:n.getRotation(e),touches:n.getPositions(e),scale:n.getScale(e),distance:n.getDistance(e)},n.getPosition(e)),{inputEvent:t,isTrusted:this._isTrusted}))}},e.prototype.onPinchEnd=function(t){if(this.pinchFlag){var e=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var n=this.getCurrentStore();this.emit("pinchEnd",en(en({data:this.data,datas:this.data,isPinch:e,touches:n.getPositions()},n.getPosition()),{inputEvent:t}))}},e.prototype.getCurrentStore=function(){return this.clientStores[0]},e.prototype.moveClients=function(t,e,n){var r=this._getPosition(t,n),i=this.isDrag;(r.deltaX||r.deltaY)&&(this.isDrag=!0);var o=!1;return!i&&this.isDrag&&(o=!0),en(en({data:this.data,datas:this.data},r),{movement:this.getMovement(t),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:e,isTrusted:this._isTrusted,isFirstDrag:o})},e.prototype._addStore=function(t){this.clientStores.splice(0,0,t)},e.prototype._getPosition=function(t,e){var n=this.getCurrentStore().getPosition(t,e),r=this.clientStores.slice(1).reduce(function(t,e){var n=e.getPosition();return t.distX+=n.distX,t.distY+=n.distY,t},n),i=r.distX,o=r.distY;return en(en({},n),{distX:i,distY:o})},e.prototype._attchDragEvent=function(){var t=this._window,e=this.options.container,n={passive:!1};this._isDragAPI&&(tr(e,"dragover",this.onDrag,n),tr(t,"dragend",this.onDragEnd)),this._useMouse&&(tr(e,"mousemove",this.onDrag),tr(t,"mouseup",this.onDragEnd)),this._useTouch&&(tr(e,"touchmove",this.onDrag,n),tr(t,"touchend",this.onDragEnd,n),tr(t,"touchcancel",this.onDragEnd,n))},e.prototype._dettachDragEvent=function(){var t=this._window,e=this.options.container;this._isDragAPI&&(ti(e,"dragover",this.onDrag),ti(t,"dragend",this.onDragEnd)),this._useMouse&&(ti(e,"mousemove",this.onDrag),ti(t,"mouseup",this.onDragEnd)),this._useTouch&&(ti(e,"touchstart",this.onDragStart),ti(e,"touchmove",this.onDrag),ti(t,"touchend",this.onDragEnd),ti(t,"touchcancel",this.onDragEnd))},e.prototype._allowMouseEvent=function(){this._preventMouseEvent=!1,clearTimeout(this._preventMouseEventId)},e}(tZ),ep=function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0};let ed=function(t){var e="rCS"+ep(t).toString(36);return{className:e,inject:function(n,r){void 0===r&&(r={});var i,o,a,s=function(t){if(t&&t.getRootNode){var e=t.getRootNode();if(11===e.nodeType)return e}}(n),u=(s||n.ownerDocument||document).querySelector('style[data-styled-id="'.concat(e,'"]'));if(u){var l=parseFloat(u.getAttribute("data-styled-count"))||0;u.setAttribute("data-styled-count","".concat(l+1))}else i=r,(a=(o=to(n)).createElement("style")).setAttribute("type","text/css"),a.setAttribute("data-styled-id",e),a.setAttribute("data-styled-count","1"),i.nonce&&a.setAttribute("nonce",i.nonce),a.innerHTML=i.original?t:t.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(t,n){var r=n.trim();return(r?I(r):[""]).map(function(t){var n=t.trim();return 0===n.indexOf("@")?n:n.indexOf(":global")>-1?n.replace(/\:global/g,""):n.indexOf(":host")>-1?"".concat(n.replace(/\:host/g,".".concat(e))):n?".".concat(e," ").concat(n):".".concat(e)}).join(", ")+" {"}),(s||o.head||o.body).appendChild(a),u=a;return{destroy:function(){var t,e=parseFloat(u.getAttribute("data-styled-count"))||0;e<=1?(u.remove?u.remove():null===(t=u.parentNode)||void 0===t||t.removeChild(u),u=null):u.setAttribute("data-styled-count","".concat(e-1))}}}}};var eh=function(){return(eh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function ev(t,e){var n=ed(e),r=n.className;return(0,et.forwardRef)(function(e,i){var o=e.className,a=(e.cspNonce,function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}(e,["className","cspNonce"])),s=(0,et.useRef)();return(0,et.useImperativeHandle)(i,function(){return s.current},[]),(0,et.useEffect)(function(){var t=n.inject(s.current,{nonce:e.cspNonce});return function(){t.destroy()}},[]),(0,et.createElement)(t,eh({ref:s,"data-styled-id":r,className:"".concat(void 0===o?"":o," ").concat(r)},a))})}var eg=function(t,e){return(eg=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function em(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}eg(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var eb=function(){return(eb=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function ex(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function ey(t,e,n){if(n||2==arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function eS(t,e){return eb({events:[],props:[],name:t},e)}var eE=["n","w","s","e"],eD=["n","w","s","e","nw","ne","sw","se"],eC=!function(){if("undefined"==typeof navigator||!navigator||!navigator.userAgentData)return!1;var t=navigator.userAgentData,e=t.brands||t.uaList;return!!(e&&e.length)}()?function(t){var e=o(t),n=!!/mobi/g.exec(e),r={name:"unknown",version:"-1",majorVersion:-1,webview:m(e),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},i={name:"unknown",version:"-1",majorVersion:-1},a=u(p,e),s=a.preset,l=a.version,c=u(g,e),f=c.preset,v=c.version,b=u(d,e);if(r.chromium=!!b.preset,r.chromiumVersion=b.version,!r.chromium){var x=u(h,e);r.webkit=!!x.preset,r.webkitVersion=x.version}return f&&(i.name=f.id,i.version=v,i.majorVersion=parseInt(v,10)),s&&(r.name=s.id,r.version=l,r.webview&&"ios"===i.name&&"safari"!==r.name&&(r.webview=!1)),r.majorVersion=parseInt(r.version,10),{browser:r,os:i,isMobile:n,isHints:!1}}(void 0):function(t){var e=navigator.userAgentData,n=(e.uaList||e.brands).slice(),a=void 0,u=e.mobile||!1,f=n[0],b=(0,e.platform||navigator.platform).toLowerCase(),x={name:f.brand,version:f.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!l(v,n).brand||m(o())},y={name:"unknown",version:"-1",majorVersion:-1};x.webkit=!x.chromium&&r(h,function(t){return c(n,t)});var S=l(d,n);if(x.chromium=!!S.brand,x.chromiumVersion=S.version||"-1",!x.chromium){var E=l(h,n);x.webkit=!!E.brand,x.webkitVersion=E.version||"-1"}var D=i(g,function(t){return RegExp(""+t.test,"g").exec(b)});if(y.name=D?D.id:"",t&&(y.version=t.platformVersion||"-1"),a&&a.length){var C=l(p,a);x.name=C.brand||x.name,x.version=C.version||x.version}else{var w=l(p,n);x.name=w.brand||x.name,x.version=w.brand&&t?t.uaFullVersion:w.version}return x.webkit&&(y.name=u?"ios":"mac"),"ios"===y.name&&x.webview&&(x.version="-1"),y.version=s(y.version),x.version=s(x.version),y.majorVersion=parseInt(y.version,10),x.majorVersion=parseInt(x.version,10),{browser:x,os:y,isMobile:u,isHints:!0}}(),ew=eC.browser.webkit,eM=ew&&function(){var t="undefined"==typeof window?{userAgent:""}:window.navigator,e=/applewebkit\/([^\s]+)/g.exec(t.userAgent.toLowerCase());return!!e&&605>parseFloat(e[1])}(),eR=eC.browser.name,e_=parseInt(eC.browser.version,10),eO=eC.browser.chromium,eP=parseInt(eC.browser.chromiumVersion,10)||0,eT="chrome"===eR&&e_>=109||eO&&eP>=109,ez="firefox"===eR,eG=parseInt(eC.browser.webkitVersion,10)>=612||e_>=15,ek="moveable-",eI=eD.map(function(t){var e="",n="",r="center",i="center",o="calc(var(--moveable-control-padding, 20) * -1px)";return t.indexOf("n")>-1&&(e="top: ".concat(o,";"),i="bottom"),t.indexOf("s")>-1&&(e="top: 0px;",i="top"),t.indexOf("w")>-1&&(n="left: ".concat(o,";"),r="right"),t.indexOf("e")>-1&&(n="left: 0px;",r="left"),'.around-control[data-direction*="'.concat(t,'"] {\n        ').concat(n).concat(e,"\n        transform-origin: ").concat(r," ").concat(i,";\n    }")}).join("\n"),eB="\n{\nposition: absolute;\nwidth: 1px;\nheight: 1px;\nleft: 0;\ntop: 0;\nz-index: 3000;\n--moveable-color: #4af;\n--zoom: 1;\n--zoompx: 1px;\n--moveable-line-padding: 0;\n--moveable-control-padding: 0;\nwill-change: transform;\noutline: 1px solid transparent;\n}\n.control-box {\nz-index: 0;\n}\n.line, .control {\nposition: absolute;\nleft: 0;\ntop: 0;\nwill-change: transform;\n}\n.control {\nwidth: 14px;\nheight: 14px;\nborder-radius: 50%;\nborder: 2px solid #fff;\nbox-sizing: border-box;\nbackground: #4af;\nbackground: var(--moveable-color);\nmargin-top: -7px;\nmargin-left: -7px;\nborder: 2px solid #fff;\nz-index: 10;\n}\n.around-control {\nposition: absolute;\nwill-change: transform;\nwidth: calc(var(--moveable-control-padding, 20) * 1px);\nheight: calc(var(--moveable-control-padding, 20) * 1px);\nleft: calc(var(--moveable-control-padding, 20) * -0.5px);\ntop: calc(var(--moveable-control-padding, 20) * -0.5px);\nbox-sizing: border-box;\nbackground: transparent;\nz-index: 8;\ncursor: alias;\ntransform-origin: center center;\n}\n".concat(eI,"\n.padding {\nposition: absolute;\ntop: 0px;\nleft: 0px;\nwidth: 100px;\nheight: 100px;\ntransform-origin: 0 0;\n}\n.line {\nwidth: 1px;\nheight: 1px;\nbackground: #4af;\nbackground: var(--moveable-color);\ntransform-origin: 0px 50%;\n}\n.line.edge {\nz-index: 1;\nbackground: transparent;\n}\n.line.dashed {\nbox-sizing: border-box;\nbackground: transparent;\n}\n.line.dashed.horizontal {\nborder-top: 1px dashed #4af;\nborder-top-color: #4af;\nborder-top-color: var(--moveable-color);\n}\n.line.dashed.vertical {\nborder-left: 1px dashed #4af;\nborder-left-color: #4af;\nborder-left-color: var(--moveable-color);\n}\n.line.vertical {\ntransform: translateX(-50%);\n}\n.line.horizontal {\ntransform: translateY(-50%);\n}\n.line.vertical.bold {\nwidth: 2px;\n}\n.line.horizontal.bold {\nheight: 2px;\n}\n\n.control.origin {\nborder-color: #f55;\nbackground: #fff;\nwidth: 12px;\nheight: 12px;\nmargin-top: -6px;\nmargin-left: -6px;\npointer-events: none;\n}\n").concat([0,15,30,45,60,75,90,105,120,135,150,165].map(function(t){var e,n,r;return'\n.direction[data-rotation="'.concat(t,'"], :global .view-control-rotation').concat(t," {\n").concat((e='data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32,'px" height="').concat(32,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(t,'deg);transform-origin: 16px 16px"></path></svg>'),r="ns-resize",135==(n=45*Math.round(t/45)%180)?r="nwse-resize":45===n?r="nesw-resize":90===n&&(r="ew-resize"),"cursor:".concat(r,";cursor: url('").concat(e,"') 16 16, ").concat(r,";")),"\n}\n")}).join("\n"),'\n\n.line.direction:before {\ncontent: "";\nposition: absolute;\nwidth: 100%;\nheight: calc(var(--moveable-line-padding, 0) * 1px);\nbottom: 0;\nleft: 0;\n}\n.group {\nz-index: -1;\n}\n.area {\nposition: absolute;\n}\n.area-pieces {\nposition: absolute;\ntop: 0;\nleft: 0;\ndisplay: none;\n}\n.area.avoid, .area.pass {\npointer-events: none;\n}\n.area.avoid+.area-pieces {\ndisplay: block;\n}\n.area-piece {\nposition: absolute;\n}\n\n').concat(eM?':global svg *:before {\ncontent:"";\ntransform-origin: inherit;\n}':"","\n"),eA=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],eF={n:[0,-1],e:[1,0],s:[0,1],w:[-1,0],nw:[-1,-1],ne:[1,-1],sw:[-1,1],se:[1,1]},eN={n:[0,1],e:[1,3],s:[3,2],w:[2,0],nw:[0],ne:[1],sw:[2],se:[3]},eY={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},eq=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate","waitToChangeTarget","updateSelectors","getTargets","stopDrag","getControlBoxElement","getMoveables","getDragElement"];function eX(t,e,n,r,i,o){void 0===o&&(o="draggable");var a,s,u=null!==(s=null===(a=e.gestos[o])||void 0===a?void 0:a.move(n,t.inputEvent))&&void 0!==s?s:{},l=u.originalDatas||u.datas,c=l[o]||(l[o]={});return eb(eb({},i?r9(e,u):u),{isPinch:!!r,parentEvent:!0,datas:c,originalDatas:t.originalDatas})}var eW=function(){function t(t){var e;void 0===t&&(t="draggable"),this.ableName=t,this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},this.datas=((e={})[t]={},e)}return t.prototype.dragStart=function(t,e){this.isDrag=!1,this.isFlag=!1;var n=e.originalDatas;return this.datas=n,n[this.ableName]||(n[this.ableName]={}),eb(eb({},this.move(t,e.inputEvent)),{type:"dragstart"})},t.prototype.drag=function(t,e){return this.move([t[0]-this.prevX,t[1]-this.prevY],e)},t.prototype.move=function(t,e){var n,r,i=!1;if(this.isFlag){var o=this.isDrag;n=this.prevX+t[0],r=this.prevY+t[1],(t[0]||t[1])&&(this.isDrag=!0),!o&&this.isDrag&&(i=!0)}else this.prevX=t[0],this.prevY=t[1],this.startX=t[0],this.startY=t[1],n=t[0],r=t[1],this.isFlag=!0;return this.prevX=n,this.prevY=r,{type:"drag",clientX:n,clientY:r,inputEvent:e,isFirstDrag:i,isDrag:this.isDrag,distX:n-this.startX,distY:r-this.startY,deltaX:t[0],deltaY:t[1],datas:this.datas[this.ableName],originalDatas:this.datas,parentEvent:!0,parentGesto:this}},t}();function ej(t,e,n,r){var i=16===t.length?4:3,o=ex(rP(t,n,r,i),4),a=ex(o[0],2),s=a[0],u=a[1],l=ex(o[1],2),c=l[0],f=l[1],p=ex(o[2],2),d=p[0],h=p[1],v=ex(o[3],2),g=v[0],m=v[1],b=ex(rO(t,e,i),2),x=b[0],y=b[1],S=Math.min(s,c,d,g),E=Math.min(u,f,h,m),D=Math.max(s,c,d,g),C=Math.max(u,f,h,m);return s=s-S||0,c=c-S||0,d=d-S||0,g=g-S||0,u=u-E||0,f=f-E||0,h=h-E||0,m=m-E||0,x=x-S||0,y=y-E||0,{left:S,top:E,right:D,bottom:C,origin:[x,y],pos1:[s,u],pos2:[c,f],pos3:[d,h],pos4:[g,m],direction:ih(t[0]*t[i+1])}}function eH(t,e){var n=e.clientX,r=e.clientY,i=e.datas,o=t.state,a=o.moveableClientRect,s=o.rootMatrix,u=o.is3d,l=o.pos1,c=ex(tx(r7(s,[n-a.left,r-a.top],u?4:3),l),2),f=ex(e$({datas:i,distX:c[0],distY:c[1]}),2);return[f[0],f[1]]}function eL(t,e){var n=e.datas,r=t.state,i=r.allMatrix,o=r.beforeMatrix,a=r.is3d,s=r.left,u=r.top,l=r.origin,c=r.offsetMatrix,f=r.targetMatrix,p=r.transformOrigin,d=a?4:3;n.is3d=a,n.matrix=i,n.targetMatrix=f,n.beforeMatrix=o,n.offsetMatrix=c,n.transformOrigin=p,n.inverseMatrix=tp(i,d),n.inverseBeforeMatrix=tp(o,d),n.absoluteOrigin=th(tb([s,u],l),d),n.startDragBeforeDist=tS(n.inverseBeforeMatrix,n.absoluteOrigin,d),n.startDragDist=tS(n.inverseMatrix,n.absoluteOrigin,d)}function eV(t,e,n){var r,i,o,a,s,u,l,c,f,p,d,h,v,g,m,b,x,y,S,E,D=e.datas,C=e.originalDatas.beforeRenderable,w=D.transformIndex,M=C.nextTransforms,R=M.length,_=C.nextTransformAppendedIndexes,O=-1;-1===w?("translate"===n?O=0:"rotate"===n&&(O=N(M,function(t){return t.match(/scale\(/g)})),-1===O&&(O=M.length),D.transformIndex=O):O=Y(_,function(t){return t.index===w&&t.functionName===n})?w:w+_.filter(function(t){return t.index<w}).length;var P=(r=t.state,i=O,a=tA(M,{"x%":function(t){return t/100*r.offsetWidth},"y%":function(t){return t/100*r.offsetHeight}}),s=M.slice(0,i<0?void 0:i),u=M.slice(0,i<0?void 0:i+1),l=M[i]||"",c=i<0?[]:M.slice(i),f=i<0?[]:M.slice(i+1),p=a.slice(0,i<0?void 0:i),d=a.slice(0,i<0?void 0:i+1),h=null!==(o=a[i])&&void 0!==o?o:tA([""])[0],v=i<0?[]:a.slice(i),g=i<0?[]:a.slice(i+1),m=h?[h]:[],b=tB(p),x=tB(d),y=tB(v),S=tB(g),E=tm(b,y,4),{transforms:M,beforeFunctionMatrix:b,beforeFunctionMatrix2:x,targetFunctionMatrix:tB(m),afterFunctionMatrix:y,afterFunctionMatrix2:S,allFunctionMatrix:E,beforeFunctions:p,beforeFunctions2:d,targetFunction:m[0],afterFunctions:v,afterFunctions2:g,beforeFunctionTexts:s,beforeFunctionTexts2:u,targetFunctionText:l,afterFunctionTexts:c,afterFunctionTexts2:f}),T=P.targetFunction,z="rotate"===n?"rotateZ":n;D.beforeFunctionTexts=P.beforeFunctionTexts,D.afterFunctionTexts=P.afterFunctionTexts,D.beforeTransform=P.beforeFunctionMatrix,D.beforeTransform2=P.beforeFunctionMatrix2,D.targetTansform=P.targetFunctionMatrix,D.afterTransform=P.afterFunctionMatrix,D.afterTransform2=P.afterFunctionMatrix2,D.targetAllTransform=P.allFunctionMatrix,T.functionName===z?(D.afterFunctionTexts.splice(0,1),D.isAppendTransform=!1):R>O&&(D.isAppendTransform=!0,C.nextTransformAppendedIndexes=ey(ey([],ex(_),!1),[{functionName:n,index:O,isAppend:!0}],!1))}function eU(t,e,n){return"".concat(t.beforeFunctionTexts.join(" ")," ").concat(t.isAppendTransform?n:e," ").concat(t.afterFunctionTexts.join(" "))}function eZ(t,e,n){var r=t.beforeTransform,i=t.afterTransform,o=t.beforeTransform2,a=t.afterTransform2,s=t.targetAllTransform,u=n?tm(s,e,4):tm(e,s,4),l=tm(tp(n?o:r,4),u,4);return tm(l,tp(n?a:i,4),4)}function eK(t){var e=t.datas,n=t.distX,r=t.distY,i=e.inverseBeforeMatrix,o=e.is3d,a=e.startDragBeforeDist;return tx(tS(i,tb(e.absoluteOrigin,[n,r]),o?4:3),a)}function e$(t,e){var n=t.datas,r=t.distX,i=t.distY,o=n.inverseBeforeMatrix,a=n.inverseMatrix,s=n.is3d,u=n.startDragBeforeDist,l=n.startDragDist;return tx(tS(e?o:a,tb(n.absoluteOrigin,[r,i]),s?4:3),e?u:l)}function eJ(t){var e=[];return t[1]>=0&&(t[0]>=0&&e.push(3),t[0]<=0&&e.push(2)),t[1]<=0&&(t[0]>=0&&e.push(1),t[0]<=0&&e.push(0)),e}function eQ(t,e){var n,r,i,o,a,s,u=(e+1)/2;return[(n=t[0][0],r=t[1][0],(n*(i=1-u)+r*u)/(u+i)),(o=t[0][1],a=t[1][1],(o*(s=1-u)+a*u)/(u+s))]}function e0(t,e){var n=eQ([t[0],t[1]],e[0]),r=eQ([t[2],t[3]],e[0]);return eQ([n,r],e[1])}function e1(t,e,n,r){return tm(t,rS(e,r,n),r)}function e2(t,e){var n=e6(e);return{setTransform:function(r,i){void 0===i&&(i=-1),n.startTransforms=_(r)?r:k(r),e4(t,e,i)},setTransformIndex:function(n){e4(t,e,n)}}}function e3(t,e,n){var r=e6(e).startTransforms;e4(t,e,N(r,function(t){return 0===t.indexOf("".concat(n,"("))}))}function e4(t,e,n){var r=e6(e),i=e.datas;if(i.transformIndex=n,-1!==n){var o=r.startTransforms[n];if(o){var a=t.state,s=tA([o],{"x%":function(t){return t/100*a.offsetWidth},"y%":function(t){return t/100*a.offsetHeight}});i.startValue=s[0].functionValue}}}function e5(t,e){e6(t).nextTransforms=k(e)}function e6(t){return t.originalDatas.beforeRenderable}function e8(t){return t.originalDatas.beforeRenderable.nextTransforms}function e7(t){return(e8(t)||[]).join(" ")}function e9(t){return e6(t).nextStyle}function nt(t,e,n,r,i){e5(i,e);var o=n3.drag(t,eX(i,t.state,n,r,!1)),a=o?o.transform:e;return eb(eb({transform:e,drag:o},rZ({transform:a},i)),{afterTransform:a})}function ne(t,e,n,r,i,o){var a,s,u,l,c;return void 0===(a=function(t,e,n,r){var i,o=t.transformOrigin,a=t.offsetMatrix,s=t.is3d?4:3;if(O(n)){var u=e.beforeTransform,l=e.afterTransform;i=r?tv(tI(n),4,s):tv(tm(tm(u,tI([n]),4),l,4),4,s)}else i=n;return e1(a,i,o,s)}(t.state,i,e,o))&&(a=t.state.allMatrix),u=(s=t.state).width,l=s.height,c=s.is3d,rO(a,[u/2*(1+n[0])+r[0],l/2*(1+n[1])+r[1]],c?4:3)}function nn(t,e,n,r,i,o,a){var s=ne(t,e,n,i,o,a),u=t.state,l=u.left,c=u.top,f=t.props.groupable,p=tx(r,s);return tx(p,[f?l:0,f?c:0])}function nr(t,e,n){for(var r,i,o,a=t,s=[],u=ta(t)||ts(t),l=!n&&t===e||t===u,c=l,f=!1,p=3,d=!1,h=rC(e,e,!0).offsetParent,v=1;a&&!c;){c=l;var g,m=nu(a),b=m("position"),x=rD(a),y="fixed"===b,S=function(t){var e=t("scale"),n=t("rotate"),r=t("translate"),i=[];return r&&"0px"!==r&&"none"!==r&&i.push("translate(".concat(r.split(/\s+/).join(","),")")),n&&"1"!==n&&"none"!==n&&i.push("rotate(".concat(n,")")),e&&"1"!==e&&"none"!==e&&i.push("scale(".concat(e.split(/\s+/).join(","),")")),i}(m),E=void 0,D=(g=x&&"none"!==x?R(x)?x:tI(x):[1,0,0,1,0,0],(void 0===E&&(E=6===g.length),E)?[g[0],g[1],0,g[2],g[3],0,g[4],g[5],1]:g),C=void 0,w=!1,_=!1,O=0,P=0,T=0,z=0,G={hasTransform:!1,fixedContainer:null};y&&(d=!0,h=(G=function(t){for(var e=t.parentElement,n=!1,r=ts(t);e;){var i=r1(e).transform;if(i&&"none"!==i){n=!0;break}if(e===r)break;e=e.parentElement}return{fixedContainer:e||r,hasTransform:n}}(a)).fixedContainer);var k=D.length;!f&&(16===k||S.length)&&(f=!0,p=4,rM(s),o&&(o=tv(o,3,4))),f&&9===k&&(D=tv(D,3,4));var I=function(t,e){var n,r,i,o=t.tagName.toLowerCase(),a=t.offsetLeft,s=t.offsetTop,u=nu(t),l=M(a),c=!l;return!c&&("svg"!==o||t.ownerSVGElement)?(i=(r=eM?rE(r1(t,":before").transformOrigin).map(function(e,n){var r,i=A(e),o=i.value,a=i.unit;return o*(r=0===n,"%"===a?r_(t.ownerSVGElement)[r?"width":"height"]/100:1)}):rE(u("transformOrigin")).map(function(t){return parseFloat(t)})).slice(),c=!0,"svg"===o?(a=0,s=0):(a=(n=ex(function(t,e,n){var r=t.tagName.toLowerCase();if(!t.getBBox||!n&&"g"===r)return[0,0,0,0];var i="fill-box"===nu(t)("transform-box"),o=t.getBBox(),a=r_(t.ownerSVGElement),s=o.x,u=o.y;"foreignobject"!==r||s||u||(s=parseFloat(t.getAttribute("x"))||0,u=parseFloat(t.getAttribute("y"))||0);var l=s-a.x,c=u-a.y,f=i?e[0]:e[0]-l,p=i?e[1]:e[1]-c;return[l,c,f,p]}(t,r,t===e&&"g"===e.tagName.toLowerCase()),4))[0],s=n[1],r[0]=n[2],r[1]=n[3])):i=(r=rE(u("transformOrigin")).map(function(t){return parseFloat(t)})).slice(),{tagName:o,isSVG:l,hasOffset:c,offset:[a||0,s||0],origin:r,targetOrigin:i}}(a,t),B=I.tagName,F=I.hasOffset,N=I.isSVG,Y=I.origin,q=I.targetOrigin,X=ex(I.offset,2),W=X[0],j=X[1];"svg"===B&&!a.ownerSVGElement&&o&&(s.push({type:"target",target:a,matrix:function(t,e){var n,r=r_(t),i=r.width,o=r.height,a=r.clientWidth,s=r.clientHeight,u=a/i,l=s/o,c=t.preserveAspectRatio.baseVal,f=c.align,p=c.meetOrSlice,d=[0,0],h=[u,l],v=[0,0];if(1!==f){var g=(f-2)%3,m=Math.floor((f-2)/3);d[0]=i*g/2,d[1]=o*m/2;var b=2===p?Math.max(l,u):Math.min(u,l);h[0]=b,h[1]=b,v[0]=(a-i)/2*g,v[1]=(s-o)/2*m}var x=tT(h,e);return n=ex(v,2),x[e*(e-1)]=n[0],x[e*(e-1)+1]=n[1],rS(x,e,d)}(a,p)}),s.push({type:"offset",target:a,matrix:tP(p)}));var H=parseFloat(m("zoom"))||1;if(y)C=G.fixedContainer,w=!0;else{var L=rC(a,e,!1,!0,m),V=L.offsetZoom;if(C=L.offsetParent,w=L.isEnd,_=L.isStatic,v*=V,(L.isCustomElement||1!==V)&&_)W-=C.offsetLeft,j-=C.offsetTop;else if((ez||eT)&&L.parentSlotElement){for(var U=C,Z=0,K=0;U&&function(t){if(t&&t.getRootNode){var e=t.getRootNode();if(11===e.nodeType)return e}}(U);)Z+=U.offsetLeft,K+=U.offsetTop,U=U.offsetParent;W-=Z,j-=K}}if(ew&&!eG&&F&&!N&&_&&("relative"===b||"static"===b)&&(W-=C.offsetLeft,j-=C.offsetTop,l=l||w),y)F&&G.hasTransform&&(T=C.clientLeft,z=C.clientTop);else if(F&&h!==C&&(O=C.clientLeft,P=C.clientTop),F&&C===u){var $=rw(a,!1);W+=$[0],j+=$[1]}if(s.push({type:"target",target:a,matrix:rS(D,p,Y)}),S.length&&(s.push({type:"offset",target:a,matrix:tP(p)}),s.push({type:"target",target:a,matrix:rS(tI(S),p,Y)})),F){var J=a===t,Q=J?0:a.scrollLeft,tt=J?0:a.scrollTop;s.push({type:"offset",target:a,matrix:tz([W-Q+O-T,j-tt+P-z],p)})}else s.push({type:"offset",target:a,origin:Y});if(1!==H&&s.push({type:"zoom",target:a,matrix:rS(tT([H,H],p),p,[0,0])}),o||(o=D),r||(r=Y),i||(i=q),c||y)break;a=C,l=w,n&&a!==u||(c=l)}return o||(o=tP(p)),r||(r=[0,0]),i||(i=[0,0]),{zoom:v,offsetContainer:h,matrixes:s,targetMatrix:o,transformOrigin:r,targetOrigin:i,is3d:f,hasFixed:d}}var ni=null,no=null,na=null;function ns(t){t?(window.Map&&(ni=new Map,no=new Map),na=[]):(ni=null,na=null,no=null)}function nu(t){var e=null==ni?void 0:ni.get(t);if(!e){var n=tu(t).getComputedStyle(t);if(!ni)return function(t){return n[t]};e={style:n,cached:{}},ni.set(t,e)}var r=e.cached,i=e.style;return function(t){return t in r||(r[t]=i[t]),r[t]}}function nl(t,e,n){var r=n.originalDatas;r.groupable=r.groupable||{};var i=r.groupable;i.childDatas=i.childDatas||[];var o=i.childDatas;return t.moveables.map(function(t,r){return o[r]=o[r]||{},o[r][e]=o[r][e]||{},eb(eb({},n),{isRequestChild:!0,datas:o[r][e],originalDatas:o[r]})})}function nc(t,e,n,r,i,o,a){var s=!!n.match(/Start$/g),u=!!n.match(/End$/g),l=i.isPinch,c=i.datas,f=nl(t,e.name,i),p=t.moveables,d=[],h=f.map(function(t,i){var f=p[i],h=f.state,v=h.gestos,g=t;if(s)g=new eW(a).dragStart(r,t),d.push(g);else{if(v[a]||(v[a]=c.childGestos[i]),!v[a])return;g=eX(t,h,r,l,o,a),d.push(g)}var m=e[n](f,eb(eb({},g),{parentFlag:!0}));return u&&(v[a]=null),m});return s&&(c.childGestos=p.map(function(t){return t.state.gestos[a]})),{eventParams:h,childEvents:d}}function nf(t,e,n,r,i,o){void 0===i&&(i=function(t,e){return e});var a=!!n.match(/End$/g),s=nl(t,e.name,r),u=t.moveables;return s.map(function(t,r){var s=u[r],l=t;l=i(s,t);var c=e[n](s,eb(eb({},l),{parentFlag:!0}));return c&&o&&o(s,t,c,r),a&&(s.state.gestos={}),c})}function np(t,e,n,r){var i=n.fixedDirection,o=n.fixedPosition,a=e0(r.datas.startPositions||rL(e.state),i),s=ex(tS(tO(-t.rotation/180*Math.PI,3),[a[0]-o[0],a[1]-o[1],1],3),2),u=s[0],l=s[1];return r.datas.originalX=u,r.datas.originalY=l,r}function nd(t,e,n,r){var i=t.getState(),o=i.renderPoses,a=i.rotation,s=i.direction,u=rB(t.props,e).zoom,l=rh(a/Math.PI*180),c={},f=t.renderState;f.renderDirectionMap||(f.renderDirectionMap={});var p=f.renderDirectionMap;n.forEach(function(t){c[t.dir]=!0});var d=ih(s);return n.map(function(t){var n=t.data,i=t.classNames,s=t.dir,f=eN[s];if(!f||!c[s])return null;p[s]=!0;var h=(J(l,15)+d*eY[s]+720)%180,v={};return W(n).forEach(function(t){v["data-".concat(t)]=n[t]}),r.createElement("div",eb({className:rx.apply(void 0,ey(["control","direction",s,e],ex(i),!1)),"data-rotation":h,"data-direction":s},v,{key:"direction-".concat(s),style:rI.apply(void 0,ey([a,u],ex(f.map(function(t){return o[t]})),!1))}))})}function nh(t,e,n,r){var i=rB(t.props,n),o=i.renderDirections,a=void 0===o?e:o,s=i.displayAroundControls;if(!a)return[];var u=!0===a?eD:a;return ey(ey([],ex(s?nb(t,r,n,u):[]),!1),ex(nd(t,n,u.map(function(t){return{data:{},classNames:[],dir:t}}),r)),!1)}function nv(t,e,n,r,i,o){for(var a=[],s=6;s<arguments.length;s++)a[s-6]=arguments[s];var u=Z(n,r),l=e?J(u/Math.PI*180,15)%180:-1;return t.createElement("div",{key:"line-".concat(o),className:rx.apply(void 0,ey(["line","direction",e?"edge":"",e],ex(a),!1)),"data-rotation":l,"data-line-key":o,"data-direction":e,style:rk(n,r,i,u)})}function ng(t,e,n,r,i){return(!0===n?eE:n).map(function(n,o){var a=ex(eN[n],2),s=a[0],u=a[1];if(null!=u)return nv(t,n,r[s],r[u],i,"".concat(e,"Edge").concat(o),e)}).filter(Boolean)}function nm(t){return function(e,n){var r=rB(e.props,t).edge;return r&&(!0===r||r.length)?ey(ey([],ex(ng(n,t,r,e.getState().renderPoses,e.props.zoom)),!1),ex(nh(e,["nw","ne","sw","se"],t,n)),!1):nh(e,eD,t,n)}}function nb(t,e,n,r){var i=t.renderState;i.renderDirectionMap||(i.renderDirectionMap={});var o=t.getState(),a=o.renderPoses,s=o.rotation,u=o.direction,l=i.renderDirectionMap,c=t.props.zoom,f=ih(u),p=s/Math.PI*180;return(r||W(l)).map(function(t){var r=eN[t];if(!r)return null;var i=(J(p,15)+f*eY[t]+720)%180,o=["around-control"];return n&&o.push("direction",n),e.createElement("div",{className:rx.apply(void 0,ey([],ex(o),!1)),"data-rotation":i,"data-direction":t,key:"direction-around-".concat(t),style:rI.apply(void 0,ey([s,c],ex(r.map(function(t){return a[t]})),!1))})})}function nx(t,e,n){var r=t||{},i=r.position,o=r.left,a=r.top,s=r.right,u=r.bottom,l={position:void 0===i?"client":i,left:void 0===o?-1/0:o,top:void 0===a?-1/0:a,right:void 0===s?1/0:s,bottom:void 0===u?1/0:u};return{vertical:nS(l,e,!0),horizontal:nS(l,n,!1)}}function ny(t,e){var n=t.state,r=n.containerClientRect,i=r.clientHeight,o=r.clientWidth,a=r.clientLeft,s=r.clientTop,u=n.snapOffset,l=u.left,c=u.top,f=u.right,p=u.bottom,d=e||t.props.bounds||{},h="css"===(d.position||"client"),v=d.left,g=d.top,m=d.right,b=void 0===m?h?-1/0:1/0:m,x=d.bottom,y=void 0===x?h?-1/0:1/0:x;return h&&(b=o+f-l-b,y=i+p-c-y),{left:(void 0===v?-1/0:v)+l-a,right:b+l-a,top:(void 0===g?-1/0:g)+c-s,bottom:y+c-s}}function nS(t,e,n){var r=t[n?"left":"top"],i=t[n?"right":"bottom"],o=Math.min.apply(Math,ey([],ex(e),!1)),a=Math.max.apply(Math,ey([],ex(e),!1)),s=[];return r+1>o&&s.push({direction:"start",isBound:!0,offset:o-r,pos:r}),i-1<a&&s.push({direction:"end",isBound:!0,offset:a-i,pos:i}),s.length||s.push({isBound:!1,offset:0,pos:0}),s.sort(function(t,e){return iv(e.offset)-iv(t.offset)})}function nE(t,e,n){return(n?t.map(function(t){return tM(t,n)}):t).some(function(t){return t[0]<e.left&&iv(t[0]-e.left)>.1||t[0]>e.right&&iv(t[0]-e.right)>.1||t[1]<e.top&&iv(t[1]-e.top)>.1||t[1]>e.bottom&&iv(t[1]-e.bottom)>.1})}var nD=["left","right","center"],nC=["top","bottom","middle"],nw={left:"start",right:"end",center:"center",top:"start",bottom:"end",middle:"center"},nM={start:"left",end:"right",center:"center"},nR={start:"top",end:"bottom",center:"middle"};function n_(){return{left:!1,top:!1,right:!1,bottom:!1}}function nO(t,e){var n=t.props,r=n.snappable,i=n.bounds,o=n.innerBounds,a=n.verticalGuidelines,s=n.horizontalGuidelines,u=n.snapGridWidth,l=n.snapGridHeight,c=t.state,f=c.guidelines,p=c.enableSnap;return!(!r||!p||e&&!0!==r&&0>r.indexOf(e))&&(!!u||!!l||!!i||!!o||!!f&&!!f.length||!!a&&!!a.length||!!s&&!!s.length)}function nP(t){return!1===t?{}:!0!==t&&t?t:{left:!0,right:!0,top:!0,bottom:!0}}function nT(t,e){var n=function(t,e){var n=nP(t),r={};for(var i in n)i in e&&n[i]&&(r[i]=e[i]);return r}(t,e),r=nC.filter(function(t){return t in n}),i=nD.filter(function(t){return t in n});return{horizontalNames:r,verticalNames:i,horizontal:r.map(function(t){return n[t]}),vertical:i.map(function(t){return n[t]})}}var nz="snapRotationThreshold",nG="snapRotationDegrees",nk="snapHorizontalThreshold",nI="snapVerticalThreshold";function nB(t,e,n,r,i,o,a){void 0===r&&(r=[]),void 0===i&&(i=[]);var s,u=t.props,l=(null===(s=t.state.snapThresholdInfo)||void 0===s?void 0:s.multiples)||[1,1],c=r4(a,u[nk],5),f=r4(o,u[nI],5);return nA(t.state.guidelines,e,n,r,i,c,f,l)}function nA(t,e,n,r,i,o,a,s){return{vertical:nq(t,"vertical",e,a*s[0],r),horizontal:nq(t,"horizontal",n,o*s[1],i)}}function nF(t){var e="";return -1===t||"top"===t||"left"===t?e="start":0===t||"center"===t||"middle"===t?e="center":(1===t||"right"===t||"bottom"===t)&&(e="end"),e}function nN(t,e,n,r){var i=nT(t.props.snapDirections,e),o=nB(t,i.vertical,i.horizontal,i.verticalNames.map(function(t){return nF(t)}),i.horizontalNames.map(function(t){return nF(t)}),n,r),a=nF(i.horizontalNames[o.horizontal.index]),s=nF(i.verticalNames[o.vertical.index]);return{vertical:eb(eb({},o.vertical),{direction:s}),horizontal:eb(eb({},o.horizontal),{direction:a})}}function nY(t){var e=t.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var n=t.posInfos[0],r=n.guidelineInfos[0],i=r.offset,o=r.dist,a=r.guideline;return{isSnap:e,offset:i,dist:o,pos:n.pos,guideline:a}}function nq(t,e,n,r,i){if(void 0===i&&(i=[]),!t||!t.length)return{isSnap:!1,index:-1,direction:"",posInfos:[]};var o,a,s="vertical"===e?0:1,u=n.map(function(n,o){var a=i[o]||"",u=t.map(function(t){var e=n-t.pos[s];return{offset:e,dist:iv(e),guideline:t,direction:a}}).filter(function(t){var n=t.guideline,i=t.dist;return n.type===e&&!(i>r)}).sort(function(t,e){return t.dist-e.dist});return{pos:n,index:o,guidelineInfos:u,direction:a}}).filter(function(t){return t.guidelineInfos.length>0}).sort(function(t,e){return t.guidelineInfos[0].dist-e.guidelineInfos[0].dist}),l=u.length>0;return{isSnap:l,index:l?u[0].index:-1,direction:null!==(a=null===(o=u[0])||void 0===o?void 0:o.direction)&&void 0!==a?a:"",posInfos:u}}function nX(t,e){var n=iv(t.offset),r=iv(e.offset);if(t.isBound&&e.isBound)return r-n;if(t.isBound)return -1;if(e.isBound)return 1;if(t.isSnap&&e.isSnap)return r-n;if(t.isSnap)return -1;if(e.isSnap)return 1;if(n<1e-7)return 1;else if(r<1e-7)return -1;return n-r}function nW(t,e){return t.slice().sort(function(t,n){var r=t.sign[e],i=n.sign[e],o=t.offset[e],a=n.offset[e];return r?i?nX({isBound:t.isBound,isSnap:t.isSnap,offset:o},{isBound:n.isBound,isSnap:n.isSnap,offset:a}):-1:1})[0]}function nj(t,e){var n=U([e[0][0],e[1][0]]),r=U([e[0][1],e[1][1]]);return{vertical:n<=t[0],horizontal:r<=t[1]}}function nH(t,e){var n,r,i=ex(e,2),o=i[0],a=i[1],s=a[0]-o[0],u=a[1]-o[1];return 1e-7>iv(s)&&(s=0),1e-7>iv(u)&&(u=0),s?(n=u?u/s*(t[0]-o[0])+o[1]:o[1],r=t[1]):(n=o[0],r=t[0]),n-r}function nL(t,e,n,r){return void 0===r&&(r=1e-7),t.every(function(t){var i=nH(t,e);return i<=0===n||iv(i)<=r})}function nV(t,e,n,r,i){return(void 0===i&&(i=0),r&&e-i<=t||!r&&t<=n+i)?{isBound:!0,offset:r?e-t:n-t}:{isBound:!1,offset:0}}function nU(t,e,n,r,i,o){var a=ex(e,2),s=a[0],u=a[1],l=t[0],c=n[0],f=n[1],p=ir(f[1]-c[1]),d=ir(f[0]-c[0]),h=-s/u;if(d){if(!p){if(o&&!u);else{if(s)return nV((c[1]-l[1])/h+l[0],c[0],f[0],r,i);var v=c[1]-l[1],g=iv(v)<=(i||0);return{isBound:g,offset:g?v:0}}}}else if(o&&!s);else{if(u)return nV(h*(c[0]-l[0])+l[1],c[1],f[1],r,i);var v=c[0]-l[0],g=iv(v)<=(i||0);return{isBound:g,offset:g?v:0}}return{isBound:!1,offset:0}}function nZ(t,e,n){return e.map(function(e){var r=function(t,e){var n=e.line,r=e.centerSign,i=e.verticalSign,o=e.horizontalSign,a=e.lineConstants,s=t.props.innerBounds;if(!s)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var u=s.left,l=s.top,c=s.width,f=s.height,p=[[u,l],[u,l+f]],d=[[u,l],[u+c,l]],h=[[u+c,l],[u+c,l+f]],v=[[u,l+f],[u+c,l+f]];if(nL([[u,l],[u+c,l],[u,l+f],[u+c,l+f]],n,r))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var g=nU(n,a,d,i),m=nU(n,a,v,i),b=nU(n,a,p,o),x=nU(n,a,h,o),y=g.isBound&&m.isBound,S=g.isBound||m.isBound,E=b.isBound&&x.isBound,D=b.isBound||x.isBound,C=r8(g.offset,m.offset),w=r8(b.offset,x.offset),M=[0,0],R=!1,_=!1;return iv(w)<iv(C)?(M=[C,0],R=S,_=y):(M=[0,w],R=D,_=E),{isAllBound:_,isVerticalBound:S,isHorizontalBound:D,isBound:R,offset:M}}(t,e),i=r.isBound,o=r.offset,a=r.isVerticalBound,s=r.isHorizontalBound,u=e.multiple,l=e$({datas:n,distX:o[0],distY:o[1]}).map(function(t,e){return t*(u[e]?2/u[e]:0)});return{sign:u,isBound:i,isVerticalBound:a,isHorizontalBound:s,isSnap:!1,offset:l}})}function nK(t,e,n,r){var i,o,a,s=t.state,u=rP(s.allMatrix,100,100,s.is3d?4:3),l=e0(u,[0,0]);return(i=[],o=n[0],a=n[1],o&&a?i.push([[0,2*a],n,[-o,a]],[[2*o,0],n,[o,-a]]):o?(i.push([[2*o,0],[o,1],[o,-1]]),r&&i.push([[0,-1],[o,-1],[-o,-1]],[[0,1],[o,1],[-o,1]])):a?(i.push([[0,2*a],[1,a],[-1,a]]),r&&i.push([[-1,0],[-1,a],[-1,-a]],[[1,0],[1,a],[1,-a]])):i.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),i).map(function(t){var n,r,i,o,a,s,c,f,p=ex(t,3),d=p[0],h=p[1],v=p[2],g=[e0(u,h),e0(u,v)],m=(r=(n=ex(g,2))[0],o=(i=n[1])[0]-r[0],a=i[1]-r[1],1e-7>Math.abs(o)&&(o=0),1e-7>Math.abs(a)&&(a=0),s=0,c=0,f=0,o?a?(c=1,f=(s=-a/o)*r[0]-r[1]):(c=1,f=-r[1]):(s=-1,f=r[0]),[s,c,f].map(function(t){return J(t,1e-7)})),b=nj(l,g),x=b.vertical,y=b.horizontal;return{multiple:d,centerSign:0>=nH(l,g),verticalSign:x,horizontalSign:y,lineConstants:m,line:[e0(e,h),e0(e,v)]}})}function n$(t,e,n,r){var i=r?t.map(function(t){return tM(t,r)}):t;return[[i[0],i[1]],[i[1],i[3]],[i[3],i[2]],[i[2],i[0]]].some(function(t){var r=0>=nH(n,t);return!nL(e,t,r)})}function nJ(t,e,n,r,i){var o=function(t,e,n,r){var i=e[0]-t[0],o=e[1]-t[1];if(1e-7>iv(i)&&(i=0),1e-7>iv(o)&&(o=0),!i)return r?[0,0]:[0,n];if(!o)return r?[n,0]:[0,0];var a=o/i,s=t[1]-a*t[0];if(!r)return[(e[1]+n-s)/a-e[0],n];var u=a*(e[0]+n)+s;return[n,u-e[1]]}(t,e,n,r);if(!o)return{isOutside:!1,offset:[0,0]};var a=$(t,e),s=$(o,t),u=$(o,e),l=ex(e$({datas:i,distX:o[0],distY:o[1]}),2);return{offset:[l[0],l[1]],isOutside:s>a||u>a}}function nQ(t,e){return t.isBound?t.offset:e.isSnap?nY(e).offset:0}function n0(t,e,n,r){void 0===r&&(r=n);var i=nx(ny(t),r.vertical,r.horizontal),o=i.horizontal,a=i.vertical,s=e?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:nB(t,n.vertical,n.horizontal,void 0,void 0,void 0,void 0),u=s.horizontal,l=s.vertical,c=nQ(o[0],u),f=nQ(a[0],l),p=iv(c),d=iv(f);return{horizontal:{isBound:o[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:c,dist:p,bounds:o,snap:u},vertical:{isBound:a[0].isBound,isSnap:l.isSnap,snapIndex:l.index,offset:f,dist:d,bounds:a,snap:l}}}function n1(t,e,n,r,i,o,a){void 0===a&&(a=[1,1]);var s=nx(e,n,r),u=s.horizontal,l=s.vertical,c=nA(t,n,r,[],[],i,o,a),f=c.horizontal,p=c.vertical,d=nQ(u[0],f),h=nQ(l[0],p),v=iv(d),g=iv(h);return{horizontal:{isBound:u[0].isBound,isSnap:f.isSnap,snapIndex:f.index,offset:d,dist:v,bounds:u,snap:f},vertical:{isBound:l[0].isBound,isSnap:p.isSnap,snapIndex:p.index,offset:h,dist:g,bounds:l,snap:p}}}function n2(t,e){return t.isBound?t.offset:e.isSnap?e.offset:0}var n3={name:"draggable",props:["draggable","throttleDrag","throttleDragRotate","hideThrottleDragRotateLine","startDragRotate","edgeDraggable"],events:["dragStart","drag","dragEnd","dragGroupStart","dragGroup","dragGroupEnd"],requestStyle:function(){return["left","top","right","bottom"]},requestChildStyle:function(){return["left","top","right","bottom"]},render:function(t,e){var n=t.props,r=n.hideThrottleDragRotateLine,i=n.throttleDragRotate,o=n.zoom,a=t.getState(),s=a.dragInfo,u=a.beforeOrigin;if(r||!i||!s)return[];var l=s.dist;if(!l[0]&&!l[1])return[];var c=rz(l),f=Z(l,[0,0]);return[e.createElement("div",{className:rx("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(c,"px"),transform:"translate(".concat(u[0],"px, ").concat(u[1],"px) rotate(").concat(f,"rad) scaleY(").concat(o,")")}})]},dragStart:function(t,e){var n=e.datas,r=e.parentEvent,i=e.parentGesto,o=t.state,a=o.gestos,s=o.style;if(a.draggable)return!1;a.draggable=i||t.targetGesto,n.datas={},n.left=parseFloat(s.left||"")||0,n.top=parseFloat(s.top||"")||0,n.bottom=parseFloat(s.bottom||"")||0,n.right=parseFloat(s.right||"")||0,n.startValue=[0,0],eL(t,e),e3(t,e,"translate"),n.absolutePoses=rL(t.state),n.prevDist=[0,0],n.prevBeforeDist=[0,0],n.isDrag=!1,n.deltaOffset=[0,0];var u=r$(t,e,eb({set:function(t){n.startValue=t}},e2(t,e)));return!1!==(r||r0(t,"onDragStart",u))?(n.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(a.draggable=null,n.isPinch=!1),!!n.isDrag&&u},drag:function(t,e){if(e){eV(t,e,"translate");var n,r,i,o=e.datas,a=e.parentEvent,s=e.parentFlag,u=e.isPinch,l=e.deltaOffset,c=e.useSnap,f=e.isRequest,p=e.isGroup,d=e.parentThrottleDrag,h=e.distX,v=e.distY,g=o.isDrag,m=o.prevDist,b=o.prevBeforeDist,x=o.startValue;if(g){l&&(h+=l[0],v+=l[1]);var y=t.props,S=y.parentMoveable,E=p?0:y.throttleDrag||d||0,D=a?0:y.throttleDragRotate||0,C=0,w=!1,M=!1,R=!1,_=!1;if(!a&&D>0&&(h||v)){var O=y.startDragRotate||0,P=J(O+180*Z([0,0],[h,v])/Math.PI,D)-O,T=v*Math.abs(Math.cos((P-90)/180*Math.PI)),z=rz([h*Math.abs(Math.cos(P/180*Math.PI)),T]);h=z*Math.cos(C=P*Math.PI/180),v=z*Math.sin(C)}if(!u&&!a&&!s){var G=ex(function(t,e,n,r,i,o){if(!nO(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var a,s,u,l,c,f,p,d,h,v,g,m,b,x,y,S,E,D,C,w=rH(o.absolutePoses,[e,n]),M=rT(w),R=M.left,_=M.right,O=M.top,P=M.bottom,T={horizontal:w.map(function(t){return t[1]}),vertical:w.map(function(t){return t[0]})},z=nT(nP(t.props.snapDirections),{left:R,right:_,top:O,bottom:P,center:(R+_)/2,middle:(O+P)/2}),G=n0(t,i,z,T),k=G.vertical,I=G.horizontal,B=(m=nK(t,w,[0,0],!1).map(function(t){return eb(eb({},t),{multiple:t.multiple.map(function(t){return 2*iv(t)})})}),x=nW(b=nZ(t,m,o),0),y=nW(b,1),S=0,E=0,D=x.isVerticalBound||y.isVerticalBound,C=x.isHorizontalBound||y.isHorizontalBound,(D||C)&&(S=(g=ex((u=(a={datas:o,distX:-x.offset[0],distY:-y.offset[1]}).datas,l=a.distX,c=a.distY,u.beforeMatrix,f=u.matrix,p=u.is3d,d=u.startDragBeforeDist,h=u.startDragDist,v=u.absoluteOrigin,tx(tS(f,tb(s?d:h,[l,c]),p?4:3),v)),2))[0],E=g[1]),{vertical:{isBound:D,offset:S},horizontal:{isBound:C,offset:E}}),A=B.vertical,F=B.horizontal,N=k.isSnap,Y=I.isSnap,q=k.isBound||A.isBound,X=I.isBound||F.isBound,W=ex(function(t,e,n,r,i){var o=ex(e,2),a=o[0],s=o[1],u=ex(n,2),l=u[0],c=u[1],f=ex(r,2),p=f[0],d=f[1],h=ex(i,2),v=h[0],g=h[1],m=-v,b=-g;if(t&&a&&s){m=0,b=0;var x=[];if(l&&c?x.push([0,g],[v,0]):l?x.push([v,0]):c?x.push([0,g]):p&&d?x.push([0,g],[v,0]):p?x.push([v,0]):d&&x.push([0,g]),x.length){x.sort(function(t,e){return rz(tx([a,s],t))-rz(tx([a,s],e))});var y=x[0];if(y[0]&&iv(a)>1e-7?b=s*iv(a+(m=-y[0]))/iv(a)-s:y[1]&&iv(s)>1e-7&&(m=a*iv(s+(b=-y[1]))/iv(s)-a),t&&c&&l){if(iv(m)>1e-7&&iv(m)<iv(v)){var S=iv(v)/iv(m);m*=S,b*=S}else if(iv(b)>1e-7&&iv(b)<iv(g)){var S=iv(g)/iv(b);m*=S,b*=S}else m=r8(-v,m),b=r8(-g,b)}}}else m=a||l?-v:0,b=s||c?-g:0;return[m,b]}(r,[e,n],[q,X],[N,Y],[r8(k.offset,A.offset),r8(I.offset,F.offset)]),2);return[{isBound:q,isSnap:N,offset:W[0]},{isBound:X,isSnap:Y,offset:W[1]}]}(t,h,v,D,!c&&f||l,o),2),k=G[0],I=G[1];w=k.isSnap,M=k.isBound,R=I.isSnap,_=I.isBound;var B=k.offset,A=I.offset;h+=B,v+=A}var F=tb(eK({datas:o,distX:h,distY:v}),x),N=tb((i=ex(eK({datas:r=(n={datas:o,distX:h,distY:v}).datas,distX:n.distX,distY:n.distY}),2),tS(eZ(r,function(t,e){for(var n=tP(4),r=0;r<3;++r)n[4*(e-1)+r]=t[r]||0;return n}([i[0],i[1]],4)),th([0,0,0],4),4)),x);Q(N,1e-7),Q(F,1e-7),D||(w||M||(N[0]=J(N[0],E),F[0]=J(F[0],E)),R||_||(N[1]=J(N[1],E),F[1]=J(F[1],E)));var Y=tx(F,x),q=tx(N,x),X=tx(q,m),W=tx(Y,b);o.prevDist=q,o.prevBeforeDist=Y,o.passDelta=X,o.passDist=q;var j=o.left+Y[0],H=o.top+Y[1],L=o.right-Y[0],V=o.bottom-Y[1],U=eU(o,"translate(".concat(N[0],"px, ").concat(N[1],"px)"),"translate(".concat(q[0],"px, ").concat(q[1],"px)"));if(e5(e,U),t.state.dragInfo.dist=a?[0,0]:q,!(!a&&!S&&X.every(function(t){return!t})&&W.some(function(t){return!t}))){var K=t.state,$=K.width,tt=K.height,te=r$(t,e,eb({transform:U,dist:q,delta:X,translate:N,beforeDist:Y,beforeDelta:W,beforeTranslate:F,left:j,top:H,right:L,bottom:V,width:$,height:tt,isPinch:u},rZ({transform:U},e)));return a||r0(t,"onDrag",te),te}}}},dragAfter:function(t,e){var n=e.datas,r=n.deltaOffset;return(!!r[0]||!!r[1])&&(n.deltaOffset=[0,0],this.drag(t,eb(eb({},e),{deltaOffset:r})))},dragEnd:function(t,e){var n=e.parentEvent,r=e.datas;if(t.state.dragInfo=null,r.isDrag){r.isDrag=!1;var i=rJ(t,e,{});return n||r0(t,"onDragEnd",i),i}},dragGroupStart:function(t,e){var n,r,i=e.datas,o=e.clientX,a=e.clientY,s=this.dragStart(t,e);if(!s)return!1;var u=nc(t,this,"dragStart",[o||0,a||0],e,!1,"draggable"),l=u.childEvents,c=u.eventParams,f=eb(eb({},s),{targets:t.props.targets,events:c}),p=r0(t,"onDragGroupStart",f);i.isDrag=!1!==p;var d=null!==(r=null===(n=l[0])||void 0===n?void 0:n.datas.startValue)&&void 0!==r?r:[0,0];return i.throttleOffset=[d[0]%1,d[1]%1],!!i.isDrag&&s},dragGroup:function(t,e){if(e.datas.isDrag){var n=this.drag(t,eb(eb({},e),{parentThrottleDrag:t.props.throttleDrag})),r=nc(t,this,"drag",e.datas.passDelta,e,!1,"draggable").eventParams;if(n){var i=eb({targets:t.props.targets,events:r},n);return r0(t,"onDragGroup",i),i}}},dragGroupEnd:function(t,e){var n=e.isDrag;if(e.datas.isDrag){this.dragEnd(t,e);var r=nc(t,this,"dragEnd",[0,0],e,!1,"draggable").eventParams;return r0(t,"onDragGroupEnd",rJ(t,e,{targets:t.props.targets,events:r})),n}},request:function(t){var e={},n=t.getRect(),r=0,i=0,o=!1;return{isControl:!1,requestStart:function(t){return{datas:e,useSnap:o=t.useSnap}},request:function(t){return"x"in t?r=t.x-n.left:"deltaX"in t&&(r+=t.deltaX),"y"in t?i=t.y-n.top:"deltaY"in t&&(i+=t.deltaY),{datas:e,distX:r,distY:i,useSnap:o}},requestEnd:function(){return{datas:e,isDrag:!0,useSnap:o}}}},unset:function(t){t.state.gestos.draggable=null,t.state.dragInfo=null}};function n4(t,e){return{fixedPosition:e0(t,e),fixedDirection:e,fixedOffset:[0,0]}}function n5(t,e){var n=t.allMatrix,r=t.is3d,i=t.width,o=t.height,a=[i?-1+e[0]/(i/2):0,o?-1+e[1]/(o/2):0];return{fixedPosition:rO(n,e,r?4:3),fixedDirection:a,fixedOffset:[i?0:e[0],o?0:e[1]]}}var n6=io("resizable"),n8={name:"resizable",ableGroup:"size",canPinch:!0,props:["resizable","throttleResize","renderDirections","displayAroundControls","keepRatio","resizeFormat","keepRatioFinally","edge","checkResizableError"],events:["resizeStart","beforeResize","resize","resizeEnd","resizeGroupStart","beforeResizeGroup","resizeGroup","resizeGroupEnd"],render:nm("resizable"),dragControlCondition:n6,viewClassName:ii("resizable"),dragControlStart:function(t,e){var n,r=e.inputEvent,i=e.isPinch,o=e.isGroup,a=e.parentDirection,s=e.parentGesto,u=e.datas,l=e.parentFixedDirection,c=e.parentEvent,f=rW(a,i,r,u),p=t.state,d=p.target,h=p.width,v=p.height,g=p.gestos;if(!f||!d||g.resizable)return!1;g.resizable=s||t.controlGesto,i||eL(t,e),u.datas={},u.direction=f,u.startOffsetWidth=h,u.startOffsetHeight=v,u.prevWidth=0,u.prevHeight=0,u.minSize=[0,0],u.startWidth=p.inlineCSSWidth||p.cssWidth,u.startHeight=p.inlineCSSHeight||p.cssHeight,u.maxSize=[1/0,1/0],o||(u.minSize=[p.minOffsetWidth,p.minOffsetHeight],u.maxSize=[p.maxOffsetWidth,p.maxOffsetHeight]);var m=t.props.transformOrigin||"% %";function b(t){u.ratio=t&&isFinite(t)?t:0}function x(t){var e=n4(u.startPositions,t);u.fixedDirection=e.fixedDirection,u.fixedPosition=e.fixedPosition,u.fixedOffset=e.fixedOffset}function y(e){var n=n5(t.state,e);u.fixedDirection=n.fixedDirection,u.fixedPosition=n.fixedPosition,u.fixedOffset=n.fixedOffset}function S(t){u.minSize=[j("".concat(t[0]),0)||0,j("".concat(t[1]),0)||0]}function E(t){var e=[t[0]||1/0,t[1]||1/0];(!P(e[0])||isFinite(e[0]))&&(e[0]=j("".concat(e[0]),0)||1/0),(!P(e[1])||isFinite(e[1]))&&(e[1]=j("".concat(e[1]),0)||1/0),u.maxSize=e}u.transformOrigin=m&&O(m)?m.split(" "):m,u.startOffsetMatrix=p.offsetMatrix,u.startTransformOrigin=p.transformOrigin,u.isWidth=null!==(n=null==e?void 0:e.parentIsWidth)&&void 0!==n?n:!f[0]&&!f[1]||f[0]||!f[1],u.startPositions=rL(t.state),b(h/v),x(l||[-f[0],-f[1]]),u.setFixedDirection=x,u.setFixedPosition=y,u.setMin=S,u.setMax=E;var D=r$(t,e,{direction:f,startRatio:u.ratio,set:function(t){var e=ex(t,2),n=e[0],r=e[1];u.startWidth=n,u.startHeight=r},setMin:S,setMax:E,setRatio:b,setFixedDirection:x,setFixedPosition:y,setOrigin:function(t){u.transformOrigin=t},dragStart:n3.dragStart(t,new eW().dragStart([0,0],e))}),C=c||r0(t,"onResizeStart",D);return u.startFixedDirection=u.fixedDirection,u.startFixedPosition=u.fixedPosition,!1!==C&&(u.isResize=!0,t.state.snapRenderInfo={request:e.isRequest,direction:f}),!!u.isResize&&D},dragControl:function(t,e){var n,r,i,o,a,s,u,l,c,f,p,d,h,v,g,m,b,x,y,S,E,D,C=e.datas,w=e.parentFlag,M=e.isPinch,R=e.parentKeepRatio,_=e.dragClient,O=e.parentDist,P=e.useSnap,T=e.isRequest,z=e.isGroup,G=e.parentEvent,k=e.resolveMatrix,I=C.isResize,B=C.transformOrigin,F=C.startWidth,N=C.startHeight,Y=C.prevWidth,q=C.prevHeight,X=C.minSize,W=C.maxSize,j=C.ratio,H=C.startOffsetWidth,L=C.startOffsetHeight,U=C.isWidth;if(I){if(k){var Z=t.state.is3d,K=C.startOffsetMatrix,$=C.startTransformOrigin,Q=Z?4:3,tt=tI(e8(e)),te=Math.sqrt(tt.length);Q!==te&&(tt=tv(tt,te,Q));var tn=e1(K,tt,$,Q),tr=rP(tn,H,L,Q);C.startPositions=tr,C.nextTargetMatrix=tt,C.nextAllMatrix=tn}var ti=rB(t.props,"resizable"),to=ti.resizeFormat,ta=ti.throttleResize,ts=void 0===ta?w?0:1:ta,tu=ti.parentMoveable,tl=ti.keepRatioFinally,tc=C.direction,tf=tc,tp=0,td=0;tc[0]||tc[1]||(tf=[1,1]);var th=j&&(null!=R?R:ti.keepRatio)||!1,tg=ex(tP(),2),tm=tg[0],tb=tg[1];G||(C.setFixedDirection(C.fixedDirection),r0(t,"onBeforeResize",r$(t,e,{startFixedDirection:C.startFixedDirection,startFixedPosition:C.startFixedPosition,setFixedDirection:function(t){var e;return C.setFixedDirection(t),tm=(e=ex(tP(),2))[0],tb=e[1],[tm,tb]},setFixedPosition:function(t){var e;return C.setFixedPosition(t),tm=(e=ex(tP(),2))[0],tb=e[1],[tm,tb]},boundingWidth:tm,boundingHeight:tb,setSize:function(t){var e;tm=(e=ex(t,2))[0],tb=e[1]}},!0)));var ty=_;_||(!w&&M?(n=[0,0],ty=e0(rL(t.state),n)):ty=C.fixedPosition);var tS=[0,0];if(M||(tS=function(t,e,n,r,i,o,a){if(!nO(t,"resizable"))return[0,0];var s=a.fixedDirection,u=a.nextAllMatrix,l=t.state,c=l.allMatrix,f=l.is3d;return rd(t,function(t,r){return rp(u||c,e+t,n+r,s,i,f)},e,n,r,i,o,a)}(t,tm,tb,tc,ty,!P&&T,C)),O&&(O[0]||(tS[0]=0),O[1]||(tS[1]=0)),th){tf[0]&&tf[1]&&tS[0]&&tS[1]&&(iv(tS[0])>iv(tS[1])?tS[1]=0:tS[0]=0);var tE=!tS[0]&&!tS[1];tE&&tT(),tf[0]&&!tf[1]||tS[0]&&!tS[1]||tE&&U?(tm+=tS[0],tb=tm/j):(!tf[0]&&tf[1]||!tS[0]&&tS[1]||tE&&!U)&&(tb+=tS[1],tm=tb*j)}else tm+=tS[0],tb+=tS[1],tm=Math.max(0,tm),tb=Math.max(0,tb);tm=(D=ex(V([tm,tb],X,W,!!th&&j),2))[0],tb=D[1],tT(),th&&(z||tl)&&(U?tb=tm/j:tm=tb*j);var tD=[(tp=tm-H)-Y,(td=tb-L)-q];C.prevWidth=tp,C.prevHeight=td;var tC=(r=tm,i=tb,o=ty,a=t.props.groupable,u=(s=t.state).transformOrigin,l=s.offsetMatrix,c=s.is3d,f=s.width,p=s.height,d=s.left,h=s.top,v=C.fixedDirection,g=C.nextTargetMatrix||s.targetMatrix,m=c?4:3,tx((E=e0(rP(e1(l,g,(b=f,x=p,y=u,(void 0===b&&(b=r),void 0===x&&(x=i),void 0===y&&(y=[0,0]),B)?B.map(function(t,e){var n=A(t),o=n.value,a=n.unit,s=e?x:b,u=e?i:r;return"%"===t||isNaN(o)?u*(s?y[e]/s:0):"%"!==a?o:u*o/100}):y),m),r,i,m),v),[o[0]-E[0],o[1]-E[1]]),[a?d:0,a?h:0]));if(!(!tu&&tD.every(function(t){return!t})&&tC.every(function(t){return!t}))){var tw=n3.drag(t,eX(e,t.state,tC,!!M,!1,"draggable")),tM=tw.transform,tR=F+tp,t_=N+td,tO=r$(t,e,eb({width:tR,height:t_,offsetWidth:Math.round(tm),offsetHeight:Math.round(tb),startRatio:j,boundingWidth:tm,boundingHeight:tb,direction:tc,dist:[tp,td],delta:tD,isPinch:!!M,drag:tw},rK({style:{width:"".concat(tR,"px"),height:"".concat(t_,"px")},transform:tM},tw,e)));return G||r0(t,"onResize",tO),tO}}function tP(){var t=C.fixedDirection,n=ic(tf,th,C,e);tp=n.distWidth,td=n.distHeight;var r=tf[0]-t[0]||th?Math.max(H+tp,1e-7):H,i=tf[1]-t[1]||th?Math.max(L+td,1e-7):L;return th&&H&&L&&(U?i=r/j:r=i*j),[r,i]}function tT(){var t;to&&(tm=(t=ex(to([tm,tb]),2))[0],tb=t[1]),tm=J(tm,ts),tb=J(tb,ts)}},dragControlAfter:function(t,e){var n=e.datas,r=n.isResize,i=n.startOffsetWidth,o=n.startOffsetHeight,a=n.prevWidth,s=n.prevHeight;if(r&&!1!==t.props.checkResizableError){var u=t.state,l=u.width,c=u.height,f=l-(i+a),p=c-(o+s),d=iv(f)>3,h=iv(p)>3;if(d&&(n.startWidth+=f,n.startOffsetWidth+=f,n.prevWidth+=f),h&&(n.startHeight+=p,n.startOffsetHeight+=p,n.prevHeight+=p),d||h)return this.dragControl(t,e)}},dragControlEnd:function(t,e){var n=e.datas,r=e.parentEvent;if(n.isResize){n.isResize=!1;var i=rJ(t,e,{});return r||r0(t,"onResizeEnd",i),i}},dragGroupControlCondition:n6,dragGroupControlStart:function(t,e){var n=e.datas,r=this.dragControlStart(t,eb(eb({},e),{isGroup:!0}));if(!r)return!1;var i=nl(t,"resizable",e),o=n.startOffsetWidth,a=n.startOffsetHeight;function s(){var t=n.minSize;i.forEach(function(e){var n=e.datas,r=n.minSize,i=n.startOffsetWidth,s=n.startOffsetHeight,u=o*(i?r[0]/i:0),l=a*(s?r[1]/s:0);t[0]=Math.max(t[0],u),t[1]=Math.max(t[1],l)})}function u(){var t=n.maxSize;i.forEach(function(e){var n=e.datas,r=n.maxSize,i=n.startOffsetWidth,s=n.startOffsetHeight,u=o*(i?r[0]/i:0),l=a*(s?r[1]/s:0);t[0]=Math.min(t[0],u),t[1]=Math.min(t[1],l)})}var l=nf(t,this,"dragControlStart",e,function(e,r){return np(t,e,n,r)});s(),u();var c=function(e){r.setFixedDirection(e),l.forEach(function(r,o){r.setFixedDirection(e),np(t,r.moveable,n,i[o])})};n.setFixedDirection=c;var f=eb(eb({},r),{targets:t.props.targets,events:l.map(function(t){return eb(eb({},t),{setMin:function(e){t.setMin(e),s()},setMax:function(e){t.setMax(e),u()}})}),setFixedDirection:c,setMin:function(t){r.setMin(t),s()},setMax:function(t){r.setMax(t),u()}}),p=r0(t,"onResizeGroupStart",f);return n.isResize=!1!==p,!!n.isResize&&r},dragGroupControl:function(t,e){var n=e.datas;if(n.isResize){var r=rB(t.props,"resizable");rQ(t,"onBeforeResize",function(n){r0(t,"onBeforeResizeGroup",r$(t,e,eb(eb({},n),{targets:r.targets}),!0))});var i=this.dragControl(t,eb(eb({},e),{isGroup:!0}));if(i){var o=i.boundingWidth,a=i.boundingHeight,s=i.dist,u=r.keepRatio,l=[o/(o-s[0]),a/(a-s[1])],c=n.fixedPosition,f=nf(t,this,"dragControl",e,function(e,n){var r=ex(tS(tO(t.rotation/180*Math.PI,3),[n.datas.originalX*l[0],n.datas.originalY*l[1],1],3),2),i=r[0],o=r[1];return eb(eb({},n),{parentDist:null,parentScale:l,dragClient:tb(c,[i,o]),parentKeepRatio:u})}),p=eb({targets:r.targets,events:f},i);return r0(t,"onResizeGroup",p),p}}},dragGroupControlEnd:function(t,e){var n=e.isDrag;if(e.datas.isResize){this.dragControlEnd(t,e);var r=nf(t,this,"dragControlEnd",e),i=rJ(t,e,{targets:t.props.targets,events:r});return r0(t,"onResizeGroupEnd",i),n}},request:function(t){var e={},n=0,r=0,i=!1,o=t.getRect();return{isControl:!0,requestStart:function(t){var n;return i=t.useSnap,{datas:e,parentDirection:t.direction||[1,1],parentIsWidth:null===(n=null==t?void 0:t.horizontal)||void 0===n||n,useSnap:i}},request:function(t){return"offsetWidth"in t?n=t.offsetWidth-o.offsetWidth:"deltaWidth"in t&&(n+=t.deltaWidth),"offsetHeight"in t?r=t.offsetHeight-o.offsetHeight:"deltaHeight"in t&&(r+=t.deltaHeight),{datas:e,parentDist:[n,r],parentKeepRatio:t.keepRatio,useSnap:i}},requestEnd:function(){return{datas:e,isDrag:!0,useSnap:i}}}},unset:function(t){t.state.gestos.resizable=null}};function n7(t,e,n,r,i){var o=t.props.groupable,a=t.state,s=a.is3d?4:3,u=e.origin,l=rO(t.state.rootMatrix,tx([u[0],u[1]],o?[0,0]:[a.left,a.top]),s),c=tb([i.left,i.top],l);e.startAbsoluteOrigin=c,e.prevDeg=Z(c,[n,r])/Math.PI*180,e.defaultDeg=e.prevDeg,e.prevSnapDeg=0,e.loop=0,e.startDist=$(c,[n,r])}function n9(t,e,n){var r=n.defaultDeg,i=n.prevDeg,o=i%360,a=Math.floor(i/360);o<0&&(o+=360),o>t&&o>270&&t<90?++a:o<t&&o<90&&t>270&&--a;var s=e*(360*a+t-r);return n.prevDeg=r+s,s}function rt(t,e,n,r){return n9(Z(r.startAbsoluteOrigin,[t,e])/Math.PI*180,n,r)}function re(t,e,n,r,i,o){var a=t.props.throttleRotate,s=n.prevSnapDeg,u=0,l=!1;if(o){var c=function(t,e,n,r){var i,o=t.props,a=null!==(i=o[nz])&&void 0!==i?i:5,s=o[nG];if(nO(t,"rotatable")){var u=e.pos1,l=e.pos2,c=e.pos3,f=e.pos4,p=e.origin,d=n*Math.PI/180,h=[u,l,c,f].map(function(t){return tx(t,p)}),v=h.map(function(t){return tM(t,d)}),g=ey(ey([],ex(function(t,e,n,r,i){if(!t.props.bounds)return[];var o=i*Math.PI/180,a=ny(t),s=a.left,u=a.top,l=a.right,c=a.bottom,f=s-r[0],p=l-r[0],d=u-r[1],h=c-r[1],v={left:f,top:d,right:p,bottom:h};if(!nE(n,v,0))return[];var g=[];return[[f,0],[p,0],[d,1],[h,1]].forEach(function(t){var r=ex(t,2),i=r[0],a=r[1];n.forEach(function(t){var n,r,s=Z([0,0],t);g.push.apply(g,ey([],ex([r=Math.sqrt((n=rz(t))*n-i*i)||0,-r].sort(function(e,n){return iv(e-t[a?0:1])-iv(n-t[a?0:1])}).map(function(t){return Z([0,0],a?[t,i]:[i,t])}).map(function(t){return o+t-s}).filter(function(t){return!nE(e,v,t)}).map(function(t){return J(180*t/Math.PI,1e-7)})),!1))})}),g}(t,h,v,p,n)),!1),ex(function(t,e,n,r,i){var o=t.props.innerBounds,a=i*Math.PI/180;if(!o)return[];var s=o.left,u=o.top,l=o.width,c=o.height,f=s-r[0],p=s+l-r[0],d=u-r[1],h=u+c-r[1],v=[[f,d],[p,d],[f,h],[p,h]],g=e0(n,[0,0]);if(!n$(n,v,g,0))return[];var m=[],b=v.map(function(t){return[rz(t),Z([0,0],t)]});return[[n[0],n[1]],[n[1],n[3]],[n[3],n[2]],[n[2],n[0]]].forEach(function(t){var n=Z([0,0],function(t){var e=ex(t,2),n=e[0],r=e[1],i=r[0]-n[0],o=r[1]-n[1];if(!i)return[n[0],0];if(!o)return[0,n[1]];var a=o/i,s=-a*n[0]+n[1];return[-s/(a+1/a),s/(a*a+1)]}(t)),r=function(t){var e=ex(t,2),n=e[0],r=e[1],i=r[0]-n[0],o=r[1]-n[1];if(!i)return iv(n[0]);if(!o)return iv(n[1]);var a=o/i;return iv((-a*n[0]+n[1])/Math.sqrt(Math.pow(a,2)+1))}(t);m.push.apply(m,ey([],ex(b.filter(function(t){var e=ex(t,1)[0];return e&&r<=e}).map(function(t){var e=ex(t,2),i=e[0],o=e[1],s=Math.acos(i?r/i:0);return[a+(o+s)-n,a+(o-s)-n]}).reduce(function(t,e){return t.push.apply(t,ey([],ex(e),!1)),t},[]).filter(function(t){return!n$(e,v,g,t)}).map(function(t){return J(180*t/Math.PI,1e-7)})),!1))}),m}(t,h,v,p,n)),!1);g.sort(function(t,e){return iv(t-n)-iv(e-n)});var m=g.length>0;if(m)return{isSnap:m,dist:m?g[0]:n}}if((null==s?void 0:s.length)&&a){var b,x,y,S,E=s.slice().sort(function(t,e){return rv(t,r)-rv(e,r)})[0];if(rv(E,r)<=a)return{isSnap:!0,dist:n+(b=rh(b=E),y=360*(x=Math.floor(r/360))+360-b,S=360*x+b,iv(r-y)<iv(r-S)?y:S)-r}}return{isSnap:!1,dist:n}}(t,e,r,i+r);l=c.isSnap,u=i+c.dist}l||(u=J(i+r,void 0===a?0:a));var f=u-i;return n.prevSnapDeg=f,[f-s,f,u]}function rn(t,e){if(e.isRequest)return"rotatable"===e.requestAble;var n=e.inputEvent.target;if(tt(n,rx("rotation-control"))||t.props.rotateAroundControls&&tt(n,rx("around-control"))||tt(n,rx("control"))&&tt(n,rx("rotatable")))return!0;var r=t.props.rotationTarget;return!!r&&is(r,!0).some(function(t){return!!t&&(n===t||n.contains(t))})}function rr(t,e){var n,r,i,o,a,s,u,l,c,f;return i=(n=eb(eb({},t),{classNames:ey([rx("line","guideline",t.direction)],ex(t.classNames),!1).filter(function(t){return t}),size:t.size||"".concat(t.sizeValue,"px"),pos:t.pos||t.posValue.map(function(t){return"".concat(J(t,.1),"px")})})).direction,o=n.classNames,a=n.size,s=n.pos,u=n.zoom,l=n.key,f=(c="horizontal"===i)?"Y":"X",e.createElement("div",{key:l,className:o.join(" "),style:((r={})[c?"width":"height"]="".concat(a),r.transform="translate(".concat(s[0],", ").concat(s[1],") translate").concat(f,"(-50%) scale").concat(f,"(").concat(u,")"),r)})}function ri(t,e,n,r,i,o,a,s){var u=t.props.zoom;return n.map(function(t,n){var l=t.type,c=t.pos,f=[0,0];return f[a]=r,f[a?0:1]=-i+c,rr({key:"".concat(e,"TargetGuideline").concat(n),classNames:[rx("target","bold",l)],posValue:f,sizeValue:o,zoom:u,direction:e},s)})}function ro(t,e,n,r,i,o){var a=t.props,s=a.zoom,u=a.isDisplayInnerSnapDigit,l="horizontal"===e?nM:nR,c=i[l.start],f=i[l.end];return n.filter(function(t){var e=t.hide,n=t.elementRect;if(e)return!1;if(u&&n){var r=n.rect;if(r[l.start]<=c&&f<=r[l.end])return!1}return!0}).map(function(t,n){var i=t.pos,a=t.size,u=t.element,l=t.className,c=[-r[0]+i[0],-r[1]+i[1]];return rr({key:"".concat(e,"-default-guideline-").concat(n),classNames:u?[rx("bold"),l]:[rx("normal"),l],direction:e,posValue:c,sizeValue:a,zoom:s},o)})}function ra(t,e,n,r,i,o,a,s){var u,l=t.props,c=l.snapDigit,f=l.isDisplaySnapDigit,p=l.snapDistFormat,d=l.zoom,h="horizontal"===e?"X":"Y",v="vertical"===e?"height":"width",g=Math.abs(i),m=void 0===f||f?parseFloat(g.toFixed(void 0===c?0:c)):0;return s.createElement("div",{key:"".concat(e,"-").concat(n,"-guideline-").concat(r),className:rx("guideline-group",e),style:((u={left:"".concat(o[0],"px"),top:"".concat(o[1],"px")})[v]="".concat(g,"px"),u)},rr({direction:e,classNames:[rx(n),a],size:"100%",posValue:[0,0],sizeValue:g,zoom:d},s),s.createElement("div",{className:rx("size-value","gap"),style:{transform:"translate".concat(h,"(-50%) scale(").concat(d,")")}},m>0?(void 0===p?function(t,e){return t}:p)(m,e):""))}function rs(t){var e,n,r,i,o,a,s,u,l,c=t.state,f=c.containerClientRect,p=c.hasFixed,d=f.overflow,h=f.scrollHeight,v=f.scrollWidth,g=f.clientHeight,m=f.clientWidth,b=f.clientLeft,x=f.clientTop,y=t.props,S=y.snapGap,E=y.verticalGuidelines,D=y.horizontalGuidelines,C=y.snapThreshold,w=void 0===C?5:C,M=y.maxSnapElementGuidelineDistance,_=void 0===M?1/0:M,O=y.isDisplayGridGuidelines,P=rT(rL(t.state)),T=P.top,z=P.left,G=P.bottom,k=P.right,I={top:T,left:z,bottom:G,right:k,center:(z+k)/2,middle:(T+G)/2},B=ey([],ex(function(t){var e=t.state,n=t.props.elementGuidelines,r=void 0===n?[]:n;if(!r.length)return e.elementRects=[],[];var i=(e.elementRects||[]).filter(function(t){return!t.refresh}),o=r.map(function(t){return R(t)&&"element"in t?eb(eb({},t),{element:ia(t.element,!0)}):{element:ia(t,!0)}}).filter(function(t){return t.element}),a=tW(i.map(function(t){return t.element}),o.map(function(t){return t.element}),tL),s=a.maintained,u=a.added,l=[];s.forEach(function(t){var e=ex(t,2),n=e[0];l[e[1]]=i[n]}),(function(t,e){if(!e.length)return[];var n,r=t.props.groupable,i=t.state,o=i.containerClientRect,a=i.rootMatrix,s=i.is3d,u=i.offsetDelta,l=s?4:3,c=ex((n=rO(a,[o.clientLeft,o.clientTop],l),[o.left+n[0],o.top+n[1]]),2),f=c[0],p=c[1],d=r?0:u[0],h=r?0:u[1];return e.map(function(t){var e=t.element.getBoundingClientRect(),n=e.left-f-d,r=e.top-p-h,i=r+e.height,o=n+e.width,s=ex(r7(a,[n,r],l),2),u=s[0],c=s[1],v=ex(r7(a,[o,i],l),2),g=v[0],m=v[1];return eb(eb({},t),{rect:{left:u,right:g,top:c,bottom:m,center:(u+g)/2,middle:(c+m)/2}})})})(t,u.map(function(t){return o[t]})).map(function(t,e){l[u[e]]=t}),e.elementRects=l;var c=nP(t.props.elementSnapDirections),f=[];return l.forEach(function(t){var e=t.element,n=t.top,r=void 0===n?c.top:n,i=t.left,o=void 0===i?c.left:i,a=t.right,s=void 0===a?c.right:a,u=t.bottom,l=void 0===u?c.bottom:u,p=t.center,d=void 0===p?c.center:p,h=t.middle,v=void 0===h?c.middle:h,g=t.className,m=t.rect,b=nT({top:r,right:s,left:o,bottom:l,center:d,middle:v},m),x=b.horizontal,y=b.vertical,S=b.horizontalNames,E=b.verticalNames,D=m.top,C=m.left,w=m.right-C,M=m.bottom-D,R=[w,M];y.forEach(function(n,r){f.push({type:"vertical",element:e,pos:[J(n,.1),D],size:M,sizes:R,className:g,elementRect:t,elementDirection:nw[E[r]]||E[r],direction:""})}),x.forEach(function(n,r){f.push({type:"horizontal",element:e,pos:[C,J(n,.1)],size:w,sizes:R,className:g,elementRect:t,elementDirection:nw[S[r]]||S[r],direction:""})})}),f}(t)),!1),A=(null!==(l=null===(u=c.snapThresholdInfo)||void 0===u?void 0:u.multiples)&&void 0!==l?l:[1,1]).map(function(t){return t*w});(void 0===S||S)&&B.push.apply(B,ey([],ex((r=void 0===(n=(e=t.props).maxSnapElementGuidelineDistance)?1/0:n,o=void 0===(i=e.maxSnapElementGapDistance)?1/0:i,a=t.state.elementRects,s=[],[["vertical",nM,nR],["horizontal",nR,nM]].forEach(function(t){var e=ex(t,3),n=e[0],i=e[1],u=e[2],l=I[i.start],c=I[i.end],f=I[i.center],p=I[u.start],d=I[u.end],h={left:A[0],top:A[1]};function v(t){var e=t.rect,n=h[i.start];return e[i.end]<l+n?l-e[i.end]:c-n<e[i.start]?e[i.start]-c:-1}var g=a.filter(function(t){var e=t.rect;return!(e[u.start]>d)&&!(e[u.end]<p)&&v(t)>0}).sort(function(t,e){return v(t)-v(e)}),m=[];g.forEach(function(t){g.forEach(function(e){if(t!==e){var n=t.rect,r=e.rect,i=n[u.start],o=n[u.end],a=r[u.start];i>r[u.end]||a>o||m.push([t,e])}})}),m.forEach(function(t){var e=ex(t,2),a=e[0],u=e[1],p=a.rect,d=u.rect,v=p[i.start],g=p[i.end],m=d[i.start],b=d[i.end],x=h[i.start],y=0,S=0,E=!1,D=!1,C=!1;if(g<=l&&c<=m){if(D=!0,y=(m-g-(c-l))/2,iv((S=g+y+(c-l)/2)-f)>x)return}else if(g<m&&b<l+x){if(E=!0,iv((S=b+(y=m-g))-l)>x)return}else if(!(g<m)||!(c-x<v))return;else if(C=!0,iv((S=v-(y=m-g))-c)>x)return;y&&ru(I,d,n,r)&&!(y>o)&&s.push({type:n,pos:"vertical"===n?[S,0]:[0,S],element:u.element,size:0,className:u.className,isStart:E,isCenter:D,isEnd:C,gap:y,hide:!0,gapRects:[a,u],direction:"",elementDirection:""})})}),s)),!1));var F=eb({},c.snapOffset||{left:0,top:0,bottom:0,right:0});if(B.push.apply(B,ey([],ex(function(t,e,n,r,i,o,a){void 0===r&&(r=0),void 0===i&&(i=0);var s=t.props,u=t.state,l=s.snapGridWidth,c=void 0===l?0:l,f=s.snapGridHeight,p=void 0===f?0:f,d=[],h=o.left,v=o.top,g=[0,0];!function(t,e,n,r){var i,o,a=t.props,s=t.state,u=a.snapGridAll,l=a.snapGridWidth,c=void 0===l?0:l,f=a.snapGridHeight,p=void 0===f?0:f,d=s.snapRenderInfo,h=d&&((null===(i=d.direction)||void 0===i?void 0:i[0])||(null===(o=d.direction)||void 0===o?void 0:o[1])),v=t.moveables;if(u&&v&&h&&(c||p)){if(s.snapThresholdInfo)return;s.snapThresholdInfo={multiples:[1,1],offset:[0,0]};var g=t.getRect(),m=g.children,b=d.direction;if(m){var x=b.map(function(t,i){var o,a,s,u=0===i?{snapSize:c,posName:"left",sizeName:"width",clientOffset:r.left-e}:{snapSize:p,posName:"top",sizeName:"height",clientOffset:r.top-n},l=u.snapSize,f=u.posName,d=u.sizeName,h=u.clientOffset;if(!l)return{dir:t,multiple:1,snapSize:l,snapOffset:0};var v=g[d],b=g[f],x=m.map(function(t){return[t[f]-b,t[d],v-t[d]-t[f]+b]}).reduce(function(t,e){return t.concat(e)},[]).filter(function(t){return t}).sort(function(t,e){return t-e}),y=x[0],S=x.map(function(t){return J(t/y,.1)*l}),E=1,D=J(v/y,.1);for(E=1;E<=10&&!S.every(function(t){return t*E%1==0});++E);var C=(-t+1)/2,w=(o=b-h,a=b-h+v,(o*(s=1-C)+a*C)/(C+s));return{multiple:D*E,dir:t,snapSize:l,snapOffset:Math.round(w/l)}}),y=x.map(function(t){return t.multiple||1});s.snapThresholdInfo.multiples=y,s.snapThresholdInfo.offset=x.map(function(t){return t.snapOffset}),x.forEach(function(t,e){t.snapSize})}}else s.snapThresholdInfo=null}(t,r,i,o);var m=u.snapThresholdInfo,b=c,x=p;if(m&&(c*=m.multiples[0]||1,p*=m.multiples[1]||1,g=m.offset),p){for(var y=function(t){d.push({type:"horizontal",pos:[h,J(g[1]*x+t-i+v,.1)],className:rx("grid-guideline"),size:e,hide:!a,direction:"",grid:!0})},S=0;S<=2*n;S+=p)y(S);for(var S=-p;S>=-n;S-=p)y(S)}if(c){for(var y=function(t){d.push({type:"vertical",pos:[J(g[0]*b+t-r+h,.1),v],className:rx("grid-guideline"),size:n,hide:!a,direction:"",grid:!0})},S=0;S<=2*e;S+=c)y(S);for(var S=-c;S>=-e;S-=c)y(S)}return d}(t,d?v:m,d?h:g,b,x,F,O)),!1)),p){var N=f.left,Y=f.top;F.left+=N,F.top+=Y,F.right+=N,F.bottom+=Y}return B.push.apply(B,ey([],ex(rc(D||!1,E||!1,d?v:m,d?h:g,b,x,F)),!1)),B=B.filter(function(t){var e=t.element,n=t.elementRect,r=t.type;return!e||!n||ru(I,n.rect,r,_)})}function ru(t,e,n,r){return"horizontal"===n?iv(t.right-e.left)<=r||iv(t.left-e.right)<=r||t.left<=e.right&&e.left<=t.right:"vertical"!==n||iv(t.bottom-e.top)<=r||iv(t.top-e.bottom)<=r||t.top<=e.bottom&&e.top<=t.bottom}function rl(t,e){return t?t.map(function(t){var n=R(t)?t:{pos:t},r=n.pos;return P(r)?n:eb(eb({},n),{pos:j(r,e)})}):[]}function rc(t,e,n,r,i,o,a){void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a={left:0,top:0,right:0,bottom:0});var s=[],u=a.left,l=a.top,c=a.bottom,f=n+a.right-u,p=r+c-l;return rl(t,p).forEach(function(t){s.push({type:"horizontal",pos:[u,J(t.pos-o+l,.1)],size:f,className:t.className,direction:""})}),rl(e,f).forEach(function(t){s.push({type:"vertical",pos:[J(t.pos-i+u,.1),l],size:p,className:t.className,direction:""})}),s}function rf(t){var e=t.state,n=e.container,r=t.props.snapContainer||n;if(e.snapContainer===r&&e.guidelines&&e.guidelines.length)return!1;var i=e.containerClientRect,o={left:0,top:0,bottom:0,right:0};if(n!==r){var a=ia(r,!0);if(a){var s=rX(a),u=iu(e,[s.left-i.left,s.top-i.top]),l=iu(e,[s.right-i.right,s.bottom-i.bottom]);o.left=J(u[0],1e-5),o.top=J(u[1],1e-5),o.right=J(l[0],1e-5),o.bottom=J(l[1],1e-5)}}return e.snapContainer=r,e.snapOffset=o,e.guidelines=rs(t),e.enableSnap=!0,!0}function rp(t,e,n,r,i,o){var a=rP(t,e,n,o?4:3),s=e0(a,r);return rH(a,tx(i,s))}function rd(t,e,n,r,i,o,a,s){for(var u=rL(t.state),l=t.props.keepRatio,c=0,f=0,p=0;p<2;++p){var d=function(t,e,n,r,i,o){var a=function(t,e,n){var r=[];if(n)1!==iv(e[0])||1!==iv(e[1])?r.push([e,[-1,-1]],[e,[-1,1]],[e,[1,-1]],[e,[1,1]]):r.push([e,[t[0],-t[1]]],[e,[-t[0],t[1]]]),r.push([e,t]);else if(t[0]&&t[1]||!t[0]&&!t[1]){var i=t[0]?t:[1,1];[1,-1].forEach(function(t){[1,-1].forEach(function(n){var o=[t*i[0],n*i[1]];(e[0]!==o[0]||e[1]!==o[1])&&r.push([e,o])})})}else if(t[0]){var o=1===iv(e[0])?[1]:[1,-1];o.forEach(function(n){r.push([[e[0],-1],[n*t[0],-1]],[[e[0],0],[n*t[0],0]],[[e[0],1],[n*t[0],1]])})}else if(t[1]){var o=1===iv(e[1])?[1]:[1,-1];o.forEach(function(n){r.push([[-1,e[1]],[-1,n*t[1]]],[[0,e[1]],[0,n*t[1]]],[[1,e[1]],[1,n*t[1]]])})}return r}(n,o.fixedDirection,r),s=nK(t,e,n,r),u=ey(ey([],ex(a.map(function(n){var a,s,u,l,c,f,p,d,h,v,g,m,b=ex(n,2),x=b[0],y=b[1],S=e0(e,x),E=e0(e,y),D=r?function(t,e,n,r){var i=function(t,e,n){var r=ny(t),i=r.left,o=r.top,a=r.right,s=r.bottom,u=ex(n,2),l=u[0],c=u[1],f=ex(tx(n,e),2),p=f[0],d=f[1];1e-7>iv(p)&&(p=0),1e-7>iv(d)&&(d=0);var h=d>0,v=p>0,g={isBound:!1,offset:0,pos:0},m={isBound:!1,offset:0,pos:0};if(0===p&&0===d);else if(0===p)h?s<c&&(m.pos=s,m.offset=c-s):o>c&&(m.pos=o,m.offset=c-o);else if(0===d)v?a<l&&(g.pos=a,g.offset=l-a):i>l&&(g.pos=i,g.offset=l-i);else{var b=d/p,x=n[1]-b*l,y=0,S=0,E=!1;v&&a<=l?(y=b*a+x,S=a,E=!0):!v&&l<=i&&(y=b*i+x,S=i,E=!0),E&&(y<o||y>s)&&(E=!1),E||(h&&s<=c?(S=((y=s)-x)/b,E=!0):h||!(c<=o)||(S=((y=o)-x)/b,E=!0)),E&&(g.isBound=!0,g.pos=S,g.offset=l-S,m.isBound=!0,m.pos=y,m.offset=c-y)}return{vertical:g,horizontal:m}}(t,e,n),o=i.horizontal,a=i.vertical,s=r?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:function(t,e,n){var r=ex(n,2),i=r[0],o=r[1],a=ex(e,2),s=a[0],u=a[1],l=ex(tx(n,e),2),c=l[0],f=l[1],p=f>0,d=c>0;c=ir(c),f=ir(f);var h={isSnap:!1,offset:0,pos:0},v={isSnap:!1,offset:0,pos:0};if(0===c&&0===f)return{vertical:h,horizontal:v};var g=nB(t,c?[i]:[],f?[o]:[],[],[],void 0,void 0),m=g.vertical,b=g.horizontal;m.posInfos.filter(function(t){var e=t.pos;return d?e>=s:e<=s}),b.posInfos.filter(function(t){var e=t.pos;return p?e>=u:e<=u}),m.isSnap=m.posInfos.length>0,b.isSnap=b.posInfos.length>0;var x=nY(m),y=x.isSnap,S=x.guideline,E=nY(b),D=E.isSnap,C=E.guideline,w=D?C.pos[1]:0,M=y?S.pos[0]:0;if(0===c)D&&(v.isSnap=!0,v.pos=C.pos[1],v.offset=o-v.pos);else if(0===f)y&&(h.isSnap=!0,h.pos=M,h.offset=i-M);else{var R=f/c,_=n[1]-R*i,O=0,P=0,T=!1;y?(O=R*(P=M)+_,T=!0):D&&(P=((O=w)-_)/R,T=!0),T&&(h.isSnap=!0,h.pos=P,h.offset=i-P,v.isSnap=!0,v.pos=O,v.offset=o-O)}return{vertical:h,horizontal:v}}(t,e,n),u=s.horizontal,l=s.vertical,c=n2(o,u),f=n2(a,l),p=iv(c),d=iv(f);return{horizontal:{isBound:o.isBound,isSnap:u.isSnap,offset:c,dist:p},vertical:{isBound:a.isBound,isSnap:l.isSnap,offset:f,dist:d}}}(t,S,E,i):n0(t,i,{vertical:[E[0]],horizontal:[E[1]]}),C=D.horizontal,w=C.offset,M=C.isBound,R=C.isSnap,_=D.vertical,O=_.offset,P=_.isBound,T=_.isSnap,z=tx(y,x);if(!O&&!w)return{isBound:P||M,isSnap:T||R,sign:z,offset:[0,0]};var G=(a=Z(S,E)/Math.PI*180,u=(s=D.vertical).isBound,l=s.isSnap,c=s.dist,p=(f=D.horizontal).isBound,d=f.isSnap,h=f.dist,g=(v=a%180)<3||v>177,m=v>87&&v<93,h<c&&(u||l&&!m&&(!r||!g))?"vertical":!p&&(!d||g||r&&m)?"":"horizontal");if(!G)return{sign:z,isBound:!1,isSnap:!1,offset:[0,0]};var k="vertical"===G,I=[0,0];return I=(I=r||1!==iv(y[0])||1!==iv(y[1])||x[0]===y[0]||x[1]===y[1]?nJ(S,E,-(k?O:w),k,o).offset:e$({datas:o,distX:-O,distY:-w})).map(function(t,e){return t*(z[e]?2/z[e]:0)}),{sign:z,isBound:k?P:M,isSnap:k?T:R,offset:I}})),!1),ex(nZ(t,s,o)),!1),l=nW(u,0),c=nW(u,1);return{width:{isBound:l.isBound,offset:l.offset[0]},height:{isBound:c.isBound,offset:c.offset[1]}}}(t,e(c,f),i,l,a,s),h=d.width,v=d.height,g=h.isBound,m=v.isBound,b=h.offset,x=v.offset;if(1!==p||(g||(b=0),m||(x=0)),0===p&&a&&!g&&!m)return[0,0];if(l){var y=iv(b)*(n?1/n:1),S=iv(x)*(r?1/r:1);(g&&m?y<S:m||!g&&y<S)?b=n*x/r:x=r*b/n}c+=b,f+=x}if(!l&&i[0]&&i[1]){var E=function(t,e,n,r,i){var o=[-n[0],-n[1]],a=t.state,s=a.width,u=a.height,l=t.props.bounds,c=1/0,f=1/0;if(l){var p=[[n[0],-n[1]],[-n[0],n[1]]],d=l.left,h=void 0===d?-1/0:d,v=l.top,g=void 0===v?-1/0:v,m=l.right,b=void 0===m?1/0:m,x=l.bottom,y=void 0===x?1/0:x;p.forEach(function(t){var n=t[0]!==o[0],a=t[1]!==o[1],l=e0(e,t),p=360*Z(r,l)/Math.PI;if(a){var d=l.slice();(2>iv(p-360)||2>iv(p-180))&&(d[1]=r[1]);var v=nJ(r,d,(r[1]<l[1]?y:g)-l[1],!1,i),m=ex(v.offset,2)[1],x=v.isOutside;isNaN(m)||(f=u+(x?1:-1)*iv(m))}if(n){var d=l.slice();(2>iv(p-90)||2>iv(p-270))&&(d[0]=r[0]);var S=nJ(r,d,(r[0]<l[0]?b:h)-l[0],!0,i),E=ex(S.offset,1)[0],D=S.isOutside;isNaN(E)||(c=s+(D?1:-1)*iv(E))}})}return{maxWidth:c,maxHeight:f}}(t,u,i,o,s),D=E.maxWidth,C=E.maxHeight,w=ex(function(t,e,n,r,i,o,a,s,u){var l=e0(e,a),c=n0(t,s,{vertical:[l[0]],horizontal:[l[1]]}),f=c.horizontal.offset,p=c.vertical.offset;if(J(p,1e-4)||J(f,1e-4)){var d=ex(e$({datas:u,distX:-p,distY:-f}),2),h=d[0],v=d[1];return[Math.min(i||1/0,n+a[0]*h)-n,Math.min(o||1/0,r+a[1]*v)-r]}return[0,0]}(t,e(c,f).map(function(t){return t.map(function(t){return J(t,1e-4)})}),n+c,r+f,D,C,i,a,s),2),b=w[0],x=w[1];c+=b,f+=x}return[c,f]}function rh(t){return t<0&&(t=t%360+360),t%=360}function rv(t,e){t=rh(t),e=rh(e);var n=rh(t-e);return Math.min(n,360-n)}function rg(t){var e=[];return t.forEach(function(t){t.guidelineInfos.forEach(function(n){var r=n.guideline;Y(e,function(t){return t.guideline===r})||(r.direction="",e.push({guideline:r,posInfo:t}))})}),e.map(function(t){var e=t.guideline,n=t.posInfo;return eb(eb({},e),{direction:n.direction})})}function rm(t,e,n,r,i,o){var a=nx(ny(t,o),e,n),s=a.vertical,u=a.horizontal,l=n_();s.forEach(function(t){t.isBound&&("start"===t.direction&&(l.left=!0),"end"===t.direction&&(l.right=!0),r.push({type:"bounds",pos:t.pos}))}),u.forEach(function(t){t.isBound&&("start"===t.direction&&(l.top=!0),"end"===t.direction&&(l.bottom=!0),i.push({type:"bounds",pos:t.pos}))});var c=function(t){var e=t.props.innerBounds,n=n_();if(!e)return{boundMap:n,vertical:[],horizontal:[]};var r=t.getRect(),i=[r.pos1,r.pos2,r.pos3,r.pos4],o=e0(i,[0,0]),a=e.left,s=e.top,u=e.width,l=e.height,c=[[a,s],[a,s+l]],f=[[a,s],[a+u,s]],p=[[a+u,s],[a+u,s+l]],d=[[a,s+l],[a+u,s+l]],h=nK(t,i,[0,0],!1),v=[],g=[];return h.forEach(function(t){var e=t.line,r=t.lineConstants,i=nj(o,e),h=i.horizontal,m=i.vertical,b=nU(e,r,f,m,1,!0),x=nU(e,r,d,m,1,!0),y=nU(e,r,c,h,1,!0),S=nU(e,r,p,h,1,!0);b.isBound&&!n.top&&(v.push(s),n.top=!0),x.isBound&&!n.bottom&&(v.push(s+l),n.bottom=!0),y.isBound&&!n.left&&(g.push(a),n.left=!0),S.isBound&&!n.right&&(g.push(a+u),n.right=!0)}),{boundMap:n,horizontal:v,vertical:g}}(t),f=c.boundMap,p=c.vertical,d=c.horizontal;return p.forEach(function(t){N(r,function(e){var n=e.type,r=e.pos;return"bounds"===n&&r===t})>=0||r.push({type:"bounds",pos:t})}),d.forEach(function(t){N(i,function(e){var n=e.type,r=e.pos;return"bounds"===n&&r===t})>=0||i.push({type:"bounds",pos:t})}),{boundMap:l,innerBoundMap:f}}var rb=io("",["resizable","scalable"]);function rx(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return b.apply(void 0,ey([ek],ex(t),!1))}function ry(t){t()}function rS(t,e,n){return tg(e,tz(n,e),t,tz(n.map(function(t){return-t}),e))}function rE(t){return t?t.split(" "):["0","0"]}function rD(t){var e=nu(t)("transform");if(e&&"none"!==e)return e;if("transform"in t){var n=t.transform.baseVal;if(!n)return"";var r=n.length;if(!r)return"";for(var i=[],o=0;o<r;++o)!function(t){var e=n[t].matrix;i.push("matrix(".concat(["a","b","c","d","e","f"].map(function(t){return e[t]}).join(", "),")"))}(o);return i.join(" ")}return""}function rC(t,e,n,r,i){var o,a,s,u,l=ta(t)||ts(t),c=!1;if(!t||n)s=t;else{var f=null===(o=null==t?void 0:t.assignedSlot)||void 0===o?void 0:o.parentElement,p=t.parentElement;f?(c=!0,u=p,s=f):s=p}for(var d=!1,h=t===e||s===e,v="relative",g=1,m=parseFloat(null==i?void 0:i("zoom"))||1,b=null==i?void 0:i("position");s&&s!==l;){e===s&&(h=!0);var x=nu(s),y=s.tagName.toLowerCase(),S=rD(s),E=x("willChange"),D=parseFloat(x("zoom"))||1;if(v=x("position"),r&&1!==D){g=D;break}if(!n&&r&&1!==m&&b&&"absolute"!==b||"svg"===y||"foreignobject"===y||"static"!==v||S&&"none"!==S||"transform"===E)break;var C=null===(a=null==t?void 0:t.assignedSlot)||void 0===a?void 0:a.parentNode,w=s.parentNode;if(C&&(c=!0,u=w),w&&11===w.nodeType){s=w.host,d=!0,v=nu(s)("position");break}s=w,v="relative"}return{offsetZoom:g,hasSlot:c,parentSlotElement:u,isCustomElement:d,isStatic:"static"===v,isEnd:h||!s||s===l,offsetParent:s||l}}function rw(t,e){var n=nu(t),r=nu(ts(t)),i=r("position");if(!e&&(!i||"static"===i))return[0,0];var o=parseInt(r("marginLeft"),10),a=parseInt(r("marginTop"),10);return"absolute"===n("position")&&(("auto"!==n("top")||"auto"!==n("bottom"))&&(a=0),("auto"!==n("left")||"auto"!==n("right"))&&(o=0)),[o,a]}function rM(t){t.forEach(function(t){var e=t.matrix;e&&(t.matrix=tv(e,3,4))})}function rR(t,e){return void 0===e&&(e=t.length>9),"".concat(e?"matrix3d":"matrix","(").concat(ty(t,!e).join(","),")")}function r_(t){var e=t.clientWidth,n=t.clientHeight;if(!t)return{x:0,y:0,width:0,height:0,clientWidth:e,clientHeight:n};var r=t.viewBox,i=r&&r.baseVal||{x:0,y:0,width:0,height:0};return{x:i.x,y:i.y,width:i.width||e,height:i.height||n,clientWidth:e,clientHeight:n}}function rO(t,e,n){return tS(t,th(e,n),n)}function rP(t,e,n,r){return[[0,0],[e,0],[0,n],[e,n]].map(function(e){return rO(t,e,r)})}function rT(t){var e=t.map(function(t){return t[0]}),n=t.map(function(t){return t[1]}),r=Math.min.apply(Math,ey([],ex(e),!1)),i=Math.min.apply(Math,ey([],ex(n),!1)),o=Math.max.apply(Math,ey([],ex(e),!1)),a=Math.max.apply(Math,ey([],ex(n),!1));return{left:r,top:i,right:o,bottom:a,width:o-r,height:a-i}}function rz(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function rG(t,e){return rz([e[0]-t[0],e[1]-t[1]])}function rk(t,e,n,r){void 0===n&&(n=1),void 0===r&&(r=Z(t,e));var i=rG(t,e);return{transform:"translateY(-50%) translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(r,"rad) scaleY(").concat(n,")"),width:"".concat(i,"px")}}function rI(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n.length,o=n.reduce(function(t,e){return t+e[0]},0)/i,a=n.reduce(function(t,e){return t+e[1]},0)/i;return{transform:"translateZ(0px) translate(".concat(o,"px, ").concat(a,"px) rotate(").concat(t,"rad) scale(").concat(e,")")}}function rB(t,e){var n=t[e];return R(n)?eb(eb({},t),n):t}function rA(t){var e=t&&!M(t.offsetWidth),n=0,r=0,i=0,o=0,a=0,s=0,u=0,l=0,c=0,f=0,p=0,d=0,h=1/0,v=1/0,g=1/0,m=1/0,b=0,x=0,y=!1;if(t){if(!e&&t.ownerSVGElement){var S=t.getBBox();y=!0,n=S.width,r=S.height,a=n,s=r,u=n,l=r,i=n,o=r}else{var E=nu(t),D=t.style,C="border-box"===E("boxSizing"),w=parseFloat(E("borderLeftWidth"))||0,R=parseFloat(E("borderRightWidth"))||0,_=parseFloat(E("borderTopWidth"))||0,O=parseFloat(E("borderBottomWidth"))||0,P=parseFloat(E("paddingLeft"))||0,T=parseFloat(E("paddingRight"))||0,z=parseFloat(E("paddingTop"))||0,G=parseFloat(E("paddingBottom"))||0,k=P+T,I=z+G,B=k+(w+R),A=I+(_+O),F=E("position"),N=0,Y=0;if("clientLeft"in t){var q=null;if(q="absolute"===F?rC(t,ts(t)).offsetParent:t.parentElement){var X=nu(q);N=parseFloat(X("width")),Y=parseFloat(X("height"))}}c=Math.max(k,j(E("minWidth"),N)||0),f=Math.max(I,j(E("minHeight"),Y)||0),h=j(E("maxWidth"),N),v=j(E("maxHeight"),Y),isNaN(h)&&(h=1/0),isNaN(v)&&(v=1/0),b=j(D.width,0)||0,x=j(D.height,0)||0,a=parseFloat(E("width"))||0,s=parseFloat(E("height"))||0,u=1>iv(a-b)?H(c,b||a,h):a,l=1>iv(s-x)?H(f,x||s,v):s,n=u,r=l,i=u,o=l,C?(g=h,m=v,p=c,d=f,u=n-B,l=r-A):(g=h+B,m=v+A,p=c+B,d=f+A,n=u+B,r=l+A),i=u+k,o=l+I}}return{svg:y,offsetWidth:n,offsetHeight:r,clientWidth:i,clientHeight:o,contentWidth:u,contentHeight:l,inlineCSSWidth:b,inlineCSSHeight:x,cssWidth:a,cssHeight:s,minWidth:c,minHeight:f,maxWidth:h,maxHeight:v,minOffsetWidth:p,minOffsetHeight:d,maxOffsetWidth:g,maxOffsetHeight:m}}function rF(t,e){return Z(e>0?t[0]:t[1],e>0?t[1]:t[0])}function rN(){return{left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function rY(t,e){var n=t===ts(t)||t===ta(t),r={clientLeft:t.clientLeft,clientTop:t.clientTop,clientWidth:t.clientWidth,clientHeight:t.clientHeight,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight,overflow:!1};return n&&(r.clientHeight=Math.max(e.height,r.clientHeight),r.scrollHeight=Math.max(e.height,r.scrollHeight)),r.overflow="visible"!==nu(t)("overflow"),eb(eb({},e),r)}function rq(t,e,n,r){var i=t.left,o=t.right,a=t.top,s=t.bottom,u=e.top,l=e.left,c={left:l+i,top:u+a,right:l+o,bottom:u+s,width:o-i,height:s-a};return n&&r?rY(n,c):c}function rX(t,e){var n=0,r=0,i=0,o=0;if(t){var a=t.getBoundingClientRect();n=a.left,r=a.top,i=a.width,o=a.height}var s={left:n,top:r,width:i,height:o,right:n+i,bottom:r+o};return t&&e?rY(t,s):s}function rW(t,e,n,r){return t||(e?[0,0]:rj(n.target,r))}function rj(t,e){if(t){var n=t.getAttribute("data-rotation")||"",r=t.getAttribute("data-direction");if(e.deg=n,r){var i=[0,0];return r.indexOf("w")>-1&&(i[0]=-1),r.indexOf("e")>-1&&(i[0]=1),r.indexOf("n")>-1&&(i[1]=-1),r.indexOf("s")>-1&&(i[1]=1),i}}}function rH(t,e){return[tb(e,t[0]),tb(e,t[1]),tb(e,t[2]),tb(e,t[3])]}function rL(t){var e=t.left,n=t.top;return rH([t.pos1,t.pos2,t.pos3,t.pos4],[e,n])}function rV(t,e){t[e?"controlAbles":"targetAbles"].forEach(function(e){e.unset&&e.unset(t)})}function rU(t,e){var n=e?"controlGesto":"targetGesto",r=t[n];(null==r?void 0:r.isIdle())===!1&&rV(t,e),null==r||r.unset(),t[n]=null}function rZ(t,e){if(e){var n=e6(e);n.nextStyle=eb(eb({},n.nextStyle),t)}return{style:t,cssText:W(t).map(function(e){return"".concat(e.replace(/([a-z])([A-Z])/g,function(t,e,n){return""+e+"-"+n.toLowerCase()}),": ").concat(t[e],";")}).join("")}}function rK(t,e,n){var r=e.afterTransform||e.transform;return eb(eb({},rZ(eb(eb(eb({},t.style),e.style),{transform:r}),n)),{afterTransform:r,transform:t.transform})}function r$(t,e,n,r){var i=e.datas;i.datas||(i.datas={});var o=eb(eb({},n),{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,moveable:t,datas:i.datas,isRequest:e.isRequest,isRequestChild:e.isRequestChild,isFirstDrag:!!e.isFirstDrag,isTrusted:!1!==e.isTrusted,stopAble:function(){i.isEventStart=!1},stopDrag:function(){var t;null===(t=e.stop)||void 0===t||t.call(e)}});return i.isStartEvent?r||(i.lastEvent=o):i.isStartEvent=!0,o}function rJ(t,e,n){var r=e.datas,i="isDrag"in n?n.isDrag:e.isDrag;return r.datas||(r.datas={}),eb(eb({isDrag:i},n),{moveable:t,target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,lastEvent:r.lastEvent,isDouble:e.isDouble,datas:r.datas,isFirstDrag:!!e.isFirstDrag})}function rQ(t,e,n){t._emitter.on(e,n)}function r0(t,e,n,r,i){return t.triggerEvent(e,n,r,i)}function r1(t,e){return tu(t).getComputedStyle(t,e)}function r2(t,e,n){var r={},i={};return t.filter(function(t){var o=t.name;if(r[o]||!e.some(function(e){return t[e]}))return!1;if(!n&&t.ableGroup){if(i[t.ableGroup])return!1;i[t.ableGroup]=!0}return r[o]=!0,!0})}function r3(t,e){return t===e||null==t&&null==e}function r4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.length-1,r=0;r<n;++r){var i=t[r];if(!M(i))return i}return t[n]}function r5(t,e){var n=[],r=[];return t.forEach(function(i,o){var a=e(i,o,t),s=r.indexOf(a),u=n[s]||[];-1===s&&(r.push(a),n.push(u)),u.push(i)}),n}function r6(t){return t.reduce(function(t,e){return t.concat(e)},[])}function r8(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort(function(t,e){return iv(e)-iv(t)}),t[0]}function r7(t,e,n){return tS(tp(t,n),th(e,n),n)}function r9(t,e){var n,r=t.is3d;return n=ex(r7(t.rootMatrix,[e.distX,e.distY],r?4:3),2),e.distX=n[0],e.distY=n[1],e}function it(t,e,n,r){if(!n[0]&&!n[1])return e;var i,o,a=rO(t,[(i=n[0]||1)/iv(i),0],r),s=rO(t,[0,(o=n[1]||1)/iv(o)],r);return tb(e,rO(t,[n[0]/rz(a),n[1]/rz(s)],r))}function ie(t,e,n){return n?"".concat(t/e*100,"%"):"".concat(t,"px")}function ir(t){return 1e-7>=iv(t)?0:t}function ii(t){return function(e){if(!e.isDragging(t))return"";var n,r,i,o=(r=e.targetGesto,i=e.controlGesto,(null==r?void 0:r.isFlag())&&(n=r.getEventData()[t]),!n&&(null==i?void 0:i.isFlag())&&(n=i.getEventData()[t]),n||{}).deg;return o?rx("view-control-rotation".concat(o)):""}}function io(t,e){return void 0===e&&(e=[t]),function(n,r){if(r.isRequest)return!!e.some(function(t){return r.requestAble===t})&&r.parentDirection;var i=r.inputEvent.target;return tt(i,rx("direction"))&&(!t||tt(i,rx(t)))}}function ia(t,e){return t?tc(t)?t:O(t)?e?document.querySelector(t):t:T(t)?t():tl(t)?t:"current"in t?t.current:t:null}function is(t,e){return t?(!(!t||!R(t)||tc(t))&&(_(t)||"length"in t)?[].slice.call(t):[t]).reduce(function(t,n){return O(n)&&e?ey(ey([],ex(t),!1),ex([].slice.call(document.querySelectorAll(n))),!1):(_(n)?t.push(is(n,e)):t.push(ia(n,e)),t)},[]):[]}function iu(t,e){var n,r,i=t.rootMatrix,o=t.is3d,a=tp(i,o?4:3);return o||(a=tv(a,3,4)),a[12]=0,a[13]=0,a[14]=0,r=(n=tS(a,[e[0],e[1]||0,e[2]||0,1],4))[3]||1,[n[0]/r,n[1]/r,n[2]/r]}function il(t,e,n,r,i){var o=ex(t,2),a=o[0],s=o[1],u=0,l=0;if(i&&a&&s){var c=Math.cos(Z([0,0],e)-Z([0,0],r))*rz(e);if(r[0]){if(r[1]){var f=r[0]*a,p=r[1]*s,d=Math.atan2(f+e[0],p+e[1]),h=Math.atan2(f,p);d<0&&(d+=2*Math.PI),h<0&&(h+=2*Math.PI);var v=0;iv(d-h)<Math.PI/2||iv(d-h)>Math.PI/2*3||(h+=Math.PI),(v=d-h)>2*Math.PI?v-=2*Math.PI:v>Math.PI?v=2*Math.PI-v:v<-Math.PI&&(v=-2*Math.PI-v);var g=rz([f+e[0],p+e[1]])*Math.cos(v);u=g*Math.sin(h)-f,l=g*Math.cos(h)-p,r[0]<0&&(u*=-1),r[1]<0&&(l*=-1)}else l=(u=c)/n}else u=(l=c)*n}else u=r[0]*e[0],l=r[1]*e[1];return[u,l]}function ic(t,e,n,r){var i,o=n.ratio,a=n.startOffsetWidth,s=n.startOffsetHeight,u=0,l=0,c=r.distX,f=r.distY,p=r.pinchScale,d=r.parentDistance,h=r.parentDist,v=r.parentScale,g=n.fixedDirection,m=[0,1].map(function(e){return iv(t[e]-g[e])}),b=[0,1].map(function(t){var e=m[t];return 0!==e&&(e=2/e),e});if(h)u=h[0],l=h[1],e&&(u?l||(l=u/o):u=l*o);else if(P(p))u=(p-1)*a,l=(p-1)*s;else if(v)u=(v[0]-1)*a,l=(v[1]-1)*s;else if(d){var x=a*m[0],y=s*m[1],S=rz([x,y]);u=d/S*x*b[0],l=d/S*y*b[1]}else{var E=e$({datas:n,distX:c,distY:f});u=(i=ex(il([a,s],E=b.map(function(t,e){return E[e]*t}),o,t,e),2))[0],l=i[1]}return{distWidth:u,distHeight:l}}function ip(t,e,n){var r=function t(e,n){if(n){if("left"===e)return{x:"0%",y:"50%"};if("top"===e)return{x:"50%",y:"50%"};if("center"===e)return{x:"50%",y:"50%"};if("right"===e)return{x:"100%",y:"50%"};else if("bottom"===e)return{x:"50%",y:"100%"};var r=ex(e.split(" "),2),i=r[0],o=r[1],a=t(i||""),s=t(o||""),u=eb(eb({},a),s),l={x:"50%",y:"50%"};return u.x&&(l.x=u.x),u.y&&(l.y=u.y),u.value&&(u.x&&!u.y&&(l.y=u.value),!u.x&&u.y&&(l.x=u.value)),l}return"left"===e?{x:"0%"}:"right"===e?{x:"100%"}:"top"===e?{y:"0%"}:"bottom"===e?{y:"100%"}:e?"center"===e?{value:"50%"}:{value:e}:{}}(t,!0),i=r.x,o=r.y;return[j(i,e)||0,j(o,n)||0]}function id(t,e,n,r,i){var o=t._store,a=o[e];if(!(e in o)){if(null==i)return o[e]=n,n;o[e]=i,a=i}return a===n||r(a)===r(n)?a:(o[e]=n,n)}function ih(t){return t>=0?1:-1}function iv(t){return Math.abs(t)}function ig(t,e){return(function(t){for(var e=[],n=0;n<t;++n)e.push(n);return e})(t).map(function(t){return e(t)})}function im(t){return P(t)?{top:t,left:t,right:t,bottom:t}:{left:t.left||0,top:t.top||0,right:t.right||0,bottom:t.bottom||0}}var ib=eS("pinchable",{props:["pinchable"],events:["pinchStart","pinch","pinchEnd","pinchGroupStart","pinchGroup","pinchGroupEnd"],dragStart:function(){return!0},pinchStart:function(t,e){var n=e.datas,r=e.targets,i=e.angle,o=e.originalDatas,a=t.props,s=a.pinchable,u=a.ables;if(!s)return!1;var l="drag".concat(r?"Group":"","ControlStart"),c=(!0===s?t.controlAbles:u.filter(function(t){return s.indexOf(t.name)>-1})).filter(function(t){return t.canPinch&&t[l]}),f=r$(t,e,{});r&&(f.targets=r);var p=r0(t,"onPinch".concat(r?"Group":"","Start"),f);n.isPinch=!1!==p,n.ables=c;var d=n.isPinch;return!!d&&(c.forEach(function(n){if(o[n.name]=o[n.name]||{},n[l]){var r=eb(eb({},e),{datas:o[n.name],parentRotate:i,isPinch:!0});n[l](t,r)}}),t.state.snapRenderInfo={request:e.isRequest,direction:[0,0]},d)},pinch:function(t,e){var n=e.datas,r=e.scale,i=e.distance,o=e.originalDatas,a=e.inputEvent,s=e.targets,u=e.angle;if(n.isPinch){var l=i*(1-1/r),c=r$(t,e,{});s&&(c.targets=s),r0(t,"onPinch".concat(s?"Group":""),c);var f=n.ables,p="drag".concat(s?"Group":"","Control");return f.forEach(function(n){n[p]&&n[p](t,eb(eb({},e),{datas:o[n.name],inputEvent:a,resolveMatrix:!0,pinchScale:r,parentDistance:l,parentRotate:u,isPinch:!0}))}),c}},pinchEnd:function(t,e){var n=e.datas,r=e.isPinch,i=e.inputEvent,o=e.targets,a=e.originalDatas;if(n.isPinch){var s=rJ(t,e,{isDrag:r});o&&(s.targets=o),r0(t,"onPinch".concat(o?"Group":"","End"),s);var u=n.ables,l="drag".concat(o?"Group":"","ControlEnd");return u.forEach(function(n){n[l]&&n[l](t,eb(eb({},e),{isDrag:r,datas:a[n.name],inputEvent:i,isPinch:!0}))}),r}},pinchGroupStart:function(t,e){return this.pinchStart(t,eb(eb({},e),{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,eb(eb({},e),{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,eb(eb({},e),{targets:t.props.targets}))}}),ix=io("scalable"),iy={name:"scalable",ableGroup:"size",canPinch:!0,props:["scalable","throttleScale","renderDirections","keepRatio","edge","displayAroundControls"],events:["scaleStart","beforeScale","scale","scaleEnd","scaleGroupStart","beforeScaleGroup","scaleGroup","scaleGroupEnd"],render:nm("scalable"),dragControlCondition:ix,viewClassName:ii("scalable"),dragControlStart:function(t,e){var n=e.datas,r=e.isPinch,i=e.inputEvent,o=rW(e.parentDirection,r,i,n),a=t.state,s=a.width,u=a.height,l=a.targetTransform,c=a.target,f=a.pos1,p=a.pos2,d=a.pos4;if(!o||!c)return!1;r||eL(t,e),n.datas={},n.transform=l,n.prevDist=[1,1],n.direction=o,n.startOffsetWidth=s,n.startOffsetHeight=u,n.startValue=[1,1];var h=!o[0]&&!o[1]||o[0]||!o[1];function v(t){n.ratio=t&&isFinite(t)?t:0}function g(t){var e=n4(n.startPositions,t);n.fixedDirection=e.fixedDirection,n.fixedPosition=e.fixedPosition,n.fixedOffset=e.fixedOffset}e3(t,e,"scale"),n.isWidth=h,n.startPositions=rL(t.state),n.setFixedDirection=g,v($(f,p)/$(p,d)),g([-o[0],-o[1]]);var m=function(t){n.minScaleSize=t},b=function(t){n.maxScaleSize=t};m([-1/0,-1/0]),b([1/0,1/0]);var x=r$(t,e,eb(eb({direction:o,set:function(t){n.startValue=t},setRatio:v,setFixedDirection:g,setMinScaleSize:m,setMaxScaleSize:b},e2(t,e)),{dragStart:n3.dragStart(t,new eW().dragStart([0,0],e))})),y=r0(t,"onScaleStart",x);return n.startFixedDirection=n.fixedDirection,!1!==y&&(n.isScale=!0,t.state.snapRenderInfo={request:e.isRequest,direction:o}),!!n.isScale&&x},dragControl:function(t,e){eV(t,e,"scale");var n,r,i=e.datas,o=e.parentKeepRatio,a=e.parentFlag,s=e.isPinch,u=e.dragClient,l=e.isRequest,c=e.useSnap,f=e.resolveMatrix,p=i.prevDist,d=i.direction,h=i.startOffsetWidth,v=i.startOffsetHeight,g=i.isScale,m=i.startValue,b=i.isWidth,x=i.ratio;if(!g)return!1;var y=t.props,S=y.throttleScale,E=y.parentMoveable,D=d;d[0]||d[1]||(D=[1,1]);var C=x&&(null!=o?o:y.keepRatio)||!1,w=t.state,M=[m[0],m[1]];function R(){var t=ic(D,C,i,e),n=t.distWidth,r=t.distHeight,o=h?(h+n)/h:1,a=v?(v+r)/v:1;m[0]||(M[0]=n/h),m[1]||(M[1]=r/v);var s=(D[0]||C?o:1)*M[0],u=(D[1]||C?a:1)*M[1];return 0===s&&(s=1e-9*ih(p[0])),0===u&&(u=1e-9*ih(p[1])),[s,u]}var O=R();if(!s&&t.props.groupable){var P=(w.snapRenderInfo||{}).direction;_(P)&&(P[0]||P[1])&&(w.snapRenderInfo={direction:d,request:e.isRequest})}r0(t,"onBeforeScale",r$(t,e,{scale:O,setFixedDirection:function(t){return i.setFixedDirection(t),O=R()},startFixedDirection:i.startFixedDirection,setScale:function(t){O=t}},!0));var T=[O[0]/M[0],O[1]/M[1]],z=u,G=[0,0],k=ih(T[0]*T[1]),I=!u&&!a&&s;if(I||f?z=ne(t,i.targetAllTransform,[0,0],[0,0],i):u||(z=i.fixedPosition),s||(G=function(t,e,n,r,i){if(!nO(t,"scalable"))return[0,0];var o=i.startOffsetWidth,a=i.startOffsetHeight,s=i.fixedPosition,u=i.fixedDirection,l=i.is3d,c=rd(t,function(t,n){var r,c,f,p,d,h;return rp((r=tb(e,[t/o,n/a]),c=i.transformOrigin,f=i.offsetMatrix,p=i.is3d,d=i.targetMatrix,e1(f,tm(i.targetAllTransform||d,tT(r,h=p?4:3),h),c,h)),o,a,u,s,l)},o,a,n,s,r,i);return[c[0]/o,c[1]/a]}(t,T,d,!c&&l,i)),C){D[0]&&D[1]&&G[0]&&G[1]&&(Math.abs(G[0]*h)>Math.abs(G[1]*v)?G[1]=0:G[0]=0);var B=!G[0]&&!G[1];if(B&&(b?T[0]=J(T[0]*M[0],S)/M[0]:T[1]=J(T[1]*M[1],S)/M[1]),D[0]&&!D[1]||G[0]&&!G[1]||B&&b){T[0]+=G[0];var A=h*T[0]*M[0]/x;T[1]=ih(k*T[0])*iv(A/v/M[1])}else if(!D[0]&&D[1]||!G[0]&&G[1]||B&&!b){T[1]+=G[1];var F=v*T[1]*M[1]*x;T[0]=ih(k*T[1])*iv(F/h/M[0])}}else T[0]+=G[0],T[1]+=G[1],G[0]||(T[0]=J(T[0]*M[0],S)/M[0]),G[1]||(T[1]=J(T[1]*M[1],S)/M[1]);0===T[0]&&(T[0]=1e-9*ih(p[0])),0===T[1]&&(T[1]=1e-9*ih(p[1])),n=T,r=[M[0],M[1]];var N=[h,v],Y=[h*(O=[n[0]*r[0],n[1]*r[1]])[0],v*O[1]];Y=V(Y,i.minScaleSize,i.maxScaleSize,!!C&&x),O=ig(2,function(t){return N[t]?Y[t]/N[t]:Y[t]}),T=ig(2,function(t){return O[t]/M[t]});var q=ig(2,function(t){return p[t]?T[t]/p[t]:T[t]}),X="scale(".concat(T.join(", "),")"),W="scale(".concat(O.join(", "),")"),j=eU(i,W,X),H=!m[0]||!m[1],L=nn(t,H?W:X,i.fixedDirection,z,i.fixedOffset,i,H),U=I?L:tx(L,i.prevInverseDist||[0,0]);if(i.prevDist=T,i.prevInverseDist=L,O[0]===p[0]&&O[1]===p[1]&&U.every(function(t){return!t})&&!E&&!I)return!1;var Z=r$(t,e,eb({offsetWidth:h,offsetHeight:v,direction:d,scale:O,dist:T,delta:q,isPinch:!!s},nt(t,j,U,s,e)));return r0(t,"onScale",Z),Z},dragControlEnd:function(t,e){var n=e.datas;if(!n.isScale)return!1;n.isScale=!1;var r=rJ(t,e,{});return r0(t,"onScaleEnd",r),r},dragGroupControlCondition:ix,dragGroupControlStart:function(t,e){var n=e.datas,r=this.dragControlStart(t,e);if(!r)return!1;var i=nl(t,"resizable",e);n.moveableScale=t.scale;var o=nf(t,this,"dragControlStart",e,function(e,r){return np(t,e,n,r)}),a=function(e){r.setFixedDirection(e),o.forEach(function(r,o){r.setFixedDirection(e),np(t,r.moveable,n,i[o])})};n.setFixedDirection=a;var s=eb(eb({},r),{targets:t.props.targets,events:o,setFixedDirection:a}),u=r0(t,"onScaleGroupStart",s);return n.isScale=!1!==u,!!n.isScale&&s},dragGroupControl:function(t,e){var n=e.datas;if(n.isScale){rQ(t,"onBeforeScale",function(n){r0(t,"onBeforeScaleGroup",r$(t,e,eb(eb({},n),{targets:t.props.targets}),!0))});var r=this.dragControl(t,e);if(r){var i=r.dist,o=n.moveableScale;t.scale=[i[0]*o[0],i[1]*o[1]];var a=t.props.keepRatio,s=n.fixedPosition,u=nf(t,this,"dragControl",e,function(e,n){var r=ex(tS(tO(t.rotation/180*Math.PI,3),[n.datas.originalX*i[0],n.datas.originalY*i[1],1],3),2),o=r[0],u=r[1];return eb(eb({},n),{parentDist:null,parentScale:i,parentKeepRatio:a,dragClient:tb(s,[o,u])})}),l=eb({targets:t.props.targets,events:u},r);return r0(t,"onScaleGroup",l),l}}},dragGroupControlEnd:function(t,e){var n=e.isDrag;if(e.datas.isScale){this.dragControlEnd(t,e);var r=nf(t,this,"dragControlEnd",e),i=rJ(t,e,{targets:t.props.targets,events:r});return r0(t,"onScaleGroupEnd",i),n}},request:function(){var t={},e=0,n=0,r=!1;return{isControl:!0,requestStart:function(e){return r=e.useSnap,{datas:t,parentDirection:e.direction||[1,1],useSnap:r}},request:function(i){return e+=i.deltaWidth,n+=i.deltaHeight,{datas:t,parentDist:[e,n],parentKeepRatio:i.keepRatio,useSnap:r}},requestEnd:function(){return{datas:t,isDrag:!0,useSnap:r}}}}};function iS(t,e){return t.map(function(t,n){return(2*t+1*e[n])/3})}function iE(t,e,n){var r=Z(t,e),i=Z(t,n)-r;return i>=0?i:i+2*Math.PI}var iD={name:"warpable",ableGroup:"size",props:["warpable","renderDirections","edge","displayAroundControls"],events:["warpStart","warp","warpEnd"],viewClassName:ii("warpable"),render:function(t,e){var n=t.props,r=n.resizable,i=n.scalable,o=n.warpable,a=n.zoom;if(r||i||!o)return[];var s=t.state,u=s.pos1,l=s.pos2,c=s.pos3,f=s.pos4,p=iS(u,l),d=iS(l,u),h=iS(u,c),v=iS(c,u),g=iS(c,f),m=iS(f,c),b=iS(l,f),x=iS(f,l);return ey([e.createElement("div",{className:rx("line"),key:"middeLine1",style:rk(p,g,a)}),e.createElement("div",{className:rx("line"),key:"middeLine2",style:rk(d,m,a)}),e.createElement("div",{className:rx("line"),key:"middeLine3",style:rk(h,b,a)}),e.createElement("div",{className:rx("line"),key:"middeLine4",style:rk(v,x,a)})],ex(nh(t,eD,"warpable",e)),!1)},dragControlCondition:function(t,e){if(e.isRequest)return!1;var n=e.inputEvent.target;return tt(n,rx("direction"))&&tt(n,rx("warpable"))},dragControlStart:function(t,e){var n=e.datas,r=e.inputEvent,i=t.props.target,o=rj(r.target,n);if(!o||!i)return!1;var a=t.state,s=a.transformOrigin,u=a.is3d,l=a.targetTransform,c=a.targetMatrix,f=a.width,p=a.height,d=a.left,h=a.top;n.datas={},n.targetTransform=l,n.warpTargetMatrix=u?c:tv(c,3,4),n.targetInverseMatrix=tf(tp(n.warpTargetMatrix,4),3,4),n.direction=o,n.left=d,n.top=h,n.poses=[[0,0],[f,0],[0,p],[f,p]].map(function(t){return tx(t,s)}),n.nextPoses=n.poses.map(function(t){var e=ex(t,2),r=e[0],i=e[1];return tS(n.warpTargetMatrix,[r,i,0,1],4)}),n.startValue=tP(4),n.prevMatrix=tP(4),n.absolutePoses=rL(a),n.posIndexes=eJ(o),eL(t,e),e3(t,e,"matrix3d"),a.snapRenderInfo={request:e.isRequest,direction:o};var v=r$(t,e,eb({set:function(t){n.startValue=t}},e2(t,e)));return!1!==r0(t,"onWarpStart",v)&&(n.isWarp=!0),n.isWarp},dragControl:function(t,e){var n=e.datas,r=e.isRequest,i=e.distX,o=e.distY,a=n.targetInverseMatrix,s=n.prevMatrix,u=n.isWarp,l=n.startValue,c=n.poses,f=n.posIndexes,p=n.absolutePoses;if(!u)return!1;if(eV(t,e,"matrix3d"),nO(t,"warpable")){var d=f.map(function(t){return p[t]});d.length>1&&d.push([(d[0][0]+d[1][0])/2,(d[0][1]+d[1][1])/2]);var h=n0(t,r,{horizontal:d.map(function(t){return t[1]+o}),vertical:d.map(function(t){return t[0]+i})}),v=h.horizontal,g=h.vertical;o-=v.offset,i-=g.offset}var m=e$({datas:n,distX:i,distY:o},!0),b=n.nextPoses.slice();if(f.forEach(function(t){b[t]=tb(b[t],m)}),!eA.every(function(t){var e,n,r,i,o;return e=t.map(function(t){return c[t]}),n=t.map(function(t){return b[t]}),r=iE(e[0],e[1],e[2]),i=iE(n[0],n[1],n[2]),(!(r>=(o=Math.PI))||!(i<=o))&&(!(r<=o)||!(i>=o))}))return!1;var x=tG(c[0],c[2],c[1],c[3],b[0],b[2],b[1],b[3]);if(!x.length)return!1;var y=eZ(n,tm(a,x,4),!0),S=tm(tp(s,4),y,4);n.prevMatrix=y;var E=tm(l,y,4),D=eU(n,"matrix3d(".concat(E.join(", "),")"),"matrix3d(".concat(y.join(", "),")"));return e5(e,D),r0(t,"onWarp",r$(t,e,eb({delta:S,matrix:E,dist:y,multiply:tm,transform:D},rZ({transform:D},e)))),!0},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return!!n.isWarp&&(n.isWarp=!1,r0(t,"onWarpEnd",rJ(t,e,{})),r)}},iC=rx("area-pieces"),iw=rx("area-piece"),iM=rx("avoid"),iR=rx("view-dragging");function i_(t){var e=t.areaElement;if(e){var n=t.state,r=n.width,i=n.height;tn(e,iM),e.style.cssText+="left: 0px; top: 0px; width: ".concat(r,"px; height: ").concat(i,"px")}}function iO(t){return t.createElement("div",{key:"area_pieces",className:iC},t.createElement("div",{className:iw}),t.createElement("div",{className:iw}),t.createElement("div",{className:iw}),t.createElement("div",{className:iw}))}var iP={name:"dragArea",props:["dragArea","passDragArea"],events:["click","clickGroup"],render:function(t,e){var n=t.props,r=n.target,i=n.dragArea,o=n.groupable,a=n.passDragArea,s=t.getState(),u=s.width,l=s.height,c=s.renderPoses,f=a?rx("area","pass"):rx("area");if(o)return[e.createElement("div",{key:"area",ref:x(t,"areaElement"),className:f}),iO(e)];if(!r||!i)return[];var p=tG([0,0],[u,0],[0,l],[u,l],c[0],c[1],c[2],c[3]),d=p.length?rR(p,!0):"none";return[e.createElement("div",{key:"area",ref:x(t,"areaElement"),className:f,style:{top:"0px",left:"0px",width:"".concat(u,"px"),height:"".concat(l,"px"),transformOrigin:"0 0",transform:d}}),iO(e)]},dragStart:function(t,e){var n=e.datas,r=e.clientX,i=e.clientY;if(!e.inputEvent)return!1;n.isDragArea=!1;var o=t.areaElement,a=t.state,s=a.moveableClientRect,u=a.renderPoses,l=a.rootMatrix,c=a.is3d,f=s.left,p=s.top,d=rT(u),h=d.left,v=d.top,g=d.width,m=d.height,b=ex(r7(l,[r-f,i-p],c?4:3),2),x=b[0],y=b[1];x-=h,y-=v;var S=[{left:h,top:v,width:g,height:y-10},{left:h,top:v,width:x-10,height:m},{left:h,top:v+y+10,width:g,height:m-y-10},{left:h+x+10,top:v,width:g-x-10,height:m}],E=[].slice.call(o.nextElementSibling.children);S.forEach(function(t,e){E[e].style.cssText="left: ".concat(t.left,"px;top: ").concat(t.top,"px; width: ").concat(t.width,"px; height: ").concat(t.height,"px;")}),te(o,iM),a.disableNativeEvent=!0},drag:function(t,e){var n=e.datas,r=e.inputEvent;if(this.enableNativeEvent(t),!r)return!1;n.isDragArea||(n.isDragArea=!0,i_(t))},dragEnd:function(t,e){this.enableNativeEvent(t);var n=e.inputEvent,r=e.datas;if(!n)return!1;r.isDragArea||i_(t)},dragGroupStart:function(t,e){return this.dragStart(t,e)},dragGroup:function(t,e){return this.drag(t,e)},dragGroupEnd:function(t,e){return this.dragEnd(t,e)},unset:function(t){i_(t),t.state.disableNativeEvent=!1},enableNativeEvent:function(t){var e=t.state;e.disableNativeEvent&&q(function(){e.disableNativeEvent=!1})}},iT=eS("origin",{props:["origin","svgOrigin"],render:function(t,e){var n,r=t.props,i=r.zoom,o=r.svgOrigin,a=r.groupable,s=t.getState(),u=s.beforeOrigin,l=s.rotation,c=s.svg,f=s.allMatrix,p=s.is3d,d=s.left,h=s.top,v=s.offsetWidth,g=s.offsetHeight;if(!a&&c&&o){var m=ex(ip(o,v,g),2);n=rI(l,i,tx(rO(f,[m[0],m[1]],p?4:3),[d,h]))}else n=rI(l,i,u);return[e.createElement("div",{className:rx("control","origin"),style:n,key:"beforeOrigin"})]}});function iz(t){var e=t.scrollContainer;return[e.scrollLeft,e.scrollTop]}var iG={name:"",props:["target","dragTargetSelf","dragTarget","dragContainer","container","warpSelf","rootContainer","useResizeObserver","useMutationObserver","zoom","dragFocusedInput","transformOrigin","ables","className","pinchThreshold","pinchOutside","triggerAblesSimultaneously","checkInput","cspNonce","translateZ","hideDefaultLines","props","flushSync","stopPropagation","preventClickEventOnDrag","preventClickDefault","viewContainer","persistData","useAccuratePosition","firstRenderState","linePadding","controlPadding","preventDefault","preventRightClick","preventWheelClick","requestStyles"],events:["changeTargets"]},ik=eS("padding",{props:["padding"],render:function(t,e){var n=t.props;if(n.dragArea)return[];var r=im(n.padding||{}),i=r.left,o=r.top,a=r.right,s=r.bottom,u=t.getState(),l=u.renderPoses,c=[u.pos1,u.pos2,u.pos3,u.pos4],f=[];return i>0&&f.push([0,2]),o>0&&f.push([0,1]),a>0&&f.push([1,3]),s>0&&f.push([2,3]),f.map(function(t,n){var r=ex(t,2),i=r[0],o=r[1],a=tG([0,0],[100,0],[0,100],[100,100],c[i],c[o],l[i],l[o]);if(a.length)return e.createElement("div",{key:"padding".concat(n),className:rx("padding"),style:{transform:rR(a,!0)}})})}}),iI=["nw","ne","se","sw"];function iB(t,e){var n=t[0]+t[1],r=n>e?e/n:1;return t[0]*=r,t[1]=e-t[1]*r,t}var iA=[1,2,5,6],iF=[0,3,4,7],iN=[1,-1,-1,1],iY=[1,1,-1,-1];function iq(t,e,n,r,i,o,a,s){void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=n),void 0===s&&(s=r);var u=[],l=!1,c=t.filter(function(t){return!t.virtual}),f=c.map(function(t){var c=t.horizontal,f=t.vertical,p=t.pos;if(f&&!l&&(l=!0,u.push("/")),l){var d=Math.max(0,1===f?p[1]-o:s-p[1]);return u.push(ie(d,r,e)),d}var d=Math.max(0,1===c?p[0]-i:a-p[0]);return u.push(ie(d,n,e)),d});return{radiusPoses:c,styles:u,raws:f}}function iX(t){for(var e=[0,0],n=[0,0],r=t.length,i=0;i<r;++i){var o=t[i];o.sub&&(o.horizontal&&(0===e[1]&&(e[0]=i),e[1]=i-e[0]+1,n[0]=i+1),o.vertical&&(0===n[1]&&(n[0]=i),n[1]=i-n[0]+1))}return{horizontalRange:e,verticalRange:n}}function iW(t,e,n,r,i,o,a){void 0===o&&(o=[0,0]),void 0===a&&(a=!1);var s,u,l,c,f=t.indexOf("/"),p=(f>-1?t.slice(0,f):t).length,d=t.slice(0,p),h=t.slice(p+1),v=d.length,g=h.length,m=g>0,b=ex(d,4),x=b[0],y=void 0===x?"0px":x,S=b[1],E=void 0===S?y:S,D=b[2],C=void 0===D?y:D,w=b[3],M=void 0===w?E:w,R=ex(h,4),_=R[0],O=void 0===_?y:_,P=R[1],T=void 0===P?m?O:E:P,z=R[2],G=R[3],k=[y,E,C,M].map(function(t){return j(t,e)}),I=[O,T,void 0===z?m?O:C:z,void 0===G?m?T:M:G].map(function(t){return j(t,n)}),B=k.slice(),A=I.slice();s=ex(iB([B[0],B[1]],e),2),B[0]=s[0],B[1]=s[1],u=ex(iB([B[3],B[2]],e),2),B[3]=u[0],B[2]=u[1],l=ex(iB([A[0],A[3]],n),2),A[0]=l[0],A[3]=l[1],c=ex(iB([A[1],A[2]],n),2),A[1]=c[0],A[2]=c[1];var F=a?B:B.slice(0,Math.max(o[0],v)),N=a?A:A.slice(0,Math.max(o[1],g));return ey(ey([],ex(F.map(function(t,e){var o=iI[e];return{virtual:e>=v,horizontal:iN[e],vertical:0,pos:[r+t,i+(-1===iY[e]?n:0)],sub:!0,raw:k[e],direction:o}})),!1),ex(N.map(function(t,n){var o=iI[n];return{virtual:n>=g,horizontal:0,vertical:iY[n],pos:[r+(-1===iN[n]?e:0),i+t],sub:!0,raw:I[n],direction:o}})),!1)}var ij=[[0,-1,"n"],[1,0,"e"]],iH=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function iL(t,e,n){var r=t.props.clipRelative,i=t.state,o=i.width,a=i.height,s=e.type,u=e.poses,l="rect"===s,c="circle"===s;if("polygon"===s)return n.map(function(t){return"".concat(ie(t[0],o,r)," ").concat(ie(t[1],a,r))});if(l||"inset"===s){var f=n[1][1],p=n[3][0],d=n[7][0],h=n[5][1];if(l)return[f,p,h,d].map(function(t){return"".concat(t,"px")});var v=[f,o-p,a-h,d].map(function(t,e){return ie(t,e%2?o:a,r)});if(n.length>8){var g=ex(tx(n[4],n[0]),2),m=g[0],b=g[1];v.push.apply(v,ey(["round"],ex(iq(u.slice(8).map(function(t,e){return eb(eb({},t),{pos:n[e]})}),r,m,b,d,f,p,h).styles),!1))}return v}if(c||"ellipse"===s){var x=n[0],y=ie(iv(n[1][1]-x[1]),c?Math.sqrt((o*o+a*a)/2):a,r),v=c?[y]:[ie(iv(n[2][0]-x[0]),o,r),y];return v.push("at",ie(x[0],o,r),ie(x[1],a,r)),v}}function iV(t,e,n,r){var i=[r,(r+e)/2,e],o=[t,(t+n)/2,n];return iH.map(function(t){var e=ex(t,3),n=e[0],r=e[1],a=e[2],s=i[n+1],u=o[r+1];return{vertical:iv(r),horizontal:iv(n),direction:a,pos:[s,u]}})}function iU(t){var e=[1/0,-1/0],n=[1/0,-1/0];return t.forEach(function(t){var r=t.pos;e[0]=Math.min(e[0],r[0]),e[1]=Math.max(e[1],r[0]),n[0]=Math.min(n[0],r[1]),n[1]=Math.max(n[1],r[1])}),[iv(e[1]-e[0]),iv(n[1]-n[0])]}function iZ(t,e,n,r,i){if(t){var o,a,s,u,l,c,f,p,d,h=i;if(!h){var v=nu(t),g=v("clipPath");h="none"!==g?g:v("clip")}if(h&&"none"!==h&&"auto"!==h||(h=r)){var m=B(h),b=m.prefix,x=void 0===b?h:b,y=m.value,S=void 0===y?"":y,E="circle"===x,D=" ";if("polygon"===x){var C=I(S||"0% 0%, 100% 0%, 100% 100%, 0% 100%");D=",";var w=C.map(function(t){var r=ex(t.split(" "),2),i=r[0],o=r[1];return{vertical:1,horizontal:1,pos:[j(i,e),j(o,n)]}}),M=t4(w.map(function(t){return t.pos}));return{type:x,clipText:h,poses:w,splitter:D,left:M.minX,right:M.maxX,top:M.minY,bottom:M.maxY}}if(E||"ellipse"===x){var R="",_="",O=0,P=0,C=k(S);if(E){var T="";T=void 0===(a=(o=ex(C,4))[0])?"50%":a,R=void 0===(s=o[2])?"50%":s,_=void 0===(u=o[3])?"50%":u,P=O=j(T,Math.sqrt((e*e+n*n)/2))}else{var z="",G="";z=void 0===(c=(l=ex(C,5))[0])?"50%":c,G=void 0===(f=l[1])?"50%":f,R=void 0===(p=l[3])?"50%":p,_=void 0===(d=l[4])?"50%":d,O=j(z,e),P=j(G,n)}var F=[j(R,e),j(_,n)],w=ey([{vertical:1,horizontal:1,pos:F,direction:"nesw"}],ex(ij.slice(0,E?1:2).map(function(t){return{vertical:iv(t[1]),horizontal:t[0],direction:t[2],sub:!0,pos:[F[0]+t[0]*O,F[1]+t[1]*P]}})),!1);return{type:x,clipText:h,radiusX:O,radiusY:P,left:F[0]-O,top:F[1]-P,right:F[0]+O,bottom:F[1]+P,poses:w,splitter:D}}if("inset"===x){var C=k(S||"0 0 0 0"),N=C.indexOf("round"),Y=(N>-1?C.slice(0,N):C).length,q=C.slice(Y+1),X=ex(C.slice(0,Y),4),W=X[0],H=X[1],L=void 0===H?W:H,V=X[2],U=X[3],Z=ex([W,void 0===V?W:V].map(function(t){return j(t,n)}),2),K=Z[0],$=Z[1],J=ex([void 0===U?L:U,L].map(function(t){return j(t,e)}),2),Q=J[0],tt=J[1],te=e-tt,tn=n-$,tr=iW(q,te-Q,tn-K,Q,K),w=ey(ey([],ex(iV(K,te,tn,Q)),!1),ex(tr),!1);return{type:"inset",clipText:h,poses:w,top:K,left:Q,right:te,bottom:tn,radius:q,splitter:D}}if("rect"===x){var C=I(S||"0px, ".concat(e,"px, ").concat(n,"px, 0px"));D=",";var ti=ex(C.map(function(t){return A(t).value}),4),to=ti[0],tt=ti[1],$=ti[2],Q=ti[3],w=iV(to,tt,$,Q);return{type:"rect",clipText:h,poses:w,top:to,right:tt,bottom:$,left:Q,values:C,splitter:D}}}}}function iK(t,e,n,r,i){return void 0===r&&(r=[0,0]),iW(t&&"0px"!==t?k(t):[],e,n,0,0,r,i)}function i$(t,e,n,r,i){var o,a,s=t.state,u=s.width,l=s.height,c=iq(i,t.props.roundRelative,u,l),f=c.raws,p=c.styles,d=(o=c.radiusPoses,void 0===(a=f)&&(a=o.map(function(t){return t.raw})),{horizontals:o.map(function(t,e){return t.horizontal?a[e]:null}).filter(function(t){return null!=t}),verticals:o.map(function(t,e){return t.vertical?a[e]:null}).filter(function(t){return null!=t})}),h=d.horizontals,v=d.verticals,g=p.join(" ");s.borderRadiusState=g;var m=r$(t,e,eb({horizontals:h,verticals:v,borderRadius:g,width:u,height:l,delta:r,dist:n},rZ({borderRadius:g},e)));return r0(t,"onRound",m),m}function iJ(t){var e,n,r=t.getState().style,i=r.borderRadius||"";if(!i&&t.props.groupable){var o=t.moveables[0],a=t.getTargets()[0];a&&(i=(null==o?void 0:o.props.target)===a?null!==(n=null===(e=t.moveables[0])||void 0===e?void 0:e.state.style.borderRadius)&&void 0!==n?n:"":r1(a).borderRadius,r.borderRadius=i)}return i}var iQ={isPinch:!0,name:"beforeRenderable",props:[],events:["beforeRenderStart","beforeRender","beforeRenderEnd","beforeRenderGroupStart","beforeRenderGroup","beforeRenderGroupEnd"],dragRelation:"weak",setTransform:function(t,e){var n,r=t.state,i=r.is3d,o=r.targetMatrix,a=r.inlineTransform,s=i?"matrix3d(".concat(o.join(","),")"):"matrix(".concat(ty(o,!0),")"),u=a&&"none"!==a?a:s;n=tP(i?4:3),e.datas.startTransforms=u==="matrix".concat(i?"3d":"","(").concat(n.join(","),")")||"matrix(1,0,0,1,0,0)"===u?[]:k(u)},resetStyle:function(t){var e=t.datas;e.nextStyle={},e.nextTransforms=t.datas.startTransforms,e.nextTransformAppendedIndexes=[]},fillDragStartParams:function(t,e){return r$(t,e,{setTransform:function(t){e.datas.startTransforms=_(t)?t:k(t)},isPinch:!!e.isPinch})},fillDragParams:function(t,e){return r$(t,e,{isPinch:!!e.isPinch})},dragStart:function(t,e){this.setTransform(t,e),this.resetStyle(e),r0(t,"onBeforeRenderStart",this.fillDragStartParams(t,e))},drag:function(t,e){e.datas.startTransforms||this.setTransform(t,e),this.resetStyle(e),r0(t,"onBeforeRender",r$(t,e,{isPinch:!!e.isPinch}))},dragEnd:function(t,e){e.datas.startTransforms||(this.setTransform(t,e),this.resetStyle(e)),r0(t,"onBeforeRenderEnd",r$(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag}))},dragGroupStart:function(t,e){var n=this;this.dragStart(t,e);var r=nl(t,"beforeRenderable",e),i=t.moveables,o=r.map(function(t,e){var r=i[e];return n.setTransform(r,t),n.resetStyle(t),n.fillDragStartParams(r,t)});r0(t,"onBeforeRenderGroupStart",r$(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,setTransform:function(){},events:o}))},dragGroup:function(t,e){var n=this;this.drag(t,e);var r=nl(t,"beforeRenderable",e),i=t.moveables,o=r.map(function(t,e){var r=i[e];return n.resetStyle(t),n.fillDragParams(r,t)});r0(t,"onBeforeRenderGroup",r$(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,events:o}))},dragGroupEnd:function(t,e){this.dragEnd(t,e),r0(t,"onBeforeRenderGroupEnd",r$(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets}))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)}},i0={name:"renderable",props:[],events:["renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd"],dragRelation:"weak",dragStart:function(t,e){r0(t,"onRenderStart",r$(t,e,{isPinch:!!e.isPinch}))},drag:function(t,e){r0(t,"onRender",this.fillDragParams(t,e))},dragAfter:function(t,e){return this.drag(t,e)},dragEnd:function(t,e){r0(t,"onRenderEnd",this.fillDragEndParams(t,e))},dragGroupStart:function(t,e){r0(t,"onRenderGroupStart",r$(t,e,{isPinch:!!e.isPinch,targets:t.props.targets}))},dragGroup:function(t,e){var n=this,r=nl(t,"beforeRenderable",e),i=t.moveables,o=r.map(function(t,e){var r=i[e];return n.fillDragParams(r,t)});r0(t,"onRenderGroup",r$(t,e,eb(eb({isPinch:!!e.isPinch,targets:t.props.targets,transform:e7(e),transformObject:{}},rZ(e9(e))),{events:o})))},dragGroupEnd:function(t,e){var n=this,r=nl(t,"beforeRenderable",e),i=t.moveables,o=r.map(function(t,e){var r=i[e];return n.fillDragEndParams(r,t)});r0(t,"onRenderGroupEnd",r$(t,e,eb({isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets,events:o,transformObject:{},transform:e7(e)},rZ(e9(e)))))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlAfter:function(t,e){return this.dragAfter(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)},fillDragParams:function(t,e){var n={};return tA(e8(e)||[]).forEach(function(t){n[t.name]=t.functionValue}),r$(t,e,eb({isPinch:!!e.isPinch,transformObject:n,transform:e7(e)},rZ(e9(e))))},fillDragEndParams:function(t,e){var n={};return tA(e8(e)||[]).forEach(function(t){n[t.name]=t.functionValue}),r$(t,e,eb({isPinch:!!e.isPinch,isDrag:e.isDrag,transformObject:n,transform:e7(e)},rZ(e9(e))))}};function i1(t,e,n,r,i,o,a){o.clientDistX=o.distX,o.clientDistY=o.distY;var s,u="Start"===i,l="End"===i,c="After"===i,f=t.state.target,p=o.isRequest,d=r.indexOf("Control")>-1;if(!f||u&&d&&!p&&t.areaElement===o.inputEvent.target)return!1;var h=ey([],ex(e),!1);if(p){var v=o.requestAble;h.some(function(t){return t.name===v})||h.push.apply(h,ey([],ex(t.props.ables.filter(function(t){return t.name===v})),!1))}if(!h.length||h.every(function(t){return t.dragRelation}))return!1;var g=o.inputEvent;l&&g&&(s=document.elementFromPoint(o.clientX,o.clientY)||g.target);var m=!1,b=function(){var t;m=!0,null===(t=o.stop)||void 0===t||t.call(o)},x=u&&(!t.targetGesto||!t.controlGesto||!t.targetGesto.isFlag()||!t.controlGesto.isFlag());x&&t.updateRect(i,!0,!1);var y=o.datas,S=d?"controlGesto":"targetGesto",E=t[S],D=function(e,n,r){if(!(n in e)||E!==t[S])return!1;var i=e.name,a=y[i]||(y[i]={});if(u&&(a.isEventStart=!r||!e[r]||e[r](t,o)),!a.isEventStart)return!1;var l=e[n](t,eb(eb({},o),{stop:b,datas:a,originalDatas:y,inputTarget:s}));return t._emitter.off(),u&&!1===l&&(a.isEventStart=!1),l};x&&h.forEach(function(e){e.unset&&e.unset(t)}),D(iQ,"drag".concat(r).concat(i));var C=0,w=0;n.forEach(function(e){if(m)return!1;var n="".concat(e).concat(r).concat(i),a="".concat(e).concat(r,"Condition");""!==i||p||r9(t.state,o);var s=h.filter(function(t){return t[n]}),l=(s=s.filter(function(t,e){return t.name&&s.indexOf(t)===e})).filter(function(t){return D(t,n,a)}).length;m&&++C,l&&++w,!m&&u&&s.length&&!l&&(C+=s.filter(function(t){return!!y[t.name].isEventStart&&"strong"!==t.dragRelation}).length?1:0)}),(!c||w)&&D(i0,"drag".concat(r).concat(i));var M=E!==t[S]||C===n.length;return(l||m||M)&&(t.state.gestos={},t.moveables&&t.moveables.forEach(function(t){t.state.gestos={}}),h.forEach(function(e){e.unset&&e.unset(t)})),u&&!M&&!p&&w&&t.props.preventDefault&&(null==o||o.preventDefault()),!t.isUnmounted&&!M&&((!u&&w&&!a||l)&&(t.props.flushSync||ry)(function(){t.updateRect(l?i:"",!0,!1),t.forceUpdate()}),u||l||c||!w||a||i1(t,e,n,r,i+"After",o),!0)}function i2(t,e){return function(n,r){void 0===r&&(r=n.inputEvent.target);var i,o=r,a=t.areaElement,s=t._dragTarget;return!(!s||!e&&(null===(i=t.controlGesto)||void 0===i?void 0:i.isFlag()))&&(o===s||s.contains(o)||o===a||!t.isMoveableElement(o)&&!t.controlBox.contains(o)||tt(o,"moveable-area")||tt(o,"moveable-padding")||tt(o,"moveable-edgeDraggable"))}}function i3(t,e,n){var r=t.controlBox,i=[],o=t.props,a=o.dragArea,s=t.state.target,u=o.dragTarget;i.push(r),(!a||u)&&i.push(e),!a&&u&&s&&e!==s&&o.dragTargetSelf&&i.push(s);var l=i2(t);return i5(t,i,"targetAbles",n,{dragStart:l,pinchStart:l})}function i4(t,e){var n=t.controlBox,r=[];r.push(n);var i=i2(t,!0),o=function(t,e){return void 0===e&&(e=t.inputEvent.target),e===n||!i(t,e)};return i5(t,r,"controlAbles",e,{dragStart:o,pinchStart:o})}function i5(t,e,n,r,i){void 0===i&&(i={});var o="targetAbles"===n,a=t.props,s=a.pinchOutside,u=a.pinchThreshold,l=a.preventClickEventOnDrag,c=a.preventClickDefault,f=a.checkInput,p=a.dragFocusedInput,d=a.preventDefault,h=a.preventRightClick,v=a.preventWheelClick,g=new ef(e,{preventDefault:void 0===d||d,preventRightClick:void 0===h||h,preventWheelClick:void 0===v||v,container:ia(a.dragContainer,!0)||tu(t.getControlBoxElement()),pinchThreshold:u,pinchOutside:s,preventClickEventOnDrag:!!o&&l,preventClickEventOnDragStart:!!o&&c,preventClickEventByCondition:o?null:function(e){return t.controlBox.contains(e.target)},checkInput:!!o&&f,dragFocusedInput:p}),m="Control"===r;return["drag","pinch"].forEach(function(e){["Start","","End"].forEach(function(o){g.on("".concat(e).concat(o),function(a){var s,u=a.eventType,l="drag"===e&&a.isPinch;if(i[u]&&!i[u](a)){a.stop();return}if(!l){var c=ey([],ex(t[n]),!1);i1(t,c,"drag"===e?[e]:["drag",e],r,o,a)?(t.props.stopPropagation||"Start"===o&&m)&&(null===(s=null==a?void 0:a.inputEvent)||void 0===s||s.stopPropagation()):a.stop()}})})}),g}var i6=function(){function t(t,e,n){var r=this;this.target=t,this.moveable=e,this.eventName=n,this.ables=[],this._onEvent=function(t){var e=r.eventName,n=r.moveable;n.state.disableNativeEvent||r.ables.forEach(function(r){r[e](n,{inputEvent:t})})},t.addEventListener(n.toLowerCase(),this._onEvent)}return t.prototype.setAbles=function(t){this.ables=t},t.prototype.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},t}();function i8(t,e,n,r,i,o){void 0===o&&(o=[]);var a=1,s=[0,0],u=rN(),l=rN(),c=rN(),f=rN(),p=[0,0],d={},h=function(t,e,n,r){void 0===n&&(n=e);var i=0,o=0,a=0,s={},u=rA(t);if(t&&(i=u.offsetWidth,o=u.offsetHeight),t){var l,c,f,p,d,h,v,g,m,b,x,y,S,E,D,C,w,M,R,_,O,P,T,z,G,k,I,B,A,F,N,q,X=(void 0===(l=n)&&(l=e),p=(f=nr(t,e)).matrixes,d=f.is3d,h=f.targetMatrix,v=f.transformOrigin,g=f.targetOrigin,m=f.offsetContainer,b=f.hasFixed,x=f.zoom,S=(y=function(t,e){if(na){var n=Y(na,function(n){return n[0][0]==t&&n[0][1]==e});if(n)return n[1]}var r=nr(t,e,!0);return na&&na.push([[t,e],r]),r}(m,l)).matrixes,E=y.is3d,D=y.offsetContainer,C=y.zoom,M=(w=r||E||d)?4:3,R="svg"!==t.tagName.toLowerCase()&&"ownerSVGElement"in t,_=h,O=tP(M),P=tP(M),T=tP(M),z=tP(M),G=p.length,k=S.map(function(t){return eb(eb({},t),{matrix:t.matrix?ey([],ex(t.matrix),!1):void 0})}).reverse(),p.reverse(),!d&&w&&(_=tv(_,3,4),rM(p)),!E&&w&&rM(k),k.forEach(function(t){P=tm(P,t.matrix,M)}),I=l||ts(t),B=(null===(c=k[0])||void 0===c?void 0:c.target)||rC(I,I,!0).offsetParent,A=k.slice(1).reduce(function(t,e){return tm(t,e.matrix,M)},tP(M)),p.forEach(function(t,e){if(G-2===e&&(T=O.slice()),G-1===e&&(z=O.slice()),!t.matrix){var n=function(t,e,n,r,i){var o,a=t.target,s=t.origin,u=e.matrix,l=rA(a),c=l.offsetWidth,f=l.offsetHeight,p=n.getBoundingClientRect(),d=[0,0];n===ts(n)&&(d=rw(a,!0));for(var h=a.getBoundingClientRect(),v=h.left-p.left+n.scrollLeft-(n.clientLeft||0)+d[0],g=h.top-p.top+n.scrollTop-(n.clientTop||0)+d[1],m=h.width,b=h.height,x=tg(r,i,u),y=rT(rP(x,c,f,r)),S=y.left,E=y.top,D=y.width,C=y.height,w=rO(x,s,r),M=tx(w,[S,E]),R=[v+M[0]*m/D,g+M[1]*b/C],_=[0,0],O=0;++O<10;){var P=tp(i,r);o=ex(tx(rO(P,R,r),rO(P,w,r)),2),_[0]=o[0],_[1]=o[1];var T=rT(rP(tg(r,i,tz(_,r),u),c,f,r)),z=T.left,G=T.top,k=z-v,I=G-g;if(2>iv(k)&&2>iv(I))break;R[0]-=k,R[1]-=I}return _.map(function(t){return Math.round(t)})}(t,p[e+1],B,M,tm(A,O,M));t.matrix=tz(n,M)}O=tm(O,t.matrix,M)}),F=!R&&d,_||(_=tP(F?4:3)),N=rR(R&&16===_.length?tv(_,4,3):_,F),q=P,{hasZoom:1!==x||1!==C,hasFixed:b,matrixes:p,rootMatrix:P=tf(P,M,M),originalRootMatrix:q,beforeMatrix:T,offsetMatrix:z,allMatrix:O,targetMatrix:_,targetTransform:N,inlineTransform:t.style.transform,transformOrigin:v,targetOrigin:g,is3d:w,offsetContainer:m,offsetRootContainer:D}),W=ej(X.allMatrix,X.transformOrigin,i,o);s=eb(eb({},X),W);var j=ej(X.allMatrix,[50,50],100,100);a=rF([j.pos1,j.pos2],j.direction)}var H=r?4:3;return eb(eb(eb({hasZoom:!1,width:i,height:o,rotation:a},u),{originalRootMatrix:tP(H),rootMatrix:tP(H),beforeMatrix:tP(H),offsetMatrix:tP(H),allMatrix:tP(H),targetMatrix:tP(H),targetTransform:"",inlineTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!r,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1,offsetContainer:null,offsetRootContainer:null,matrixes:[]}),s)}(e,n,i,!0);if(e){var v=nu(e);o.forEach(function(t){d[t]=v(t)});var g=h.is3d?4:3,m=ej(h.offsetMatrix,tb(h.transformOrigin,td(h.targetMatrix,g)),h.width,h.height);a=m.direction,s=tb(m.origin,[m.left-h.left,m.top-h.top]),f=rX(h.offsetRootContainer);var b=rC(r,r,!0).offsetParent||h.offsetRootContainer;if(h.hasZoom){var x=ej(tm(h.originalRootMatrix,h.allMatrix),h.transformOrigin,h.width,h.height),y=ej(h.originalRootMatrix,rE(nu(b)("transformOrigin")).map(function(t){return parseFloat(t)}),b.offsetWidth,b.offsetHeight);if(u=rq(x,f),c=rq(y,f,b,!0),t){var S=x.left,E=x.top;l=rq({left:S,top:E,bottom:E,right:E},f)}}else{u=rX(e),c=function(t){var e=null==no?void 0:no.get(t);if(e)return e;var n=rX(t,!0);return no&&no.set(t,n),n}(b),t&&(l=rX(t));var D=c.left,C=c.top,w=c.clientLeft,M=c.clientTop,R=[u.left-D,u.top-C];p=tx(r7(h.rootMatrix,R,4),[w+h.left,M+h.top])}}return eb({targetClientRect:u,containerClientRect:c,moveableClientRect:l,rootContainerClientRect:f,beforeDirection:a,beforeOrigin:s,originalBeforeOrigin:s,target:e,style:d,offsetDelta:p},h)}function i7(t){var e=t.pos1,n=t.pos2,r=t.pos3,i=t.pos4;if(!e||!n||!r||!i)return null;var o=t4([e,n,r,i]),a=[o.minX,o.minY],s=tx(t.origin,a);return e=tx(e,a),n=tx(n,a),r=tx(r,a),i=tx(i,a),eb(eb({},t),{left:t.left,top:t.top,posDelta:a,pos1:e,pos2:n,pos3:r,pos4:i,origin:s,beforeOrigin:s,isPersisted:!0})}var i9=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state=eb({container:null,gestos:{},renderLines:[[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]]],renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1,posDelta:[0,0]},i8(null)),e.renderState={},e.enabledAbles=[],e.targetAbles=[],e.controlAbles=[],e.rotation=0,e.scale=[1,1],e.isMoveableMounted=!1,e.isUnmounted=!1,e.events={mouseEnter:null,mouseLeave:null},e._emitter=new tZ,e._prevOriginalDragTarget=null,e._originalDragTarget=null,e._prevDragTarget=null,e._dragTarget=null,e._prevPropTarget=null,e._propTarget=null,e._prevDragArea=!1,e._isPropTargetChanged=!1,e._hasFirstTarget=!1,e._reiszeObserver=null,e._observerId=0,e._mutationObserver=null,e._rootContainer=null,e._viewContainer=null,e._viewClassNames=[],e._store={},e.checkUpdateRect=function(){if(!e.isDragging()){var t=e.props.parentMoveable;if(t){t.checkUpdateRect();return}X(e._observerId),e._observerId=q(function(){e.isDragging()||e.updateRect()})}},e._onPreventClick=function(t){t.stopPropagation(),t.preventDefault()},e}return em(e,t),e.prototype.render=function(){var t=this.props,e=this.getState(),n=t.parentPosition,r=t.className,i=t.target,o=t.zoom,a=t.cspNonce,s=t.translateZ,u=t.cssStyled,l=t.groupable,c=t.linePadding,f=t.controlPadding;this._checkUpdateRootContainer(),this.checkUpdate(),this.updateRenderPoses();var p=ex(n||[0,0],2),d=p[0],h=p[1],v=e.left,g=e.top,m=e.target,b=e.direction,y=e.hasFixed,S=e.offsetDelta,E=t.targets,D=this.isDragging(),C={};this.getEnabledAbles().forEach(function(t){C["data-able-".concat(t.name.toLowerCase())]=!0});var w=this._getAbleClassName(),M=E&&E.length&&(m||l)||i||!this._hasFirstTarget&&this.state.isPersisted,R=this.controlBox||this.props.firstRenderState||this.props.persistData,_=[v-d,g-h];!l&&t.useAccuratePosition&&(_[0]+=S[0],_[1]+=S[1]);var O={position:y?"fixed":"absolute",display:M?"block":"none",visibility:R?"visible":"hidden",transform:"translate3d(".concat(_[0],"px, ").concat(_[1],"px, ").concat(s,")"),"--zoom":o,"--zoompx":"".concat(o,"px")};return c&&(O["--moveable-line-padding"]=c),f&&(O["--moveable-control-padding"]=f),et.createElement(u,eb({cspNonce:a,ref:x(this,"controlBox"),className:"".concat(rx("control-box",-1===b?"reverse":"",D?"dragging":"")," ").concat(w," ").concat(r)},C,{onClick:this._onPreventClick,style:O}),this.renderAbles(),this._renderLines())},e.prototype.componentDidMount=function(){this.isMoveableMounted=!0,this.isUnmounted=!1;var t=this.props,e=t.parentMoveable,n=t.container;this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(this.props),n||e||this.state.isPersisted||(this.updateRect("",!1,!1),this.forceUpdate())},e.prototype.componentDidUpdate=function(t){this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateNativeEvents(),this._updateTargets(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(t)},e.prototype.componentWillUnmount=function(){this.isMoveableMounted=!1,this.isUnmounted=!0,this._emitter.off(),null===(t=this._reiszeObserver)||void 0===t||t.disconnect(),null===(e=this._mutationObserver)||void 0===e||e.disconnect(),this._viewContainer&&this._changeAbleViewClassNames([]),rU(this,!1),rU(this,!0);var t,e,n=this.events;for(var r in n){var i=n[r];i&&i.destroy()}},e.prototype.getTargets=function(){var t=this.props.target;return t?[t]:[]},e.prototype.getAble=function(t){return Y(this.props.ables||[],function(e){return e.name===t})},e.prototype.getContainer=function(){var t=this.props,e=t.parentMoveable,n=t.wrapperMoveable;return t.container||n&&n.getContainer()||e&&e.getContainer()||this.controlBox.parentElement},e.prototype.getControlBoxElement=function(){return this.controlBox},e.prototype.getDragElement=function(){return this._dragTarget},e.prototype.isMoveableElement=function(t){var e;return t&&((null===(e=t.getAttribute)||void 0===e?void 0:e.call(t,"class"))||"").indexOf(ek)>-1},e.prototype.dragStart=function(t,e){void 0===e&&(e=t.target);var n=this.targetGesto,r=this.controlGesto;return n&&i2(this)({inputEvent:t},e)?n.isFlag()||n.triggerDragStart(t):r&&this.isMoveableElement(e)&&!r.isFlag()&&r.triggerDragStart(t),this},e.prototype.hitTest=function(t){var e,n,r,i,o,a,s,u,l,c,f=this.state,p=f.target,d=f.pos1,h=f.pos2,v=f.pos3,g=f.pos4,m=f.targetClientRect;if(!p)return 0;if(tc(t)){var b=t.getBoundingClientRect();c={left:b.left,top:b.top,width:b.width,height:b.height}}else c=eb({width:0,height:0},t);var x=c.left,y=c.top,S=c.width,E=c.height,D=t3([d,h,g,v],m),C=(e=[[x,y],[x+S,y],[x+S,y+E],[x,y+E]],t2((n=D.slice(),r=e.slice(),-1===K(n)&&n.reverse(),-1===K(r)&&r.reverse(),i=t9(n),o=t9(r),a=i.map(function(t){return t6(t[0],t[1])}),s=o.map(function(t){return t6(t[0],t[1])}),u=[],a.forEach(function(t,e){var n=i[e],a=[];s.forEach(function(r,i){var s=t7(t8(t,r),[n,o[i]]);a.push.apply(a,s.map(function(t){return{index1:e,index2:i,pos:t,type:"intersection"}}))}),a.sort(function(t,e){return $(n[0],t.pos)-$(n[0],e.pos)}),u.push.apply(u,a),t5(n[1],r)&&u.push({index1:e,index2:-1,pos:n[1],type:"inside"})}),o.forEach(function(t,e){if(t5(t[1],n)){var r=!1,i=N(u,function(t){return t.index2===e?(r=!0,!1):!!r});-1===i&&(r=!1,i=N(u,function(t){var n=t.index1,i=t.index2;return -1===n&&i+1===e?(r=!0,!1):!!r})),-1===i?u.push({index1:-1,index2:e,pos:t[1],type:"inside"}):u.splice(i,0,{index1:-1,index2:e,pos:t[1],type:"inside"})}}),l={},u.filter(function(t){var e=t.pos,n=e[0]+"x"+e[1];return!l[n]&&(l[n]=!0,!0)})).map(function(t){return t.pos}))),w=t2(D);return C&&w?Math.min(100,C/w*100):0},e.prototype.isInside=function(t,e){var n=this.state,r=n.target,i=n.pos1,o=n.pos2,a=n.pos3,s=n.pos4,u=n.targetClientRect;return!!r&&t5([t,e],t3([i,o,s,a],u))},e.prototype.updateRect=function(t,e,n){void 0===n&&(n=!0);var r=this.props,i=!r.parentPosition&&!r.wrapperMoveable;i&&ns(!0);var o=r.parentMoveable,a=this.state.target||r.target,s=this.getContainer(),u=o?o._rootContainer:this._rootContainer,l=i8(this.controlBox,a,s,s,u||s,this._getRequestStyles());if(!a&&this._hasFirstTarget&&r.persistData){var c=i7(r.persistData);for(var f in c)l[f]=c[f]}i&&ns(),this.updateState(l,!o&&n)},e.prototype.isDragging=function(t){var e,n,r=this.targetGesto,i=this.controlGesto;if(null==r?void 0:r.isFlag()){if(!t)return!0;var o=r.getEventData();return!!(null===(e=o[t])||void 0===e?void 0:e.isEventStart)}if(null==i?void 0:i.isFlag()){if(!t)return!0;var o=i.getEventData();return!!(null===(n=o[t])||void 0===n?void 0:n.isEventStart)}return!1},e.prototype.updateTarget=function(t){this.updateRect(t,!0)},e.prototype.getRect=function(){var t=this.state,e=rL(this.state),n=ex(e,4),r=n[0],i=n[1],o=n[2],a=n[3],s=rT(e),u=t.width,l=t.height,c=s.width,f=s.height,p=s.left,d=s.top,h=[t.left,t.top],v=tb(h,t.origin);return{width:c,height:f,left:p,top:d,pos1:r,pos2:i,pos3:o,pos4:a,offsetWidth:u,offsetHeight:l,beforeOrigin:tb(h,t.beforeOrigin),origin:v,transformOrigin:t.transformOrigin,rotation:this.getRotation()}},e.prototype.getManager=function(){return this},e.prototype.stopDrag=function(t){if(!t||"target"===t){var e=this.targetGesto;(null==e?void 0:e.isIdle())===!1&&rV(this,!1),null==e||e.stop()}if(!t||"control"===t){var e=this.controlGesto;(null==e?void 0:e.isIdle())===!1&&rV(this,!0),null==e||e.stop()}},e.prototype.getRotation=function(){var t,e=this.state,n=e.pos1,r=e.pos2,i=e.direction;return t=Z(n,r)/Math.PI*180,t=(t=i>=0?t:180-t)>=0?t:360+t},e.prototype.request=function(t,e,n){void 0===e&&(e={});var r=this,i=r.props,o=i.parentMoveable||i.wrapperMoveable||r,a=o.props.ables,s=i.groupable,u=Y(a,function(e){return e.name===t});if(this.isDragging()||!u||!u.request)return{request:function(){return this},requestEnd:function(){return this}};var l=u.request(r),c=n||e.isInstant,f=l.isControl?"controlAbles":"targetAbles",p="".concat(s?"Group":"").concat(l.isControl?"Control":""),d=ey([],ex(o[f]),!1),h={request:function(e){return i1(r,d,["drag"],p,"",eb(eb({},l.request(e)),{requestAble:t,isRequest:!0}),c),h},requestEnd:function(){return i1(r,d,["drag"],p,"End",eb(eb({},l.requestEnd()),{requestAble:t,isRequest:!0}),c),h}};return i1(r,d,["drag"],p,"Start",eb(eb({},l.requestStart(e)),{requestAble:t,isRequest:!0}),c),c?h.request(e).requestEnd():h},e.prototype.getMoveables=function(){return[this]},e.prototype.destroy=function(){this.componentWillUnmount()},e.prototype.updateRenderPoses=function(){var t=this.getState(),e=this.props,n=e.padding,r=t.originalBeforeOrigin,i=t.transformOrigin,o=t.allMatrix,a=t.is3d,s=t.pos1,u=t.pos2,l=t.pos3,c=t.pos4,f=t.left,p=t.top,d=t.isPersisted,h=e.zoom||1;if(!n&&h<=1){t.renderPoses=[s,u,l,c],t.renderLines=[[s,u],[u,c],[c,l],[l,s]];return}var v=im(n||{}),g=v.left,m=v.top,b=v.bottom,x=v.right,y=a?4:3,S=tg(y,tz((d?i:this.controlBox&&e.groupable?r:tb(r,[f,p])).map(function(t){return-t}),y),o,tz(i,y)),E=it(S,s,[-g,-m],y),D=it(S,u,[x,-m],y),C=it(S,l,[-g,b],y),w=it(S,c,[x,b],y);if(t.renderPoses=[E,D,C,w],t.renderLines=[[E,D],[D,w],[w,C],[C,E]],h){var M=h/2;t.renderLines=[[it(S,s,[-g-M,-m],y),it(S,u,[x+M,-m],y)],[it(S,u,[x,-m-M],y),it(S,c,[x,b+M],y)],[it(S,c,[x+M,b],y),it(S,l,[-g-M,b],y)],[it(S,l,[-g,b+M],y),it(S,s,[-g,-m-M],y)]]}},e.prototype.checkUpdate=function(){this._isPropTargetChanged=!1;var t=this.props,e=t.target,n=t.container,r=t.parentMoveable,i=this.state,o=i.target,a=i.container;if(o||e){this.updateAbles();var s=!r3(o,e);if(s||!r3(a,n)){var u=n||this.controlBox;u&&this.unsetAbles(),this.updateState({target:e,container:n}),!r&&u&&this.updateRect("End",!1,!1),this._isPropTargetChanged=s}}},e.prototype.waitToChangeTarget=function(){return new Promise(function(){})},e.prototype.triggerEvent=function(t,e){var n=this.props;if(this._emitter.trigger(t,e),n.parentMoveable&&e.isRequest&&!e.isRequestChild)return n.parentMoveable.triggerEvent(t,e,!0);var r=n[t];return r&&r(e)},e.prototype.useCSS=function(t,e){var n=this.props.customStyledMap,r=t+e;return n[r]||(n[r]=ev(t,e)),n[r]},e.prototype.getState=function(){var t,e=this.props;(e.target||(null===(t=e.targets)||void 0===t?void 0:t.length))&&(this._hasFirstTarget=!0);var n=this.controlBox,r=e.persistData,i=e.firstRenderState;if(i&&!n)return i;if(!this._hasFirstTarget&&r){var o=i7(r);if(o)return this.updateState(o,!1),this.state}return this.state.isPersisted=!1,this.state},e.prototype.updateSelectors=function(){},e.prototype.unsetAbles=function(){var t=this;this.targetAbles.forEach(function(e){e.unset&&e.unset(t)})},e.prototype.updateAbles=function(t,e){void 0===t&&(t=this.props.ables),void 0===e&&(e="");var n=this.props.triggerAblesSimultaneously,r=this.getEnabledAbles(t),i="drag".concat(e,"Start"),o="pinch".concat(e,"Start"),a="drag".concat(e,"ControlStart"),s=r2(r,[i,o],n),u=r2(r,[a],n);this.enabledAbles=r,this.targetAbles=s,this.controlAbles=u},e.prototype.updateState=function(t,e){if(e)this.isUnmounted||this.setState(t);else{var n=this.state;for(var r in t)n[r]=t[r]}},e.prototype.getEnabledAbles=function(t){void 0===t&&(t=this.props.ables);var e=this.props;return t.filter(function(t){return t&&(t.always&&!1!==e[t.name]||e[t.name])})},e.prototype.renderAbles=function(){var t,e,n,r,i=this,o=this.props.triggerAblesSimultaneously,a={createElement:et.createElement};return this.renderState={},(t=r6(r2(this.getEnabledAbles(),["render"],o).map(function(t){return(0,t.render)(i,a)||[]})).filter(function(t){return t}),e=function(t){return t.key},n=[],r={},t.forEach(function(i,o){var a=e(i,o,t),s=r[a];s||(s=[],r[a]=s,n.push(s)),s.push(i)}),n).map(function(t){return t[0]})},e.prototype.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},e.prototype._getRequestStyles=function(){return this.getEnabledAbles().reduce(function(t,e){var n,r,i=null!==(r=null===(n=e.requestStyle)||void 0===n?void 0:n.call(e))&&void 0!==r?r:[];return ey(ey([],ex(t),!1),ex(i),!1)},ey([],ex(this.props.requestStyles||[]),!1))},e.prototype._updateObserver=function(t){this._updateResizeObserver(t),this._updateMutationObserver(t)},e.prototype._updateEvents=function(){var t=this.targetAbles.length,e=this.controlAbles.length,n=this._dragTarget;(!t&&this.targetGesto||this._isTargetChanged(!0))&&(rU(this,!1),this.updateState({gestos:{}})),e||rU(this,!0),n&&t&&!this.targetGesto&&(this.targetGesto=i3(this,n,"")),!this.controlGesto&&e&&(this.controlGesto=i4(this,"Control"))},e.prototype._updateTargets=function(){var t=this.props;this._prevPropTarget=this._propTarget,this._prevDragTarget=this._dragTarget,this._prevOriginalDragTarget=this._originalDragTarget,this._prevDragArea=t.dragArea,this._propTarget=t.target,this._originalDragTarget=t.dragTarget||t.target,this._dragTarget=ia(this._originalDragTarget,!0)},e.prototype._renderLines=function(){var t=this.props,e=t.zoom,n=t.hideDefaultLines,r=t.hideChildMoveableDefaultLines,i=t.parentMoveable;if(n||i&&r)return[];var o=this.getState(),a={createElement:et.createElement};return o.renderLines.map(function(t,n){return nv(a,"",t[0],t[1],e,"render-line-".concat(n))})},e.prototype._isTargetChanged=function(t){var e=this.props,n=e.dragTarget||e.target,r=this._prevOriginalDragTarget,i=this._prevDragArea,o=e.dragArea;return!o&&r!==n||(t||o)&&i!==o||this._prevPropTarget!=this._propTarget},e.prototype._updateNativeEvents=function(){var t=this,e=this.props.dragArea?this.areaElement:this.state.target,n=this.events,r=W(n);if(this._isTargetChanged())for(var i in n){var o=n[i];o&&o.destroy(),n[i]=null}if(e){var a=this.enabledAbles;r.forEach(function(r){var i=r2(a,[r]),o=i.length>0,s=n[r];if(!o){s&&(s.destroy(),n[r]=null);return}s||(s=new i6(e,t,r),n[r]=s),s.setAbles(i)})}},e.prototype._checkUpdateRootContainer=function(){var t=this.props.rootContainer;!this._rootContainer&&t&&(this._rootContainer=ia(t,!0))},e.prototype._checkUpdateViewContainer=function(){var t=this.props.viewContainer;!this._viewContainer&&t&&(this._viewContainer=ia(t,!0)),this._viewContainer&&this._changeAbleViewClassNames(ey(ey([],ex(this._getAbleViewClassNames()),!1),[this.isDragging()?iR:""],!1))},e.prototype._changeAbleViewClassNames=function(t){var e=this._viewContainer,n=r5(t.filter(Boolean),function(t){return t}).map(function(t){return ex(t,1)[0]}),r=this._viewClassNames,i=tW(r,n),o=i.removed,a=i.added;o.forEach(function(t){tn(e,r[t])}),a.forEach(function(t){te(e,n[t])}),this._viewClassNames=n},e.prototype._getAbleViewClassNames=function(){var t=this;return(this.getEnabledAbles().map(function(e){var n;return(null===(n=e.viewClassName)||void 0===n?void 0:n.call(e,t))||""}).join(" ")+" ".concat(this._getAbleClassName("-view"))).split(/\s+/g)},e.prototype._getAbleClassName=function(t){var e=this;void 0===t&&(t="");var n=this.getEnabledAbles(),r=this.targetGesto,i=this.controlGesto,o=(null==r?void 0:r.isFlag())?r.getEventData():{},a=(null==i?void 0:i.isFlag())?i.getEventData():{};return n.map(function(n){var r,i,s,u=n.name,l=(null===(r=n.className)||void 0===r?void 0:r.call(n,e))||"";return((null===(i=o[u])||void 0===i?void 0:i.isEventStart)||(null===(s=a[u])||void 0===s?void 0:s.isEventStart))&&(l+=" ".concat(rx("".concat(u).concat(t,"-dragging")))),l.trim()}).filter(Boolean).join(" ")},e.prototype._updateResizeObserver=function(t){var e,n=this.props,r=n.target,i=tu(this.getControlBoxElement());if(!i.ResizeObserver||!r||!n.useResizeObserver){null===(e=this._reiszeObserver)||void 0===e||e.disconnect();return}if(t.target!==r||!this._reiszeObserver){var o=new i.ResizeObserver(this.checkUpdateRect);o.observe(r,{box:"border-box"}),this._reiszeObserver=o}},e.prototype._updateMutationObserver=function(t){var e,n=this,r=this.props,i=r.target,o=tu(this.getControlBoxElement());if(!o.MutationObserver||!i||!r.useMutationObserver){null===(e=this._mutationObserver)||void 0===e||e.disconnect();return}if(t.target!==i||!this._mutationObserver){var a=new o.MutationObserver(function(t){var e,r;try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),o=i.next();!o.done;o=i.next()){var a=o.value;"attributes"===a.type&&"style"===a.attributeName&&n.checkUpdateRect()}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}});a.observe(i,{attributes:!0}),this._mutationObserver=a}},e.defaultProps={dragTargetSelf:!1,target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,parentMoveable:null,wrapperMoveable:null,isWrapperMounted:!1,parentPosition:null,warpSelf:!1,svgOrigin:"",dragContainer:null,useResizeObserver:!1,useMutationObserver:!1,preventDefault:!0,preventRightClick:!0,preventWheelClick:!0,linePadding:0,controlPadding:0,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,dragFocusedInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{},stopPropagation:!1,preventClickDefault:!1,preventClickEventOnDrag:!0,flushSync:ry,firstRenderState:null,persistData:null,viewContainer:null,requestStyles:[],useAccuratePosition:!1},e}(et.PureComponent),ot={name:"groupable",props:["defaultGroupRotate","useDefaultGroupRotate","defaultGroupOrigin","groupable","groupableProps","targetGroups","hideChildMoveableDefaultLines"],events:[],render:function(t,e){var n,r=t.props,i=r.targets||[],o=t.getState(),a=o.left,s=o.top,u=o.isPersisted,l=r.zoom||1,c=t.renderGroupRects,f=(null===(n=r.persistData)||void 0===n?void 0:n.children)||[];u?i=f.map(function(){return null}):f=[];var p=id(t,"parentPosition",[a,s],function(t){return t.join(",")}),d=id(t,"requestStyles",t.getRequestChildStyles(),function(t){return t.join(",")});return t.moveables=t.moveables.slice(0,i.length),ey(ey([],ex(i.map(function(n,i){return e.createElement(i9,{key:"moveable"+i,ref:y(t,"moveables",i),target:n,origin:!1,requestStyles:d,cssStyled:r.cssStyled,customStyledMap:r.customStyledMap,useResizeObserver:r.useResizeObserver,useMutationObserver:r.useMutationObserver,hideChildMoveableDefaultLines:r.hideChildMoveableDefaultLines,parentMoveable:t,parentPosition:[a,s],persistData:f[i],zoom:l})})),!1),ex(r6(c.map(function(t,n){var r=[t.pos1,t.pos2,t.pos3,t.pos4];return[[0,1],[1,3],[3,2],[2,0]].map(function(t,i){var o=ex(t,2),a=o[0],s=o[1];return nv(e,"",tx(r[a],p),tx(r[s],p),l,"group-rect-".concat(n,"-").concat(i))})}))),!1)}},oe=eS("clickable",{props:["clickable"],events:["click","clickGroup"],always:!0,dragRelation:"weak",dragStart:function(){},dragControlStart:function(){},dragGroupStart:function(t,e){e.datas.inputTarget=e.inputEvent&&e.inputEvent.target},dragEnd:function(t,e){var n=t.props.target,r=e.inputEvent,i=e.inputTarget,o=!t.isMoveableElement(i)&&t.controlBox.contains(i);if(!(!r||!i||e.isDrag||t.isMoveableElement(i))&&!o){var a=n.contains(i);r0(t,"onClick",r$(t,e,{isDouble:e.isDouble,inputTarget:i,isTarget:n===i,moveableTarget:t.props.target,containsTarget:a}))}},dragGroupEnd:function(t,e){var n=e.inputEvent,r=e.inputTarget;if(!(!n||!r||e.isDrag||t.isMoveableElement(r))&&e.datas.inputTarget!==r){var i=t.props.targets,o=i.indexOf(r),a=o>-1,s=!1;-1===o&&(s=(o=N(i,function(t){return t.contains(r)}))>-1),r0(t,"onClickGroup",r$(t,e,{isDouble:e.isDouble,targets:i,inputTarget:r,targetIndex:o,isTarget:a,containsTarget:s,moveableTarget:i[o]}))}},dragControlEnd:function(t,e){this.dragEnd(t,e)},dragGroupControlEnd:function(t,e){this.dragEnd(t,e)}});function on(t){var e=t.originalDatas.draggable;return e||(t.originalDatas.draggable={},e=t.originalDatas.draggable),eb(eb({},t),{datas:e})}var or=eS("edgeDraggable",{css:[".edge.edgeDraggable.line {\ncursor: move;\n}"],render:function(t,e){var n=t.props,r=n.edgeDraggable;return r?ng(e,"edgeDraggable",r,t.getState().renderPoses,n.zoom):[]},dragCondition:function(t,e){var n,r=t.props,i=null===(n=e.inputEvent)||void 0===n?void 0:n.target;return!!r.edgeDraggable&&!!i&&!r.draggable&&tt(i,rx("direction"))&&tt(i,rx("edge"))&&tt(i,rx("edgeDraggable"))},dragStart:function(t,e){return n3.dragStart(t,on(e))},drag:function(t,e){return n3.drag(t,on(e))},dragEnd:function(t,e){return n3.dragEnd(t,on(e))},dragGroupCondition:function(t,e){var n,r=t.props,i=null===(n=e.inputEvent)||void 0===n?void 0:n.target;return!!r.edgeDraggable&&!!i&&!r.draggable&&tt(i,rx("direction"))&&tt(i,rx("line"))},dragGroupStart:function(t,e){return n3.dragGroupStart(t,on(e))},dragGroup:function(t,e){return n3.dragGroup(t,on(e))},dragGroupEnd:function(t,e){return n3.dragGroupEnd(t,on(e))},unset:function(t){return n3.unset(t)}}),oi={name:"individualGroupable",props:["individualGroupable","individualGroupableProps"],events:[]},oo=[iQ,iG,{name:"snappable",dragRelation:"strong",props:["snappable","snapContainer","snapDirections","elementSnapDirections","snapGap","snapGridWidth","snapGridHeight","isDisplaySnapDigit","isDisplayInnerSnapDigit","isDisplayGridGuidelines","snapDigit","snapThreshold","snapRenderThreshold","snapGridAll",nz,nG,nk,nI,"horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","innerBounds","snapDistFormat","maxSnapElementGuidelineDistance","maxSnapElementGapDistance"],events:["snap","bound"],css:[":host {\n--bounds-color: #d66;\n}\n.guideline {\npointer-events: none;\nz-index: 2;\n}\n.guideline.bounds {\nbackground: #d66;\nbackground: var(--bounds-color);\n}\n.guideline-group {\nposition: absolute;\ntop: 0;\nleft: 0;\n}\n.guideline-group .size-value {\nposition: absolute;\ncolor: #f55;\nfont-size: 12px;\nfont-size: calc(12px * var(--zoom));\nfont-weight: bold;\n}\n.guideline-group.horizontal .size-value {\ntransform-origin: 50% 100%;\ntransform: translateX(-50%);\nleft: 50%;\nbottom: 5px;\nbottom: calc(2px + 3px * var(--zoom));\n}\n.guideline-group.vertical .size-value {\ntransform-origin: 0% 50%;\ntop: 50%;\ntransform: translateY(-50%);\nleft: 5px;\nleft: calc(2px + 3px * var(--zoom));\n}\n.guideline.gap {\nbackground: #f55;\n}\n.size-value.gap {\ncolor: #f55;\n}\n"],render:function(t,e){var n,r,i,o,a,s=t.state,u=s.top,l=s.left,c=s.pos1,f=s.pos2,p=s.pos3,d=s.pos4,h=s.snapRenderInfo,v=t.props.snapRenderThreshold,g=void 0===v?1:v;if(!h||!h.render||!nO(t,""))return id(t,"boundMap",n_(),function(t){return JSON.stringify(t)}),id(t,"innerBoundMap",n_(),function(t){return JSON.stringify(t)}),[];s.guidelines=rs(t);var m=Math.min(c[0],f[0],p[0],d[0]),b=Math.min(c[1],f[1],p[1],d[1]),x=h.externalPoses||[],y=rL(t.state),S=[],E=[],D=[],C=[],w=[],M=rT(y),R=M.width,_=M.height,O=M.top,P=M.left,T=M.bottom,z=M.right,G={left:P,right:z,top:O,bottom:T,center:(P+z)/2,middle:(O+T)/2},k=x.length>0,I=k?rT(x):{};if(!h.request){if(h.direction&&w.push((B=h.direction,F=[],B[0]&&B[1]?F=[B,[-B[0],B[1]],[B[0],-B[1]]]:B[0]||B[1]?t.props.keepRatio?F.push([-1,-1],[-1,1],[1,-1],[1,1],B):(F.push.apply(F,ey([],ex((A=[[-1,-1],[1,-1],[-1,-1],[1,1]],eJ(B).map(function(t){return A[t]}))),!1)),F.length>1&&F.push([(F[0][0]+F[1][0])/2,(F[0][1]+F[1][1])/2])):[[-1,-1],[1,-1],[1,1],[-1,1]].forEach(function(t,e,n){var r=n[e+1]||n[0];F.push(t),F.push([(t[0]+r[0])/2,(t[1]+r[1])/2])}),Y=nB(t,(N=F.map(function(t){return e0(y,t)})).map(function(t){return t[0]}),N.map(function(t){return t[1]}),F.map(function(t){return nF(t[0])}),F.map(function(t){return nF(t[1])}),g,g),q=nF(F.map(function(t){return t[0]})[Y.vertical.index]),X=nF(F.map(function(t){return t[1]})[Y.horizontal.index]),{vertical:eb(eb({},Y.vertical),{direction:q}),horizontal:eb(eb({},Y.horizontal),{direction:X})})),h.snap){var B,A,F,N,Y,q,X,W=rT(y);h.center&&(W.middle=(W.top+W.bottom)/2,W.center=(W.left+W.right)/2),w.push(nN(t,W,g,g))}k&&(h.center&&(I.middle=(I.top+I.bottom)/2,I.center=(I.left+I.right)/2),w.push(nN(t,I,g,g))),w.forEach(function(t){var e=t.vertical.posInfos,n=t.horizontal.posInfos;S.push.apply(S,ey([],ex(e.filter(function(t){return t.guidelineInfos.some(function(t){return!t.guideline.hide})}).map(function(t){return{type:"snap",pos:t.pos}})),!1)),E.push.apply(E,ey([],ex(n.filter(function(t){return t.guidelineInfos.some(function(t){return!t.guideline.hide})}).map(function(t){return{type:"snap",pos:t.pos}})),!1)),D.push.apply(D,ey([],ex(rg(e)),!1)),C.push.apply(C,ey([],ex(rg(n)),!1))})}var j=rm(t,[P,z],[O,T],S,E),H=j.boundMap,L=j.innerBoundMap;k&&rm(t,[I.left,I.right],[I.top,I.bottom],S,E,h.externalBounds);var V=ey(ey([],ex(D),!1),ex(C),!1),U=V.filter(function(t){return t.element&&!t.gapRects}),Z=V.filter(function(t){return t.gapRects}).sort(function(t,e){return t.gap-e.gap});r0(t,"onSnap",{guidelines:V.filter(function(t){return!t.element}),elements:U,gaps:Z},!0);var K=id(t,"boundMap",H,function(t){return JSON.stringify(t)},n_()),$=id(t,"innerBoundMap",L,function(t){return JSON.stringify(t)},n_());return(H===K||L===$)&&r0(t,"onBound",{bounds:H,innerBounds:L},!0),ey(ey(ey(ey(ey(ey([],ex((n=[m,b],r=t.props.isDisplayInnerSnapDigit,i=[],["vertical","horizontal"].forEach(function(o){var a,s,u,l,c,f=U.filter(function(t){return t.type===o}),p="vertical"===o?1:0,d=p?0:1,h=(a="vertical"===o?0:1,s="vertical"===o?1:0,l=G[(u=a?nM:nR).start],c=G[u.end],r5(f,function(t){return t.pos[a]}).map(function(t){var e=[],n=[];return t.forEach(function(t){var i,f,p=t.element,d=t.elementRect.rect;if(d[u.end]<l)e.push(t);else if(c<d[u.start])n.push(t);else if(d[u.start]<=l&&c<=d[u.end]&&r){var h=t.pos,v={element:p,rect:eb(eb({},d),((i={})[u.end]=d[u.start],i))},g={element:p,rect:eb(eb({},d),((f={})[u.start]=d[u.end],f))},m=[0,0],b=[0,0];m[a]=h[a],m[s]=h[s],b[a]=h[a],b[s]=h[s]+t.size,e.push({type:o,pos:m,size:0,elementRect:v,direction:"",elementDirection:"end"}),n.push({type:o,pos:b,size:0,elementRect:g,direction:"",elementDirection:"start"})}}),e.sort(function(t,e){return e.pos[s]-t.pos[s]}),n.sort(function(t,e){return t.pos[s]-e.pos[s]}),{total:t,start:e,end:n,inner:[]}})),v=p?nR:nM,g=p?nM:nR,m=G[v.start],b=G[v.end];h.forEach(function(r){var a=r.total,s=r.start,u=r.end,l=r.inner,c=n[d]+a[0].pos[d]-G[g.start],f=G;s.forEach(function(r){var a=r.elementRect.rect,s=f[v.start]-a[v.end];if(s>0){var u=[0,0];u[p]=n[p]+f[v.start]-m-s,u[d]=c,i.push(ra(t,o,"dashed",i.length,s,u,r.className,e))}f=a}),f=G,u.forEach(function(r){var a=r.elementRect.rect,s=a[v.start]-f[v.end];if(s>0){var u=[0,0];u[p]=n[p]+f[v.end]-m,u[d]=c,i.push(ra(t,o,"dashed",i.length,s,u,r.className,e))}f=a}),l.forEach(function(r){var a=r.elementRect.rect,s=m-a[v.start],u=a[v.end]-b,l=[0,0],f=[0,0];l[p]=n[p]-s,l[d]=c,f[p]=n[p]+b-m,f[d]=c,i.push(ra(t,o,"dashed",i.length,s,l,r.className,e)),i.push(ra(t,o,"dashed",i.length,u,f,r.className,e))})})}),i)),!1),ex((o=[m,b],a=[],["horizontal","vertical"].forEach(function(n){var r=Z.filter(function(t){return t.type===n}).slice(0,1),i="vertical"===n?0:1,s=i?0:1,u=i?nR:nM,l=i?nM:nR,c=G[u.start],f=G[u.end],p=G[l.start],d=G[l.end];r.forEach(function(n){var r=n.gap,h=n.gapRects,v=Math.max.apply(Math,ey([p],ex(h.map(function(t){return t.rect[l.start]})),!1)),g=Math.min.apply(Math,ey([d],ex(h.map(function(t){return t.rect[l.end]})),!1)),m=(v+g)/2;v!==g&&m!==(p+d)/2&&h.forEach(function(n){var l=n.rect,d=n.className,h=[o[0],o[1]];if(l[u.end]<c)h[i]+=l[u.end]-c;else{if(!(f<l[u.start]))return;h[i]+=l[u.start]-c-r}h[s]+=m-p,a.push(ra(t,i?"vertical":"horizontal","gap",a.length,r,h,d,e))})})}),a)),!1),ex(ro(t,"horizontal",C,[l,u],G,e)),!1),ex(ro(t,"vertical",D,[l,u],G,e)),!1),ex(ri(t,"horizontal",E,m,u,R,0,e)),!1),ex(ri(t,"vertical",S,b,l,_,1,e)),!1)},dragStart:function(t,e){t.state.snapRenderInfo={request:e.isRequest,snap:!0,center:!0},rf(t)},drag:function(t){var e=t.state;rf(t)||(e.guidelines=rs(t)),e.snapRenderInfo&&(e.snapRenderInfo.render=!0)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t,e){return!!(rb(t,e)||rn(t,e))||(!e.isRequest&&e.inputEvent?tt(e.inputEvent.target,rx("snap-control")):void 0)},dragControlStart:function(t){t.state.snapRenderInfo=null,rf(t)},dragControl:function(t){this.drag(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t){this.drag(t)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t){t.state.snapRenderInfo=null,rf(t)},dragGroupControl:function(t){this.drag(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var e=t.state;e.enableSnap=!1,e.guidelines=[],e.snapRenderInfo=null,e.elementRects=[]}},ib,n3,or,n8,iy,iD,{name:"rotatable",canPinch:!0,props:["rotatable","rotationPosition","throttleRotate","renderDirections","rotationTarget","rotateAroundControls","edge","resolveAblesWithRotatable","displayAroundControls"],events:["rotateStart","beforeRotate","rotate","rotateEnd","rotateGroupStart","beforeRotateGroup","rotateGroup","rotateGroupEnd"],css:[".rotation {\nposition: absolute;\nheight: 40px;\nwidth: 1px;\ntransform-origin: 50% 100%;\nheight: calc(40px * var(--zoom));\ntop: auto;\nleft: 0;\nbottom: 100%;\nwill-change: transform;\n}\n.rotation .rotation-line {\ndisplay: block;\nwidth: 100%;\nheight: 100%;\ntransform-origin: 50% 50%;\n}\n.rotation .rotation-control {\nborder-color: #4af;\nborder-color: var(--moveable-color);\nbackground:#fff;\ncursor: alias;\n}\n:global .view-rotation-dragging, .rotatable.direction.control {\ncursor: alias;\n}\n.rotatable.direction.control.move {\ncursor: move;\n}\n"],viewClassName:function(t){return t.isDragging("rotatable")?rx("view-rotation-dragging"):""},render:function(t,e){var n=rB(t.props,"rotatable"),r=n.rotatable,i=n.rotationPosition,o=n.zoom,a=n.renderDirections,s=n.rotateAroundControls,u=n.resolveAblesWithRotatable,l=t.getState(),c=l.renderPoses,f=l.direction;if(!r)return null;var p=function t(e,n,r){var i=ex(n,4),o=i[0],a=i[1],s=i[2],u=i[3];if("none"===e)return[];if(_(e))return e.map(function(e){return t(e,[o,a,s,u],r)[0]});var l=ex((e||"top").split("-"),2),c=l[0],f=l[1],p=[o,a];"left"===c?p=[s,o]:"right"===c?p=[a,u]:"bottom"===c&&(p=[u,s]);var d=[(p[0][0]+p[1][0])/2,(p[0][1]+p[1][1])/2],h=rF(p,r);if(f){var v="top"===f||"left"===f,g="bottom"===c||"left"===c;d=p[v&&!g||!v&&g?0:1]}return[[d,h]]}(i,c,f),d=[];if(p.forEach(function(t,n){var r=ex(t,2),i=r[0],a=r[1];d.push(e.createElement("div",{key:"rotation".concat(n),className:rx("rotation"),style:{transform:"translate(-50%) translate(".concat(i[0],"px, ").concat(i[1],"px) rotate(").concat(a,"rad)")}},e.createElement("div",{className:rx("line rotation-line"),style:{transform:"scaleX(".concat(o,")")}}),e.createElement("div",{className:rx("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(o,")")}})))}),a){var h=W(u||{}),v={};h.forEach(function(t){u[t].forEach(function(e){v[e]=t})});var g=[];_(a)&&(g=a.map(function(t){var e=v[t];return{data:e?{resolve:e}:{},classNames:e?["move"]:[],dir:t}})),d.push.apply(d,ey([],ex(nd(t,"rotatable",g,e)),!1))}return s&&d.push.apply(d,ey([],ex(nb(t,e)),!1)),d},dragControlCondition:rn,dragControlStart:function(t,e){var n,r,i,o,a,s,u,l,c,f,p=e.datas,d=e.clientX,h=e.clientY,v=e.parentRotate,g=e.parentFlag,m=e.isPinch,b=e.isRequest,x=t.state,y=x.target,S=x.left,E=x.top,D=x.direction,C=x.beforeDirection,w=x.targetTransform,M=x.moveableClientRect,R=x.offsetMatrix,_=x.targetMatrix,O=x.allMatrix,P=x.width,T=x.height;if(!b&&!y)return!1;var z=t.getRect();p.rect=z,p.transform=w,p.left=S,p.top=E;var G=function(e){var n=n5(t.state,e);p.fixedDirection=n.fixedDirection,p.fixedOffset=n.fixedOffset,p.fixedPosition=n.fixedPosition,Z&&Z.setFixedPosition(e)},k=function(e){var n,r,i,o,a,s=(r=(n=t.state).allMatrix,i=n.is3d,o=n.width,a=n.height,{fixedPosition:rO(r,[o/2*(1+e[0]),a/2*(1+e[1])],i?4:3),fixedDirection:e,fixedOffset:[0,0]});p.fixedDirection=s.fixedDirection,p.fixedOffset=s.fixedOffset,p.fixedPosition=s.fixedPosition,Z&&Z.setFixedDirection(e)},I=d,B=h;if(b||m||g){var A=v||0;p.beforeInfo={origin:z.beforeOrigin,prevDeg:A,defaultDeg:A,prevSnapDeg:0,startDist:0},p.afterInfo=eb(eb({},p.beforeInfo),{origin:z.origin}),p.absoluteInfo=eb(eb({},p.beforeInfo),{origin:z.origin,startValue:A})}else{var F=null===(f=e.inputEvent)||void 0===f?void 0:f.target;if(F){var N=eF[F.getAttribute("data-direction")||""];if(N){p.isControl=!0,p.isAroundControl=tt(F,rx("around-control")),p.controlDirection=N;var Y,q,X,W,j,H,L=F.getAttribute("data-resolve");L&&(p.resolveAble=L),I=(c=ex(e0((Y=x.rootMatrix,q=x.renderPoses,X=16===Y.length?4:3,W=q.map(function(t){return rO(Y,t,X)}),j=M.left,H=M.top,W.map(function(t){return[t[0]+j,t[1]+H]})),N),2))[0],B=c[1]}}p.beforeInfo={origin:z.beforeOrigin},p.afterInfo={origin:z.origin},p.absoluteInfo={origin:z.origin,startValue:z.rotation};var V=G;G=function(e){var n=x.is3d?4:3,r=ex(tb(td(_,n),e),2),i=tS(R,th([r[0],r[1]],n)),o=tS(O,th([e[0],e[1]],n));V(e);var a=x.posDelta;p.beforeInfo.origin=tx(i,a),p.afterInfo.origin=tx(o,a),p.absoluteInfo.origin=tx(o,a),n7(t,p.beforeInfo,I,B,M),n7(t,p.afterInfo,I,B,M),n7(t,p.absoluteInfo,I,B,M)},k=function(t){var e=e0([[0,0],[P,0],[0,T],[P,T]],t);G(e)}}p.startClientX=I,p.startClientY=B,p.direction=D,p.beforeDirection=C,p.startValue=0,p.datas={},e3(t,e,"rotate");var U=!1,Z=!1;p.isControl&&p.resolveAble&&"resizable"===p.resolveAble&&(Z=n8.dragControlStart(t,eb(eb({},new eW("resizable").dragStart([0,0],e)),{parentPosition:p.controlPosition,parentFixedPosition:p.fixedPosition}))),Z||(U=n3.dragStart(t,new eW().dragStart([0,0],e))),G((r=(n=t.props).groupable,i=n.svgOrigin,a=(o=t.getState()).offsetWidth,s=o.offsetHeight,u=o.svg,l=o.transformOrigin,!r&&u&&i?ip(i,a,s):l));var K=r$(t,e,eb(eb({set:function(t){p.startValue=t*Math.PI/180},setFixedDirection:k,setFixedPosition:G},e2(t,e)),{dragStart:U,resizeStart:Z})),$=r0(t,"onRotateStart",K);return p.isRotate=!1!==$,x.snapRenderInfo={request:e.isRequest},!!p.isRotate&&K},dragControl:function(t,e){var n,r,i,o,a,s,u,l,c,f,p,d,h,v=e.datas,g=e.clientDistX,m=e.clientDistY,b=e.parentRotate,x=e.parentFlag,y=e.isPinch,S=e.groupDelta,E=e.resolveMatrix,D=v.beforeDirection,C=v.beforeInfo,w=v.afterInfo,M=v.absoluteInfo,R=v.isRotate,_=v.startValue,O=v.rect,P=v.startClientX,T=v.startClientY;if(R){eV(t,e,"rotate");var z=D*ej(e.datas.beforeTransform,[50,50],100,100).direction,G=t.props.parentMoveable,k=0,I=0,B=0,A=180/Math.PI*_,F=M.startValue,N=!1,Y=P+g,q=T+m;if(!x&&"parentDist"in e){var X=e.parentDist;l=X,f=X,d=X}else y||x?(l=n9(b,D,C),f=n9(b,z,w),d=n9(b,z,M)):(l=rt(Y,q,D,C),f=rt(Y,q,z,w),d=rt(Y,q,z,M),N=!0);if(r0(t,"onBeforeRotate",r$(t,e,{beforeRotation:c=A+l,rotation:p=A+f,absoluteRotation:h=F+d,setRotation:function(t){l=f=t-A,d=f}},!0)),k=(a=ex(re(t,O,C,l,A,N),3))[0],l=a[1],c=a[2],I=(s=ex(re(t,O,w,f,A,N),3))[0],f=s[1],p=s[2],B=(u=ex(re(t,O,M,d,F,N),3))[0],d=u[1],h=u[2],B||I||k||G||E){var W=eU(v,"rotate(".concat(p,"deg)"),"rotate(".concat(f,"deg)"));E&&(v.fixedPosition=ne(t,v.targetAllTransform,v.fixedDirection,v.fixedOffset,v));var j=(n=f,r=v.fixedDirection,i=v.fixedPosition,o=v.fixedOffset,nn(t,"rotate(".concat(n,"deg)"),r,i,o,v)),H=tx(tb(S||[0,0],j),v.prevInverseDist||[0,0]);v.prevInverseDist=j,v.requestValue=null;var L=nt(t,W,H,y,e),V=L,U=$([Y,q],M.startAbsoluteOrigin)-M.startDist,Z=void 0;if("resizable"===v.resolveAble){var K=n8.dragControl(t,eb(eb({},eX(e,t.state,[e.deltaX,e.deltaY],!!y,!1,"resizable")),{resolveMatrix:!0,parentDistance:U}));K&&(Z=K,V=rK(V,K,e))}var J=r$(t,e,eb(eb({delta:I,dist:f,rotate:p,rotation:p,beforeDist:l,beforeDelta:k,beforeRotate:c,beforeRotation:c,absoluteDist:d,absoluteDelta:B,absoluteRotate:h,absoluteRotation:h,isPinch:!!y,resize:Z},L),V));return r0(t,"onRotate",J),J}}},dragControlEnd:function(t,e){var n=e.datas;if(n.isRotate){n.isRotate=!1;var r=rJ(t,e,{});return r0(t,"onRotateEnd",r),r}},dragGroupControlCondition:rn,dragGroupControlStart:function(t,e){var n=e.datas,r=t.state,i=r.left,o=r.top,a=r.beforeOrigin,s=this.dragControlStart(t,e);if(!s)return!1;s.set(n.beforeDirection*t.rotation);var u=nf(t,this,"dragControlStart",e,function(t,e){var n=t.state,r=n.left,s=n.top,u=n.beforeOrigin,l=tb(tx([r,s],[i,o]),tx(u,a));return e.datas.startGroupClient=l,e.datas.groupClient=l,eb(eb({},e),{parentRotate:0})}),l=eb(eb({},s),{targets:t.props.targets,events:u}),c=r0(t,"onRotateGroupStart",l);return n.isRotate=!1!==c,!!n.isRotate&&s},dragGroupControl:function(t,e){var n=e.datas;if(n.isRotate){rQ(t,"onBeforeRotate",function(n){r0(t,"onBeforeRotateGroup",r$(t,e,eb(eb({},n),{targets:t.props.targets}),!0))});var r=this.dragControl(t,e);if(r){var i=n.beforeDirection,o=r.beforeDist,a=o/180*Math.PI,s=nf(t,this,"dragControl",e,function(t,e){var n=e.datas.startGroupClient,r=ex(e.datas.groupClient,2),s=r[0],u=r[1],l=ex(tM(n,a*i),2),c=l[0],f=l[1];return e.datas.groupClient=[c,f],eb(eb({},e),{parentRotate:o,groupDelta:[c-s,f-u]})});t.rotation=i*r.beforeRotation;var u=eb({targets:t.props.targets,events:s,set:function(e){t.rotation=e},setGroupRotation:function(e){t.rotation=e}},r);return r0(t,"onRotateGroup",u),u}}},dragGroupControlEnd:function(t,e){var n=e.isDrag;if(e.datas.isRotate){this.dragControlEnd(t,e);var r=nf(t,this,"dragControlEnd",e),i=rJ(t,e,{targets:t.props.targets,events:r});return r0(t,"onRotateGroupEnd",i),n}},request:function(t){var e={},n=0,r=t.getRotation();return{isControl:!0,requestStart:function(){return{datas:e}},request:function(t){return"deltaRotate"in t?n+=t.deltaRotate:"rotate"in t&&(n=t.rotate-r),{datas:e,parentDist:n}},requestEnd:function(){return{datas:e,isDrag:!0}}}}},{name:"scrollable",canPinch:!0,props:["scrollable","scrollContainer","scrollThreshold","scrollThrottleTime","getScrollPosition","scrollOptions"],events:["scroll","scrollGroup"],dragRelation:"strong",dragStart:function(t,e){var n=t.props,r=n.scrollContainer,i=void 0===r?t.getContainer():r,o=n.scrollOptions,a=new t0,s=ia(i,!0);e.datas.dragScroll=a,t.state.dragScroll=a;var u=e.isControl?"controlGesto":"targetGesto",l=e.targets;a.on("scroll",function(n){var r=r$(t,e,{scrollContainer:n.container,direction:n.direction});l&&(r.targets=l),r0(t,l?"onScrollGroup":"onScroll",r)}).on("move",function(e){var n=e.offsetX,r=e.offsetY,i=e.inputEvent;t[u].scrollBy(n,r,i.inputEvent,!1)}).on("scrollDrag",function(e){(0,e.next)(t[u].getCurrentEvent())}),a.dragStart(e,eb({container:s},o))},checkScroll:function(t,e){var n=e.datas.dragScroll;if(n){var r=t.props,i=r.scrollContainer,o=void 0===i?t.getContainer():i,a=r.scrollThreshold,s=r.scrollThrottleTime,u=r.getScrollPosition,l=void 0===u?iz:u,c=r.scrollOptions;return n.drag(e,eb({container:o,threshold:void 0===a?0:a,throttleTime:void 0===s?0:s,getScrollPosition:function(t){return l({scrollContainer:t.container,direction:t.direction})}},c)),!0}},drag:function(t,e){return this.checkScroll(t,e)},dragEnd:function(t,e){e.datas.dragScroll.dragEnd(),e.datas.dragScroll=null},dragControlStart:function(t,e){return this.dragStart(t,eb(eb({},e),{isControl:!0}))},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupStart:function(t,e){return this.dragStart(t,eb(eb({},e),{targets:t.props.targets}))},dragGroup:function(t,e){return this.drag(t,eb(eb({},e),{targets:t.props.targets}))},dragGroupEnd:function(t,e){return this.dragEnd(t,eb(eb({},e),{targets:t.props.targets}))},dragGroupControlStart:function(t,e){return this.dragStart(t,eb(eb({},e),{targets:t.props.targets,isControl:!0}))},dragGroupControl:function(t,e){return this.drag(t,eb(eb({},e),{targets:t.props.targets}))},dragGroupControEnd:function(t,e){return this.dragEnd(t,eb(eb({},e),{targets:t.props.targets}))},unset:function(t){var e,n=t.state;null===(e=n.dragScroll)||void 0===e||e.dragEnd(),n.dragScroll=null}},ik,iT,{name:"originDraggable",props:["originDraggable","originRelative"],events:["dragOriginStart","dragOrigin","dragOriginEnd"],css:[":host[data-able-origindraggable] .control.origin {\npointer-events: auto;\n}"],dragControlCondition:function(t,e){return e.isRequest?"originDraggable"===e.requestAble:tt(e.inputEvent.target,rx("origin"))},dragControlStart:function(t,e){var n=e.datas;eL(t,e);var r=r$(t,e,{dragStart:n3.dragStart(t,new eW().dragStart([0,0],e))}),i=r0(t,"onDragOriginStart",r);return(n.startOrigin=t.state.transformOrigin,n.startTargetOrigin=t.state.targetOrigin,n.prevOrigin=[0,0],n.isDragOrigin=!0,!1===i)?(n.isDragOrigin=!1,!1):r},dragControl:function(t,e){var n=e.datas,r=e.isPinch,i=e.isRequest;if(!n.isDragOrigin)return!1;var o=ex(e$(e),2),a=o[0],s=o[1],u=t.state,l=u.width,c=u.height,f=u.offsetMatrix,p=u.targetMatrix,d=u.is3d,h=t.props.originRelative,v=void 0===h||h,g=d?4:3,m=[a,s];if(i){var b=e.distOrigin;(b[0]||b[1])&&(m=b)}var x=tb(n.startOrigin,m),y=tb(n.startTargetOrigin,m),S=tx(m,n.prevOrigin),E=e1(f,p,x,g),D=t.getRect(),C=rT(rP(E,l,c,g)),w=[D.left-C.left,D.top-C.top];n.prevOrigin=m;var M=[ie(y[0],l,v),ie(y[1],c,v)].join(" "),R=n3.drag(t,eX(e,t.state,w,!!r,!1)),_=r$(t,e,eb(eb({width:l,height:c,origin:x,dist:m,delta:S,transformOrigin:M,drag:R},rZ({transformOrigin:M,transform:R.transform},e)),{afterTransform:R.transform}));return r0(t,"onDragOrigin",_),_},dragControlEnd:function(t,e){return!!e.datas.isDragOrigin&&(r0(t,"onDragOriginEnd",rJ(t,e,{})),!0)},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragGroupControlStart:function(t,e){return!!this.dragControlStart(t,e)},dragGroupControl:function(t,e){var n=this.dragControl(t,e);return!!n&&(t.transformOrigin=n.transformOrigin,!0)},request:function(t){var e={},n=t.getRect(),r=0,i=0,o=n.transformOrigin,a=[0,0];return{isControl:!0,requestStart:function(){return{datas:e}},request:function(t){return"deltaOrigin"in t?(a[0]+=t.deltaOrigin[0],a[1]+=t.deltaOrigin[1]):"origin"in t?(a[0]=t.origin[0]-o[0],a[1]=t.origin[1]-o[1]):("x"in t?r=t.x-n.left:"deltaX"in t&&(r+=t.deltaX),"y"in t?i=t.y-n.top:"deltaY"in t&&(i+=t.deltaY)),{datas:e,distX:r,distY:i,distOrigin:a}},requestEnd:function(){return{datas:e,isDrag:!0}}}}},{name:"clippable",props:["clippable","defaultClipPath","customClipPath","keepRatio","clipRelative","clipArea","dragWithClip","clipTargetBounds","clipVerticalGuidelines","clipHorizontalGuidelines","clipSnapThreshold"],events:["clipStart","clip","clipEnd"],css:[".control.clip-control {\nbackground: #6d6;\ncursor: pointer;\n}\n.control.clip-control.clip-radius {\nbackground: #d66;\n}\n.line.clip-line {\nbackground: #6e6;\ncursor: move;\nz-index: 1;\n}\n.clip-area {\nposition: absolute;\ntop: 0;\nleft: 0;\n}\n.clip-ellipse {\nposition: absolute;\ncursor: move;\nborder: 1px solid #6d6;\nborder: var(--zoompx) solid #6d6;\nborder-radius: 50%;\ntransform-origin: 0px 0px;\n}",":host {\n--bounds-color: #d66;\n}",".guideline {\npointer-events: none;\nz-index: 2;\n}",".line.guideline.bounds {\nbackground: #d66;\nbackground: var(--bounds-color);\n}"],render:function(t,e){var n=t.props,r=n.customClipPath,i=n.defaultClipPath,o=n.clipArea,a=n.zoom,s=n.groupable,u=t.getState(),l=u.target,c=u.width,f=u.height,p=u.allMatrix,d=u.is3d,h=u.left,v=u.top,g=u.pos1,m=u.pos2,b=u.pos3,x=u.pos4,y=u.clipPathState,S=u.snapBoundInfos,E=u.rotation;if(!l||s)return[];var D=iZ(l,c,f,i||"inset",y||r);if(!D)return[];var C=d?4:3,w=D.type,M=D.poses.map(function(t){var e=rO(p,t.pos,C);return[e[0]-h,e[1]-v]}),R=[],_=[],O="rect"===w,P="inset"===w,T="polygon"===w;if(O||P||T){var z=P?M.slice(0,8):M;_=z.map(function(t,n){var r=0===n?z[z.length-1]:z[n-1],i=Z(r,t),o=rG(r,t);return e.createElement("div",{key:"clipLine".concat(n),className:rx("line","clip-line","snap-control"),"data-clip-index":n,style:{width:"".concat(o,"px"),transform:"translate(".concat(r[0],"px, ").concat(r[1],"px) rotate(").concat(i,"rad) scaleY(").concat(a,")")}})})}if(R=M.map(function(t,n){return e.createElement("div",{key:"clipControl".concat(n),className:rx("control","clip-control","snap-control"),"data-clip-index":n,style:{transform:"translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(E,"rad) scale(").concat(a,")")}})}),P&&R.push.apply(R,ey([],ex(M.slice(8).map(function(t,n){return e.createElement("div",{key:"clipRadiusControl".concat(n),className:rx("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+n,style:{transform:"translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(E,"rad) scale(").concat(a,")")}})})),!1)),"circle"===w||"ellipse"===w){var G=D.left,k=D.top,I=D.radiusX,B=D.radiusY,A=ex(tx(rO(p,[G,k],C),rO(p,[0,0],C)),2),F=A[0],N=A[1],Y="none";if(!o){for(var q=Math.max(10,I/5,B/5),X=[],W=0;W<=q;++W){var j=2*Math.PI/q*W;X.push([I+(I-a)*Math.cos(j),B+(B-a)*Math.sin(j)])}X.push([I,-2]),X.push([-2,-2]),X.push([-2,2*B+2]),X.push([2*I+2,2*B+2]),X.push([2*I+2,-2]),X.push([I,-2]),Y="polygon(".concat(X.map(function(t){return"".concat(t[0],"px ").concat(t[1],"px")}).join(", "),")")}R.push(e.createElement("div",{key:"clipEllipse",className:rx("clip-ellipse","snap-control"),style:{width:"".concat(2*I,"px"),height:"".concat(2*B,"px"),clipPath:Y,transform:"translate(".concat(-h+F,"px, ").concat(-v+N,"px) ").concat(rR(p))}}))}if(o){var H=rT(ey([g,m,b,x],ex(M),!1)),L=H.width,V=H.height,U=H.left,K=H.top;if(T||O||P){var X=P?M.slice(0,8):M;R.push(e.createElement("div",{key:"clipArea",className:rx("clip-area","snap-control"),style:{width:"".concat(L,"px"),height:"".concat(V,"px"),transform:"translate(".concat(U,"px, ").concat(K,"px)"),clipPath:"polygon(".concat(X.map(function(t){return"".concat(t[0]-U,"px ").concat(t[1]-K,"px")}).join(", "),")")}}))}}return S&&["vertical","horizontal"].forEach(function(t){var n=S[t],r="horizontal"===t;n.isSnap&&_.push.apply(_,ey([],ex(n.snap.posInfos.map(function(n,i){var o=n.pos;return nv(e,"",tx(rO(p,r?[0,o]:[o,0],C),[h,v]),tx(rO(p,r?[c,o]:[o,f],C),[h,v]),a,"clip".concat(t,"snap").concat(i),"guideline")})),!1)),n.isBound&&_.push.apply(_,ey([],ex(n.bounds.map(function(n,i){var o=n.pos;return nv(e,"",tx(rO(p,r?[0,o]:[o,0],C),[h,v]),tx(rO(p,r?[c,o]:[o,f],C),[h,v]),a,"clip".concat(t,"bounds").concat(i),"guideline","bounds","bold")})),!1))}),ey(ey([],ex(R),!1),ex(_),!1)},dragControlCondition:function(t,e){return e.inputEvent&&(e.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(t,e){var n=t.props.dragWithClip;return void 0!==n&&!n&&this.dragControlStart(t,e)},drag:function(t,e){return this.dragControl(t,eb(eb({},e),{isDragTarget:!0}))},dragEnd:function(t,e){return this.dragControlEnd(t,e)},dragControlStart:function(t,e){var n=t.state,r=t.props,i=r.defaultClipPath,o=r.customClipPath,a=n.target,s=n.width,u=n.height,l=e.inputEvent?e.inputEvent.target:null,c=l&&l.getAttribute("class")||"",f=e.datas,p=iZ(a,s,u,i||"inset",o);if(!p)return!1;var d=p.clipText;return!1===r0(t,"onClipStart",r$(t,e,{clipType:p.type,clipStyle:d,poses:p.poses.map(function(t){return t.pos})}))?(f.isClipStart=!1,!1):(f.isControl=c&&c.indexOf("clip-control")>-1,f.isLine=c.indexOf("clip-line")>-1,f.isArea=c.indexOf("clip-area")>-1||c.indexOf("clip-ellipse")>-1,f.clipIndex=l?parseInt(l.getAttribute("data-clip-index"),10):-1,f.clipPath=p,f.isClipStart=!0,n.clipPathState=d,eL(t,e),!0)},dragControl:function(t,e){var n,r,i,o=e.datas,a=e.originalDatas,s=e.isDragTarget;if(!o.isClipStart)return!1;var u=o.isControl,l=o.isLine,c=o.isArea,f=o.clipIndex,p=o.clipPath;if(!p)return!1;var d=rB(t.props,"clippable"),h=d.keepRatio,v=0,g=0,m=a.draggable,b=e$(e);s&&m?(v=(n=ex(m.prevBeforeDist,2))[0],g=n[1]):(v=(r=ex(b,2))[0],g=r[1]);var x=[v,g],y=t.state,S=y.width,E=y.height,D=p.type,C=p.poses,w=p.splitter,M=C.map(function(t){return t.pos});c||u||l||(v=-v,g=-g);var R=!u||"nesw"===C[f].direction,_="inset"===D||"rect"===D,O=C.map(function(){return[0,0]});if(u&&!R){var P=C[f],T=P.horizontal,z=P.vertical;O=function(t,e,n,r,i){var o=t[e],a=o.direction,s=o.sub,u=t.map(function(){return[0,0]}),l=a?a.split(""):[];if(r&&e<8){var c=l.filter(function(t){return"w"===t||"e"===t}),f=l.filter(function(t){return"n"===t||"s"===t}),p=c[0],d=f[0];u[e]=n;var h=ex(iU(t),2),v=h[0],g=h[1],m=v&&g?v/g:0;if(m&&i){var b=t[(e+4)%8].pos,x=[0,0];a.indexOf("w")>-1?x[0]=-1:a.indexOf("e")>-1&&(x[0]=1),a.indexOf("n")>-1?x[1]=-1:a.indexOf("s")>-1&&(x[1]=1);var y=il([v,g],n,m,x,!0),S=v+y[0],E=g+y[1],D=b[1],C=b[1],w=b[0],M=b[0];-1===x[0]?w=M-S:1===x[0]?M=w+S:(w-=S/2,M+=S/2),-1===x[1]?D=C-E:C=1===x[1]?D+E:(D=C-E/2)+E;var R=iV(D,M,C,w);t.forEach(function(t,e){u[e][0]=R[e].pos[0]-t.pos[0],u[e][1]=R[e].pos[1]-t.pos[1]})}else t.forEach(function(t,e){var r=t.direction;r&&(r.indexOf(p)>-1&&(u[e][0]=n[0]),r.indexOf(d)>-1&&(u[e][1]=n[1]))}),p&&(u[1][0]=n[0]/2,u[5][0]=n[0]/2),d&&(u[3][1]=n[1]/2,u[7][1]=n[1]/2)}else a&&!s?l.forEach(function(e){var r="n"===e||"s"===e;t.forEach(function(t,i){var o=t.direction,a=t.horizontal,s=t.vertical;o&&-1!==o.indexOf(e)&&(u[i]=[r||!a?0:n[0],r&&s?n[1]:0])})}):u[e]=n;return u}(C,f,[v*iv(T),g*iv(z)],_,h)}else R&&(O=M.map(function(){return[v,g]}));var G=M.map(function(t,e){return tb(t,O[e])}),k=ey([],ex(G),!1);y.snapBoundInfos=null;var I="circle"===p.type,B="ellipse"===p.type;if(I||B){var A=rT(G),F=iv(A.bottom-A.top),N=iv(B?A.right-A.left:F),Y=G[0][1]+F,q=G[0][0]-N,X=G[0][0]+N;I&&(k.push([X,A.bottom]),O.push([1,0])),k.push([A.left,Y]),O.push([0,1]),k.push([q,A.bottom]),O.push([1,0])}var W=rc((d.clipHorizontalGuidelines||[]).map(function(t){return j("".concat(t),E)}),(d.clipVerticalGuidelines||[]).map(function(t){return j("".concat(t),S)}),S,E),H=[],L=[];if(I||B)H=[k[4][0],k[2][0]],L=[k[1][1],k[3][1]];else if(_){var V=[k[0],k[2],k[4],k[6]],U=[O[0],O[2],O[4],O[6]];H=V.filter(function(t,e){return U[e][0]}).map(function(t){return t[0]}),L=V.filter(function(t,e){return U[e][1]}).map(function(t){return t[1]})}else H=k.filter(function(t,e){return O[e][0]}).map(function(t){return t[0]}),L=k.filter(function(t,e){return O[e][1]}).map(function(t){return t[1]});var Z=[0,0],K=n1(W,d.clipTargetBounds&&{left:0,top:0,right:S,bottom:E},H,L,5,5),$=K.horizontal,J=K.vertical,Q=$.offset,tt=J.offset;if($.isBound&&(Z[1]+=Q),J.isBound&&(Z[0]+=tt),(B||I)&&0===O[0][0]&&0===O[0][1]){var A=rT(G),te=A.bottom-A.top,tn=B?A.right-A.left:te,tr=J.isBound?iv(tt):0===J.snapIndex?-tt:tt,ti=$.isBound?iv(Q):0===$.snapIndex?-Q:Q;tn-=tr,te-=ti,I&&(tn=te=nX(J,$)>0?te:tn);var to=k[0];k[1][1]=to[1]-te,k[2][0]=to[0]+tn,k[3][1]=to[1]+te,k[4][0]=to[0]-tn}else if(_&&h&&u){var ta=ex(iU(C),2),ts=ta[0],tu=ta[1],tl=ts&&tu?ts/tu:0,tc=C[f].direction||"",tf=k[1][1],Y=k[5][1],q=k[7][0],X=k[3][0];iv(Q)<=iv(tt)?Q=ih(Q)*iv(tt)/tl:tt=ih(tt)*iv(Q)*tl,tc.indexOf("w")>-1?q-=tt:tc.indexOf("e")>-1?X-=tt:(q+=tt/2,X-=tt/2),tc.indexOf("n")>-1?tf-=Q:tc.indexOf("s")>-1?Y-=Q:(tf+=Q/2,Y-=Q/2);var tp=iV(tf,X,Y,q);k.forEach(function(t,e){var n;n=ex(tp[e].pos,2),t[0]=n[0],t[1]=n[1]})}else k.forEach(function(t,e){var n=O[e];n[0]&&(t[0]-=tt),n[1]&&(t[1]-=Q)});var td=iL(t,p,G),th="".concat(D,"(").concat(td.join(w),")");if(y.clipPathState=th,I||B)H=[k[4][0],k[2][0]],L=[k[1][1],k[3][1]];else if(_){var V=[k[0],k[2],k[4],k[6]];H=V.map(function(t){return t[0]}),L=V.map(function(t){return t[1]})}else H=k.map(function(t){return t[0]}),L=k.map(function(t){return t[1]});if(y.snapBoundInfos=n1(W,d.clipTargetBounds&&{left:0,top:0,right:S,bottom:E},H,L,1,1),m){var tv=y.is3d,tg=y.allMatrix,tx=Z;s&&(tx=[x[0]+Z[0]-b[0],x[1]+Z[1]-b[1]]),m.deltaOffset=tm(tg,[tx[0],tx[1],0,0],tv?4:3)}return r0(t,"onClip",r$(t,e,eb({clipEventType:"changed",clipType:D,poses:G,clipStyle:th,clipStyles:td,distX:v,distY:g},rZ(((i={})["rect"===D?"clip":"clipPath"]=th,i),e)))),!0},dragControlEnd:function(t,e){this.unset(t);var n=e.isDrag,r=e.datas,i=e.isDouble,o=r.isLine,a=r.isClipStart,s=r.isControl;return!!a&&(r0(t,"onClipEnd",rJ(t,e,{})),i&&(s?function(t,e){var n=e.datas,r=n.clipPath,i=n.clipIndex,o=r.type,a=r.poses,s=r.splitter,u=a.map(function(t){return t.pos}),l=u.length;if("polygon"===o)a.splice(i,1),u.splice(i,1);else if("inset"!==o||i<8||(function(t,e,n,r,i){void 0===i&&(i=e.length);var o=iX(t.slice(8)),a=o.horizontalRange,s=o.verticalRange,u=n-8,l=0;if(0===u)l=i;else if(u>0&&u<a[1])l=a[1]-u;else{if(!(u>=s[0]))return;l=s[0]+s[1]-u}t.splice(n,l),e.splice(n,l)}(a,u,i,0,l),l===a.length))return;var c=iL(t,r,u),f="".concat(o,"(").concat(c.join(s),")");r0(t,"onClip",r$(t,e,eb({clipEventType:"removed",clipType:o,poses:u,clipStyles:c,clipStyle:f,distX:0,distY:0},rZ({clipPath:f},e))))}(t,e):o&&function(t,e){var n=ex(eH(t,e),2),r=n[0],i=n[1],o=e.datas,a=o.clipPath,s=o.clipIndex,u=a.type,l=a.poses,c=a.splitter,f=l.map(function(t){return t.pos});if("polygon"===u)f.splice(s,0,[r,i]);else{if("inset"!==u)return;var p=iA.indexOf(s),d=iF.indexOf(s),h=l.length;if(function(t,e,n,r,i,o,a,s,u,l,c){void 0===l&&(l=0),void 0===c&&(c=0);var f=iX(t.slice(8)),p=f.horizontalRange,d=f.verticalRange;if(r>-1)for(var h=1===iN[r]?o-l:s-o,v=p[1];v<=r;++v){var g=1===iY[v]?c:u,m=0;if(r===v?m=o:0===v?m=l+h:-1===iN[v]&&(m=s-(e[8][0]-l)),t.splice(8+v,0,{horizontal:iN[v],vertical:0,pos:[m,g]}),e.splice(n+v,0,[m,g]),0===v)break}else if(i>-1){var b=1===iY[i]?a-c:u-a;if(0===p[1]&&0===d[1]){var x=[l+b,c];t.push({horizontal:1,vertical:0,pos:x}),e.push(x)}for(var y=d[0],v=d[1];v<=i;++v){var m=1===iN[v]?l:s,g=0;if(i===v?g=a:0===v?g=c+b:1===iY[v]?g=e[n+y][1]:-1===iY[v]&&(g=u-(e[n+y][1]-c)),t.push({horizontal:0,vertical:iY[v],pos:[m,g]}),e.push([m,g]),0===v)break}}}(l,f,8,p,d,r,i,f[4][0],f[4][1],f[0][0],f[0][1]),h===l.length)return}var v=iL(t,a,f),g="".concat(u,"(").concat(v.join(c),")");r0(t,"onClip",r$(t,e,eb({clipEventType:"added",clipType:u,poses:f,clipStyles:v,clipStyle:g,distX:0,distY:0},rZ({clipPath:g},e))))}(t,e)),i||n)},unset:function(t){t.state.clipPathState="",t.state.snapBoundInfos=null}},{name:"roundable",props:["roundable","roundRelative","minRoundControls","maxRoundControls","roundClickable","roundPadding","isDisplayShadowRoundControls"],events:["roundStart","round","roundEnd","roundGroupStart","roundGroup","roundGroupEnd"],css:[".control.border-radius {\nbackground: #d66;\ncursor: pointer;\nz-index: 3;\n}",".control.border-radius.vertical {\nbackground: #d6d;\nz-index: 2;\n}",".control.border-radius.virtual {\nopacity: 0.5;\nz-index: 1;\n}",":host.round-line-clickable .line.direction {\ncursor: pointer;\n}"],className:function(t){var e=t.props.roundClickable;return!0===e||"line"===e?rx("round-line-clickable"):""},requestStyle:function(){return["borderRadius"]},requestChildStyle:function(){return["borderRadius"]},render:function(t,e){var n=t.getState(),r=n.target,i=n.width,o=n.height,a=n.allMatrix,s=n.is3d,u=n.left,l=n.top,c=n.borderRadiusState,f=t.props,p=f.minRoundControls,d=f.maxRoundControls,h=void 0===d?[4,4]:d,v=f.zoom,g=f.roundPadding,m=void 0===g?0:g,b=f.isDisplayShadowRoundControls,x=f.groupable;if(!r)return null;var y=c||iJ(t),S=s?4:3,E=iK(y,i,o,void 0===p?[0,0]:p,!0);if(!E)return null;var D=0,C=0,w=x?[0,0]:[u,l];return E.map(function(t,n){var r=t.horizontal,i=t.vertical,o=t.direction||"",s=ey([],ex(t.pos),!1);C+=Math.abs(r),D+=Math.abs(i),r&&o.indexOf("n")>-1&&(s[1]-=m),i&&o.indexOf("w")>-1&&(s[0]-=m),r&&o.indexOf("s")>-1&&(s[1]+=m),i&&o.indexOf("e")>-1&&(s[0]+=m);var u=tx(rO(a,s,S),w),l=t.vertical?D<=h[1]&&(b&&"horizontal"!==b||!t.virtual):C<=h[0]&&(b||!t.virtual);return e.createElement("div",{key:"borderRadiusControl".concat(n),className:rx("control","border-radius",t.vertical?"vertical":"",t.virtual?"virtual":""),"data-radius-index":n,style:{display:l?"block":"none",transform:"translate(".concat(u[0],"px, ").concat(u[1],"px) scale(").concat(v,")")}})})},dragControlCondition:function(t,e){if(!e.inputEvent||e.isRequest)return!1;var n=e.inputEvent.target.getAttribute("class")||"";return n.indexOf("border-radius")>-1||n.indexOf("moveable-line")>-1&&n.indexOf("moveable-direction")>-1},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragControlStart:function(t,e){var n=e.inputEvent,r=e.datas,i=n.target,o=i.getAttribute("class")||"",a=o.indexOf("border-radius")>-1,s=o.indexOf("moveable-line")>-1&&o.indexOf("moveable-direction")>-1,u=a?parseInt(i.getAttribute("data-radius-index"),10):-1,l=-1;if(s){var c=i.getAttribute("data-line-key")||"";c&&isNaN(l=parseInt(c.replace(/render-line-/g,""),10))&&(l=-1)}if(!a&&!s)return!1;var f=r$(t,e,{});if(!1===r0(t,"onRoundStart",f))return!1;r.lineIndex=l,r.controlIndex=u,r.isControl=a,r.isLine=s,eL(t,e);var p=t.props,d=p.roundRelative,h=p.minRoundControls,v=t.state,g=v.width,m=v.height;r.isRound=!0,r.prevDist=[0,0];var b=iK(iJ(t)||"",g,m,void 0===h?[0,0]:h,!0)||[];return r.controlPoses=b,v.borderRadiusState=iq(b,d,g,m).styles.join(" "),f},dragControl:function(t,e){var n=e.datas,r=n.controlPoses;if(!n.isRound||!n.isControl||!r.length)return!1;var i=n.controlIndex,o=ex(e$(e),2),a=o[0],s=o[1],u=[a,s],l=tx(u,n.prevDist),c=t.props.maxRoundControls,f=void 0===c?[4,4]:c,p=t.state,d=p.width,h=p.height,v=r[i],g=v.vertical,m=v.horizontal,b=r.map(function(t){var e=t.horizontal,n=t.vertical,r=[e*m*u[0],n*g*u[1]];if(e){if(1===f[0]||f[0]<4&&e!==m)return r}else if(0===f[1])return r[1]=n*m*u[0]/d*h,r;else if(g&&(1===f[1]||f[1]<4&&n!==g))return r;return[0,0]});b[i]=u;var x=r.map(function(t,e){return eb(eb({},t),{pos:tb(t.pos,b[e])})});return i<4?x.slice(0,i+1).forEach(function(t){t.virtual=!1}):x.slice(4,i+1).forEach(function(t){t.virtual=!1}),n.prevDist=[a,s],i$(t,e,u,l,x)},dragControlEnd:function(t,e){var n=t.state;n.borderRadiusState="";var r=e.datas,i=e.isDouble;if(!r.isRound)return!1;var o=r.isControl,a=r.controlIndex,s=r.isLine,u=r.lineIndex,l=r.controlPoses,c=l.filter(function(t){return t.virtual}).length,f=t.props.roundClickable,p=void 0===f||f;if(i&&p){if(o&&(!0===p||"control"===p))a<4?l.slice(a,4).forEach(function(t){t.virtual=!0}):l.slice(a).forEach(function(t){t.virtual=!0});else if(s&&(!0===p||"line"===p)){var d=ex(eH(t,e),2);!function(t,e,n,r){var i=t.filter(function(t){var e=t.virtual;return t.horizontal&&!e}).length,o=t.filter(function(t){var e=t.virtual;return t.vertical&&!e}).length,a=-1;if(0===e&&(0===i?a=0:1===i&&(a=1)),2===e&&(i<=2?a=2:i<=3&&(a=3)),3===e&&(0===o?a=4:o<4&&(a=7)),1===e&&(o<=1?a=5:o<=2&&(a=6)),-1!==a&&t[a].virtual){var s,u=t[a];(s=a)<4?t.slice(0,s+1).forEach(function(t){t.virtual=!1}):(t[0].virtual&&(t[0].virtual=!1),t.slice(4,s+1).forEach(function(t){t.virtual=!1})),a<4?u.pos[0]=n:u.pos[1]=r}}(l,u,d[0],d[1])}c!==l.filter(function(t){return t.virtual}).length&&i$(t,e,[0,0],[0,0],l)}var h=rJ(t,e,{});return r0(t,"onRoundEnd",h),n.borderRadiusState="",h},dragGroupControlStart:function(t,e){var n=this.dragControlStart(t,e);if(!n)return!1;var r=t.moveables,i=t.props.targets,o=nl(t,"roundable",e),a=eb({targets:t.props.targets,events:o.map(function(t,e){return eb(eb({},t),{target:i[e],moveable:r[e],currentTarget:r[e]})})},n);return r0(t,"onRoundGroupStart",a),n},dragGroupControl:function(t,e){var n=this.dragControl(t,e);if(!n)return!1;var r=t.moveables,i=t.props.targets,o=nl(t,"roundable",e),a=eb({targets:t.props.targets,events:o.map(function(t,e){return eb(eb(eb({},t),{target:i[e],moveable:r[e],currentTarget:r[e]}),rZ({borderRadius:n.borderRadius},t))})},n);return r0(t,"onRoundGroup",a),a},dragGroupControlEnd:function(t,e){var n=t.moveables,r=t.props.targets,i=nl(t,"roundable",e);rQ(t,"onRound",function(e){var o=eb({targets:t.props.targets,events:i.map(function(t,i){return eb(eb(eb({},t),{target:r[i],moveable:n[i],currentTarget:n[i]}),rZ({borderRadius:e.borderRadius},t))})},e);r0(t,"onRoundGroup",o)});var o=this.dragControlEnd(t,e);if(!o)return!1;var a=eb({targets:t.props.targets,events:i.map(function(t,e){var i;return eb(eb({},t),{target:r[e],moveable:n[e],currentTarget:n[e],lastEvent:null===(i=t.datas)||void 0===i?void 0:i.lastEvent})})},o);return r0(t,"onRoundGroupEnd",a),a},unset:function(t){t.state.borderRadiusState=""}},ot,oi,oe,iP,i0];function oa(t,e){var n=ex(t,3),r=n[0],i=n[1],o=n[2];return(r*e[0]+i*e[1]+o)/Math.sqrt(r*r+i*i)}function os(t,e){var n=ex(t,2),r=n[0],i=n[1];return-r*e[0]-i*e[1]}function ou(t,e){return Math.max.apply(Math,ey([],ex(t.map(function(t){var n=ex(t,4),r=n[0],i=n[1],o=n[2],a=n[3];return Math.max(r[e],i[e],o[e],a[e])})),!1))}function ol(t,e){return Math.min.apply(Math,ey([],ex(t.map(function(t){var n=ex(t,4),r=n[0],i=n[1],o=n[2],a=n[3];return Math.min(r[e],i[e],o[e],a[e])})),!1))}var oc=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.differ=new tV,e.moveables=[],e.transformOrigin="50% 50%",e.renderGroupRects=[],e._targetGroups=[],e._hasFirstTargets=!1,e}return em(e,t),e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this)},e.prototype.checkUpdate=function(){this._isPropTargetChanged=!1,this.updateAbles()},e.prototype.getTargets=function(){return this.props.targets},e.prototype.updateRect=function(t,e,n){void 0===n&&(n=!0);var r,i,o,a,s,u,l=this.state;if(this.controlBox&&!l.isPersisted){ns(!0),this.moveables.forEach(function(e){e.updateRect(t,!1,!1)});var c=this.props,f=this.moveables,p=l.target||c.target,d=f.map(function(t){return{finded:!1,manager:t}}),h=this.props.targetGroups||[],v=function t(e,n){var r=n.map(function(n){if(_(n)){var r=t(e,n),i=r.length;return i>1?r:1===i?r[0]:null}var o=Y(e,function(t){return t.manager.props.target===n});return o?(o.finded=!0,o.manager):null}).filter(Boolean);return 1===r.length&&_(r[0])?r[0]:r}(d,h),g=c.useDefaultGroupRotate;v.push.apply(v,ey([],ex(d.filter(function(t){return!t.finded}).map(function(t){return t.manager})),!1));var m=[],b=!e||""!==t&&c.updateGroup,x=c.defaultGroupRotate||0;if(!this._hasFirstTargets){var y=null===(u=c.persistData)||void 0===u?void 0:u.rotation;null!=y&&(x=y)}var S=function t(e,n,r){var i=e.map(function(e){if(!_(e))return{poses:rL(e.state),rotation:e.getRotation()};var r=t(e,n),i=[r.pos1,r.pos2,r.pos3,r.pos4];return m.push(r),{poses:i,rotation:r.rotation}}),o=i.map(function(t){return t.rotation}),a=0,s=o[0],u=o.every(function(t){return .1>Math.abs(s-t)});return a=b?!g&&u?s:x:g||r||!u?n:s,function(t,e){var n,r,i,o=[0,0],a=[0,0],s=[0,0],u=[0,0],l=0,c=0;if(!t.length)return{pos1:o,pos2:a,pos3:s,pos4:u,minX:0,minY:0,maxX:0,maxY:0,width:l,height:c,rotation:e};var f=J(e,1e-7);if(f%90){var p=Math.tan(f/180*Math.PI),d=-1/p,h=[1e10,-1e10],v=[[0,0],[0,0]],g=[1e10,-1e10],m=[[0,0],[0,0]];t.forEach(function(t){t.forEach(function(t){var e=oa([-p,1,0],t),n=oa([-d,1,0],t);h[0]>e&&(v[0]=t,h[0]=e),h[1]<e&&(v[1]=t,h[1]=e),g[0]>n&&(m[0]=t,g[0]=n),g[1]<n&&(m[1]=t,g[1]=n)})});var b=ex(v,2),x=b[0],y=b[1],S=ex(m,2),E=S[0],D=S[1],C=[-p,1,os([-p,1],x)],w=[-p,1,os([-p,1],y)],M=[-d,1,os([-d,1],E)],R=[-d,1,os([-d,1],D)];o=(n=ex([[C,M],[C,R],[w,M],[w,R]].map(function(t){var e=ex(t,2);return t8(e[0],e[1])[0]}),4))[0],a=n[1],s=n[2],u=n[3],l=g[1]-g[0],c=h[1]-h[0]}else{var _=ol(t,0),O=ol(t,1),P=ou(t,0),T=ou(t,1);if(o=[_,O],a=[P,O],s=[_,T],u=[P,T],l=P-_,c=T-O,f%180){var z=[s,o,u,a];o=(r=ex(z,4))[0],a=r[1],s=r[2],u=r[3],l=T-O,c=P-_}}if(f%360>180){var z=[u,s,a,o];o=(i=ex(z,4))[0],a=i[1],s=i[2],u=i[3]}var G=t4([o,a,s,u]);return{pos1:o,pos2:a,pos3:s,pos4:u,width:l,height:c,minX:G.minX,minY:G.minY,maxX:G.maxX,maxY:G.maxY,rotation:e}}(i.map(function(t){return t.poses}),a)}(v,this.rotation,!0);b&&(this.rotation=S.rotation,this.transformOrigin=c.defaultGroupOrigin||"50% 50%",this.scale=[1,1]),this._targetGroups=h,this.renderGroupRects=m;var E=this.transformOrigin,D=this.rotation,C=this.scale,w=S.width,M=S.height,R=S.minX,O=S.minY,P=t4((r=[[0,0],[w,0],[0,M],[w,M]],i=ip(E,w,M),o=this.rotation/180*Math.PI,s=(a=r.map(function(t){return tx(t,i)})).map(function(t){return tM(t,o)}),{prev:a,next:s,result:s.map(function(t){return tb(t,i)})}).result),T=P.minX,z=P.minY,G=" rotate(".concat(D,"deg)")+" scale(".concat(ih(C[0]),", ").concat(ih(C[1]),")"),k="translate(".concat(-T,"px, ").concat(-z,"px)").concat(G);this.controlBox.style.transform="translate3d(".concat(R,"px, ").concat(O,"px, ").concat(this.props.translateZ||0,")"),p.style.cssText+="left:0px;top:0px;"+"transform-origin:".concat(E,";")+"width:".concat(w,"px;height:").concat(M,"px;")+"transform: ".concat(k),l.width=w,l.height=M;var I=this.getContainer(),B=i8(this.controlBox,p,this.controlBox,this.getContainer(),this._rootContainer||I,[]),A=[B.left,B.top],F=ex(rL(B),4),N=F[0],q=F[1],X=F[2],W=F[3],j=t4([N,q,X,W]),H=[j.minX,j.minY],L=ih(C[0]*C[1]);B.pos1=tx(N,H),B.pos2=tx(q,H),B.pos3=tx(X,H),B.pos4=tx(W,H),B.left=R-B.left+H[0],B.top=O-B.top+H[1],B.origin=tx(tb(A,B.origin),H),B.beforeOrigin=tx(tb(A,B.beforeOrigin),H),B.originalBeforeOrigin=tb(A,B.originalBeforeOrigin),B.transformOrigin=tx(tb(A,B.transformOrigin),H),p.style.transform="translate(".concat(-T-H[0],"px, ").concat(-z-H[1],"px)")+G,ns(),this.updateState(eb(eb({},B),{posDelta:H,direction:L,beforeDirection:L}),n)}},e.prototype.getRect=function(){return eb(eb({},t.prototype.getRect.call(this)),{children:this.moveables.map(function(t){return t.getRect()})})},e.prototype.triggerEvent=function(e,n,r){if(r||e.indexOf("Group")>-1)return t.prototype.triggerEvent.call(this,e,n);this._emitter.trigger(e,n)},e.prototype.getRequestChildStyles=function(){return this.getEnabledAbles().reduce(function(t,e){var n,r,i=null!==(r=null===(n=e.requestChildStyle)||void 0===n?void 0:n.call(e))&&void 0!==r?r:[];return ey(ey([],ex(t),!1),ex(i),!1)},[])},e.prototype.getMoveables=function(){return ey([],ex(this.moveables),!1)},e.prototype.updateAbles=function(){t.prototype.updateAbles.call(this,ey(ey([],ex(this.props.ables),!1),[ot],!1),"Group")},e.prototype._updateTargets=function(){t.prototype._updateTargets.call(this),this._originalDragTarget=this.props.dragTarget||this.areaElement,this._dragTarget=ia(this._originalDragTarget,!0)},e.prototype._updateEvents=function(){var t=this.state,e=this.props,n=this._prevDragTarget,r=e.dragTarget||this.areaElement,i=e.targets,o=this.differ.update(i),a=o.added,s=o.changed,u=o.removed,l=a.length||u.length;(l||this._prevOriginalDragTarget!==this._originalDragTarget)&&(rU(this,!1),rU(this,!0),this.updateState({gestos:{}})),n!==r&&(t.target=null),t.target||(t.target=this.areaElement,this.controlBox.style.display="block"),t.target&&(this.targetGesto||(this.targetGesto=i3(this,this._dragTarget,"Group")),this.controlGesto||(this.controlGesto=i4(this,"GroupControl")));var c=!r3(t.container,e.container);c&&(t.container=e.container),(c||l||this.transformOrigin!==(e.defaultGroupOrigin||"50% 50%")||s.length||i.length&&!function t(e,n){return e.length===n.length&&e.every(function(e,r){var i=n[r],o=_(e),a=_(i);return o&&a?t(e,i):!o&&!a&&e===i})}(this._targetGroups,e.targetGroups||[]))&&(this.updateRect(),this._hasFirstTargets=!0),this._isPropTargetChanged=!!l},e.prototype._updateObserver=function(){},e.defaultProps=eb(eb({},i9.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),e}(i9),of=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveables=[],e}return em(e,t),e.prototype.render=function(){var t,e=this,n=this.props,r=n.cspNonce,i=n.cssStyled,o=n.persistData,a=n.targets||[],s=a.length,u=this.isUnmounted||!s,l=null!==(t=null==o?void 0:o.children)&&void 0!==t?t:[];return u&&!s&&l.length?a=l.map(function(){return null}):u||(l=[]),et.createElement(i,{cspNonce:r,ref:x(this,"controlBox"),className:rx("control-box")},a.map(function(t,r){var i,o,a=null!==(o=null===(i=n.individualGroupableProps)||void 0===i?void 0:i.call(n,t,r))&&void 0!==o?o:{};return et.createElement(i9,eb({key:"moveable"+r,ref:y(e,"moveables",r)},n,a,{target:t,wrapperMoveable:e,isWrapperMounted:e.isMoveableMounted,persistData:l[r]}))}))},e.prototype.componentDidMount=function(){},e.prototype.componentDidUpdate=function(){},e.prototype.getTargets=function(){return this.props.targets},e.prototype.updateRect=function(t,e,n){void 0===n&&(n=!0),ns(!0),this.moveables.forEach(function(r){r.updateRect(t,e,n)}),ns()},e.prototype.getRect=function(){return eb(eb({},t.prototype.getRect.call(this)),{children:this.moveables.map(function(t){return t.getRect()})})},e.prototype.request=function(t,e,n){void 0===e&&(e={});var r=this.moveables.map(function(n){return n.request(t,eb(eb({},e),{isInstant:!1}),!1)}),i=n||e.isInstant,o={request:function(t){return r.forEach(function(e){return e.request(t)}),this},requestEnd:function(){return r.forEach(function(t){return t.requestEnd()}),this}};return i?o.request(e).requestEnd():o},e.prototype.dragStart=function(t,e){void 0===e&&(e=t.target);var n=e,r=Y(this.moveables,function(t){var e=t.getTargets()[0],r=t.getControlBoxElement(),i=t.getDragElement();return!!e&&!!i&&(i===n||i.contains(n)||i!==e&&e===n||e.contains(n)||r===n||r.contains(n))});return r&&r.dragStart(t,e),this},e.prototype.hitTest=function(){return 0},e.prototype.isInside=function(){return!1},e.prototype.isDragging=function(){return!1},e.prototype.getDragElement=function(){return null},e.prototype.getMoveables=function(){return ey([],ex(this.moveables),!1)},e.prototype.updateRenderPoses=function(){},e.prototype.checkUpdate=function(){},e.prototype.triggerEvent=function(){},e.prototype.updateAbles=function(){},e.prototype._updateEvents=function(){},e.prototype._updateObserver=function(){},e}(i9),op=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return em(e,t),e.defaultAbles=oo,e}(function(t){var e;function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.refTargets=[],e.selectorMap={},e._differ=new tV,e._elementTargets=[],e._tmpRefTargets=[],e._tmpSelectorMap={},e._onChangeTargets=null,e}return em(n,t),n.makeStyled=function(){var t={};this.getTotalAbles().forEach(function(e){var n=e.css;n&&n.forEach(function(e){t[e]=!0})});var e=W(t).join("\n");this.defaultStyled=ev("div",(eB+e).replace(/([^}{]*){/gm,function(t,e){return e.replace(/\.([^{,\s\d.]+)/g,"."+ek+"$1")+"{"}))},n.getTotalAbles=function(){return ey([iG,ot,oi,iP],ex(this.defaultAbles),!1)},n.prototype.render=function(){var t,e=this.constructor;e.defaultStyled||e.makeStyled();var n=this.props,r=n.ables,i=n.props,o=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&0>e.indexOf(r)&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)0>e.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}(n,["ables","props"]),a=ex(this._updateRefs(!0),2),s=a[0],u=a[1],l=function t(e,n){var r=[];return e.forEach(function(e){if(e){if(O(e)){n[e]&&r.push.apply(r,ey([],ex(n[e]),!1));return}_(e)?r.push.apply(r,ey([],ex(t(e,n)),!1)):r.push(e)}}),r}(s,u),c=l.length>1,f=ey(ey([],ex(e.getTotalAbles()),!1),ex(r||[]),!1),p=eb(eb(eb({},o),i||{}),{ables:f,cssStyled:e.defaultStyled,customStyledMap:e.customStyledMap});this._elementTargets=l;var d=null,h=this.moveable,v=o.persistData;if((null==v?void 0:v.children)&&(c=!0),o.individualGroupable)return et.createElement(of,eb({key:"individual-group",ref:x(this,"moveable")},p,{target:null,targets:l}));if(c){var g=function t(e,n){var r=[];return e.forEach(function(e){if(e){if(O(e)){n[e]&&r.push.apply(r,ey([],ex(n[e]),!1));return}_(e)?r.push(t(e,n)):r.push(e)}}),r}(s,u);if(h&&!h.props.groupable&&!h.props.individualGroupable){var m=h.props.target;m&&l.indexOf(m)>-1&&(d=eb({},h.state))}return et.createElement(oc,eb({key:"group",ref:x(this,"moveable")},p,null!==(t=o.groupableProps)&&void 0!==t?t:{},{target:null,targets:l,targetGroups:g,firstRenderState:d}))}var b=l[0];if(h&&(h.props.groupable||h.props.individualGroupable)){var y=Y(h.moveables||[],function(t){return t.props.target===b});y&&(d=eb({},y.state))}return et.createElement(i9,eb({key:"single",ref:x(this,"moveable")},p,{target:b,firstRenderState:d}))},n.prototype.componentDidMount=function(){this._checkChangeTargets()},n.prototype.componentDidUpdate=function(){this._checkChangeTargets()},n.prototype.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},n.prototype.getTargets=function(){var t,e;return null!==(e=null===(t=this.moveable)||void 0===t?void 0:t.getTargets())&&void 0!==e?e:[]},n.prototype.updateSelectors=function(){this.selectorMap={},this._updateRefs(),this.forceUpdate()},n.prototype.waitToChangeTarget=function(){var t,e=this;return this._onChangeTargets=function(){e._onChangeTargets=null,t()},new Promise(function(e){t=e})},n.prototype.waitToChangeTargets=function(){return this.waitToChangeTarget()},n.prototype.getManager=function(){return this.moveable},n.prototype.getMoveables=function(){return this.moveable.getMoveables()},n.prototype.getDragElement=function(){return this.moveable.getDragElement()},n.prototype._updateRefs=function(t){var e=this.refTargets,n=is(this.props.target||this.props.targets),r="undefined"!=typeof document,i=function t(e,n){return e.length!==n.length||e.some(function(e,r){var i=n[r];return(!!e||!!i)&&e!=i&&(!(_(e)&&_(i))||t(e,i))})}(e,n),o=this.selectorMap,a={};return this.refTargets.forEach(function t(e){O(e)?o[e]?a[e]=o[e]:r&&(i=!0,a[e]=[].slice.call(document.querySelectorAll(e))):_(e)&&e.forEach(t)}),this._tmpRefTargets=n,this._tmpSelectorMap=a,[n,a,!t&&i]},n.prototype._checkChangeTargets=function(){this.refTargets=this._tmpRefTargets,this.selectorMap=this._tmpSelectorMap;var t,e,n,r=this._differ.update(this._elementTargets),i=r.added,o=r.removed;(i.length||o.length)&&(null===(e=(t=this.props).onChangeTargets)||void 0===e||e.call(t,{moveable:this.moveable,targets:this._elementTargets}),null===(n=this._onChangeTargets)||void 0===n||n.call(this));var a=ex(this._updateRefs(),3),s=a[0],u=a[1],l=a[2];this.refTargets=s,this.selectorMap=u,l&&this.forceUpdate()},n.defaultAbles=[],n.customStyledMap={},n.defaultStyled=null,function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);o>3&&a&&Object.defineProperty(e,n,a)}([(void 0===e&&(e={}),function(t,n){eq.forEach(function(r){var i=e[r]||r;i in t||(t[i]=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o=(t=this[n])[r].apply(t,e);return o===this[n]?this:o})})})],n.prototype,"moveable",void 0),n}(et.PureComponent))}};