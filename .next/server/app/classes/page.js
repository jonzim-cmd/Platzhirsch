(()=>{var e={};e.id=927,e.ids=[927],e.modules={3524:e=>{"use strict";e.exports=require("@prisma/client")},7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5751:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>l.a,__next_app__:()=>b,originalPathname:()=>f,pages:()=>o,routeModule:()=>u,tree:()=>c}),t(6652),t(9540),t(5866);var s=t(3191),r=t(8716),n=t(7922),l=t.n(n),d=t(5231),i={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);t.d(a,i);let c=["",{children:["classes",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6652)),"/Users/jz/Platzhirsch/app/classes/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9540)),"/Users/jz/Platzhirsch/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/jz/Platzhirsch/app/classes/page.tsx"],f="/classes/page",b={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/classes/page",pathname:"/classes",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},9229:(e,a,t)=>{let s={"15b59f279af74e697a361e33499416c5c9723973":()=>Promise.resolve().then(t.bind(t,6652)).then(e=>e.$$ACTION_0),"30fcdea51a67a3d12a5b543808f385ed5267ff4d":()=>Promise.resolve().then(t.bind(t,6652)).then(e=>e.$$ACTION_2),d642db9048e3ef4136c056c42862dd1b8b5eb06b:()=>Promise.resolve().then(t.bind(t,6652)).then(e=>e.$$ACTION_1),"1aad7720052bcbb3c3fff8073038f2a189fc9f98":()=>Promise.resolve().then(t.bind(t,1803)).then(e=>e.deleteClass),"4c018bc9b36e8e4ee0c64573afa34673fa514a06":()=>Promise.resolve().then(t.bind(t,1803)).then(e=>e.createClass),"7914dc5fbc064000e9e7e67beeae2d6d76de8861":()=>Promise.resolve().then(t.bind(t,1803)).then(e=>e.setClassLead),b1a86aeaa537ef061ece06ae838f0f0fbfb3aa3d:()=>Promise.resolve().then(t.bind(t,1803)).then(e=>e.listClasses),"4f55b2736eb31ccfd4b7956d90ce22b919e8fd95":()=>Promise.resolve().then(t.bind(t,1607)).then(e=>e.listProfiles),"895f79a01128bdc5b0c482a41d09b5a10da7dd57":()=>Promise.resolve().then(t.bind(t,1607)).then(e=>e.createProfile),e0324c9f7f5f3c8109ac829419ca75fa73fdb2e9:()=>Promise.resolve().then(t.bind(t,1607)).then(e=>e.deleteProfile)};async function r(e,...a){return(await s[e]()).apply(null,a)}e.exports={"15b59f279af74e697a361e33499416c5c9723973":r.bind(null,"15b59f279af74e697a361e33499416c5c9723973"),"30fcdea51a67a3d12a5b543808f385ed5267ff4d":r.bind(null,"30fcdea51a67a3d12a5b543808f385ed5267ff4d"),d642db9048e3ef4136c056c42862dd1b8b5eb06b:r.bind(null,"d642db9048e3ef4136c056c42862dd1b8b5eb06b"),"1aad7720052bcbb3c3fff8073038f2a189fc9f98":r.bind(null,"1aad7720052bcbb3c3fff8073038f2a189fc9f98"),"4c018bc9b36e8e4ee0c64573afa34673fa514a06":r.bind(null,"4c018bc9b36e8e4ee0c64573afa34673fa514a06"),"7914dc5fbc064000e9e7e67beeae2d6d76de8861":r.bind(null,"7914dc5fbc064000e9e7e67beeae2d6d76de8861"),b1a86aeaa537ef061ece06ae838f0f0fbfb3aa3d:r.bind(null,"b1a86aeaa537ef061ece06ae838f0f0fbfb3aa3d"),"4f55b2736eb31ccfd4b7956d90ce22b919e8fd95":r.bind(null,"4f55b2736eb31ccfd4b7956d90ce22b919e8fd95"),"895f79a01128bdc5b0c482a41d09b5a10da7dd57":r.bind(null,"895f79a01128bdc5b0c482a41d09b5a10da7dd57"),e0324c9f7f5f3c8109ac829419ca75fa73fdb2e9:r.bind(null,"e0324c9f7f5f3c8109ac829419ca75fa73fdb2e9")}},6544:(e,a,t)=>{Promise.resolve().then(t.bind(t,2555)),Promise.resolve().then(t.t.bind(t,9404,23))},8804:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},5303:()=>{},2555:(e,a,t)=>{"use strict";t.d(a,{ActiveProfileNav:()=>n});var s=t(326),r=t(7577);function n(){let[e,a]=(0,r.useState)(null);return e?s.jsx("span",{className:"ml-2 rounded bg-neutral-800 px-2 py-1 text-xs text-fg",children:e}):null}},6652:(e,a,t)=>{"use strict";t.r(a),t.d(a,{$$ACTION_0:()=>f,$$ACTION_1:()=>b,$$ACTION_2:()=>h,default:()=>u});var s=t(9510),r=t(4330),n=t(166),l=t(1803),d=t(1607),i=t(8465),c=t(206);async function o(){let[e,a]=await Promise.all([(0,l.listClasses)(),(0,d.listProfiles)()]);return(0,s.jsxs)("ul",{className:"divide-y divide-neutral-900 rounded border border-neutral-900",children:[e.map(e=>(0,s.jsxs)("li",{className:"grid gap-2 px-4 py-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("span",{className:"font-medium",children:e.name}),e.leadProfile&&(0,s.jsxs)("span",{className:"ml-2 text-xs text-fg-muted",children:["(Klassenleitung: ",e.leadProfile.name,")"]})]}),s.jsx("form",{action:(0,r.j)("15b59f279af74e697a361e33499416c5c9723973",f).bind(null,(0,n.encryptActionBoundArgs)("15b59f279af74e697a361e33499416c5c9723973",[e.id])),children:s.jsx(i.z,{type:"submit",variant:"danger",children:"L\xf6schen"})})]}),(0,s.jsxs)("form",{action:(0,r.j)("d642db9048e3ef4136c056c42862dd1b8b5eb06b",b).bind(null,(0,n.encryptActionBoundArgs)("d642db9048e3ef4136c056c42862dd1b8b5eb06b",[e.id])),className:"flex gap-2",children:[(0,s.jsxs)("label",{className:"text-xs text-fg-muted flex items-center gap-2",children:[s.jsx("span",{children:"Klassenleitung"}),(0,s.jsxs)("select",{name:"lead",defaultValue:e.leadProfile?.id??"",className:"rounded bg-neutral-900 px-2 py-1 border border-neutral-800",children:[s.jsx("option",{value:"",children:"Keine"}),a.map(e=>s.jsx("option",{value:e.id,children:e.name},e.id))]})]}),s.jsx(i.z,{type:"submit",children:"Speichern"})]})]},e.id)),0===e.length&&s.jsx("li",{className:"px-4 py-6 text-sm text-fg-muted",children:"Noch keine Klassen vorhanden."})]})}async function f(e){var[a]=await (0,n.decryptActionBoundArgs)("15b59f279af74e697a361e33499416c5c9723973",e);await (0,l.deleteClass)(a)}async function b(e,a){var[t]=await (0,n.decryptActionBoundArgs)("d642db9048e3ef4136c056c42862dd1b8b5eb06b",e);let s=a.get("lead")||"";await (0,l.setClassLead)(t,s||null)}async function u(){let e=await (0,d.listProfiles)();return(0,s.jsxs)("main",{className:"container py-8 grid gap-6",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Klassen"}),s.jsx("section",{className:"grid gap-3",children:(0,s.jsxs)("form",{action:(0,r.j)("30fcdea51a67a3d12a5b543808f385ed5267ff4d",h),className:"flex items-end gap-3",children:[s.jsx(c.I,{name:"name",label:"Neue Klasse",placeholder:"z. B. W11"}),(0,s.jsxs)("label",{className:"text-sm text-fg-muted grid gap-2",children:[s.jsx("span",{children:"Klassenleitung"}),(0,s.jsxs)("select",{name:"lead",className:"rounded bg-neutral-900 px-2 py-2 border border-neutral-800",children:[s.jsx("option",{value:"",children:"Keine"}),e.map(e=>s.jsx("option",{value:e.id,children:e.name},e.id))]})]}),s.jsx(i.z,{type:"submit",variant:"primary",children:"Anlegen"})]})}),s.jsx(o,{})]})}async function h(e){let a=e.get("name")?.trim(),t=e.get("lead")||void 0;a&&await (0,l.createClass)(a,t)}},9540:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>b,metadata:()=>f});var s=t(9510);t(7272);var r=t(7371),n=t(8570);let l=(0,n.createProxy)(String.raw`/Users/jz/Platzhirsch/components/Layout/ActiveProfileNav.tsx`),{__esModule:d,$$typeof:i}=l;l.default;let c=(0,n.createProxy)(String.raw`/Users/jz/Platzhirsch/components/Layout/ActiveProfileNav.tsx#ActiveProfileNav`);function o(){return s.jsx("header",{className:"border-b border-neutral-900 bg-bg-soft/60 backdrop-blur",children:(0,s.jsxs)("div",{className:"container flex h-12 items-center justify-between",children:[s.jsx(r.default,{href:"/",className:"font-semibold",children:"Sitzplan"}),(0,s.jsxs)("nav",{className:"space-x-4 text-sm text-fg-muted",children:[s.jsx(r.default,{href:"/profiles",className:"hover:text-fg",children:"Profile"}),s.jsx(r.default,{href:"/classes",className:"hover:text-fg",children:"Klassen"}),s.jsx(r.default,{href:"/rooms",className:"hover:text-fg",children:"R\xe4ume"}),s.jsx(r.default,{href:"/students",className:"hover:text-fg",children:"Sch\xfcler"}),s.jsx(r.default,{href:"/import",className:"hover:text-fg",children:"Import"}),s.jsx(r.default,{href:"/editor",className:"hover:text-fg",children:"Editor"}),s.jsx(c,{})]})]})})}let f={title:"Sitzplan",description:"Sitzpl\xe4ne f\xfcr Klassen und R\xe4ume"};function b({children:e}){return s.jsx("html",{lang:"de",className:"dark",children:(0,s.jsxs)("body",{children:[s.jsx(o,{}),e]})})}},8465:(e,a,t)=>{"use strict";t.d(a,{z:()=>r});var s=t(9510);function r({variant:e="ghost",className:a="",...t}){return s.jsx("button",{className:`inline-flex items-center rounded px-3 py-2 text-sm transition-colors ${{primary:"bg-primary/20 text-primary hover:bg-primary/30",ghost:"bg-neutral-800 text-fg hover:bg-neutral-700",danger:"bg-red-900/40 text-red-300 hover:bg-red-900/60"}[e]} ${a}`,...t})}t(1159)},206:(e,a,t)=>{"use strict";t.d(a,{I:()=>r});var s=t(9510);let r=t(1159).forwardRef(({label:e,className:a="",...t},r)=>(0,s.jsxs)("label",{className:"grid gap-2 text-sm",children:[e?s.jsx("span",{className:"text-fg-muted",children:e}):null,s.jsx("input",{ref:r,className:"rounded border border-neutral-800 bg-neutral-900 px-3 py-2 outline-none ring-0 focus:border-neutral-600 "+a,...t})]}));r.displayName="Input"},1803:(e,a,t)=>{"use strict";t.r(a),t.d(a,{createClass:()=>i,deleteClass:()=>o,listClasses:()=>d,setClassLead:()=>c});var s=t(4330);t(166);var r=t(71),n=t(883),l=t(7708);async function d(){let e=(0,n.I)();if(!(0,n.u)(e,"read","class"))throw Error("forbidden");return r._.class.findMany({orderBy:{name:"asc"},include:{leadProfile:!0}})}async function i(e,a){let t=(0,n.I)();if(!(0,n.u)(t,"create","class"))throw Error("forbidden");let s=await r._.class.create({data:{name:e,leadProfileId:a||null}});return(0,l.revalidatePath)("/classes"),s}async function c(e,a){let t=(0,n.I)();if(!(0,n.u)(t,"update","class"))throw Error("forbidden");await r._.class.update({where:{id:e},data:{leadProfileId:a}}),(0,l.revalidatePath)("/classes")}async function o(e){let a=(0,n.I)();if(!(0,n.u)(a,"delete","class"))throw Error("forbidden");await r._.class.delete({where:{id:e}}),(0,l.revalidatePath)("/classes")}(0,t(618).h)([d,i,c,o]),(0,s.j)("b1a86aeaa537ef061ece06ae838f0f0fbfb3aa3d",d),(0,s.j)("4c018bc9b36e8e4ee0c64573afa34673fa514a06",i),(0,s.j)("7914dc5fbc064000e9e7e67beeae2d6d76de8861",c),(0,s.j)("1aad7720052bcbb3c3fff8073038f2a189fc9f98",o)},1607:(e,a,t)=>{"use strict";t.r(a),t.d(a,{createProfile:()=>i,deleteProfile:()=>c,listProfiles:()=>d});var s=t(4330);t(166);var r=t(71),n=t(883),l=t(7708);async function d(){let e=(0,n.I)();if(!(0,n.u)(e,"read","profile"))throw Error("forbidden");return r._.profile.findMany({orderBy:{name:"asc"}})}async function i(e){let a=(0,n.I)();if(!(0,n.u)(a,"create","profile"))throw Error("forbidden");let t=await r._.profile.create({data:{name:e}});return(0,l.revalidatePath)("/profiles"),t}async function c(e){let a=(0,n.I)();if(!(0,n.u)(a,"delete","profile"))throw Error("forbidden");await r._.profile.delete({where:{id:e}}),(0,l.revalidatePath)("/profiles")}(0,t(618).h)([d,i,c]),(0,s.j)("4f55b2736eb31ccfd4b7956d90ce22b919e8fd95",d),(0,s.j)("895f79a01128bdc5b0c482a41d09b5a10da7dd57",i),(0,s.j)("e0324c9f7f5f3c8109ac829419ca75fa73fdb2e9",c)},71:(e,a,t)=>{"use strict";t.d(a,{_:()=>r});var s=t(3524);let r=globalThis.prisma??new s.PrismaClient({log:["error"]})},883:(e,a,t)=>{"use strict";function s(){return{id:"anonymous",role:"anonymous"}}function r(e,a,t){return!0}t.d(a,{I:()=>s,u:()=>r})},7272:()=>{}};var a=require("../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[948,707,562],()=>t(5751));module.exports=s})();