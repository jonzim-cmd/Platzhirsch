(()=>{var e={};e.id=799,e.ids=[799],e.modules={3524:e=>{"use strict";e.exports=require("@prisma/client")},7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5264:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>d.a,__next_app__:()=>u,originalPathname:()=>f,pages:()=>c,routeModule:()=>m,tree:()=>l}),r(1016),r(9540),r(5866);var a=r(3191),s=r(8716),n=r(7922),d=r.n(n),o=r(5231),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);r.d(t,i);let l=["",{children:["rooms",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1016)),"/Users/jz/Platzhirsch/app/rooms/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9540)),"/Users/jz/Platzhirsch/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/jz/Platzhirsch/app/rooms/page.tsx"],f="/rooms/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/rooms/page",pathname:"/rooms",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},4296:(e,t,r)=>{let a={"9eb1f714dcbdb8d1d1ed129c2eb2d942ec4ca6e8":()=>Promise.resolve().then(r.bind(r,1016)).then(e=>e.$$ACTION_1),f4eb825ef11d8792cafec2d539f2d9bbd140581d:()=>Promise.resolve().then(r.bind(r,1016)).then(e=>e.$$ACTION_0),"51a097bff94b6d7bde5cfb7a76cc419ca2d2d897":()=>Promise.resolve().then(r.bind(r,1379)).then(e=>e.createRoom),"88a28fa01bf8eb3ed6954f8a4f4ae43143c0f7e0":()=>Promise.resolve().then(r.bind(r,1379)).then(e=>e.deleteRoom),"8a57dfb094cf75dda1cd39da095655f2cc8d362e":()=>Promise.resolve().then(r.bind(r,1379)).then(e=>e.listRooms)};async function s(e,...t){return(await a[e]()).apply(null,t)}e.exports={"9eb1f714dcbdb8d1d1ed129c2eb2d942ec4ca6e8":s.bind(null,"9eb1f714dcbdb8d1d1ed129c2eb2d942ec4ca6e8"),f4eb825ef11d8792cafec2d539f2d9bbd140581d:s.bind(null,"f4eb825ef11d8792cafec2d539f2d9bbd140581d"),"51a097bff94b6d7bde5cfb7a76cc419ca2d2d897":s.bind(null,"51a097bff94b6d7bde5cfb7a76cc419ca2d2d897"),"88a28fa01bf8eb3ed6954f8a4f4ae43143c0f7e0":s.bind(null,"88a28fa01bf8eb3ed6954f8a4f4ae43143c0f7e0"),"8a57dfb094cf75dda1cd39da095655f2cc8d362e":s.bind(null,"8a57dfb094cf75dda1cd39da095655f2cc8d362e")}},6544:(e,t,r)=>{Promise.resolve().then(r.bind(r,2555)),Promise.resolve().then(r.t.bind(r,9404,23))},8804:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},5303:()=>{},2555:(e,t,r)=>{"use strict";r.d(t,{ActiveProfileNav:()=>n});var a=r(326),s=r(7577);function n(){let[e,t]=(0,s.useState)(null);return e?a.jsx("span",{className:"ml-2 rounded bg-neutral-800 px-2 py-1 text-xs text-fg",children:e}):null}},9540:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,metadata:()=>f});var a=r(9510);r(7272);var s=r(7371),n=r(8570);let d=(0,n.createProxy)(String.raw`/Users/jz/Platzhirsch/components/Layout/ActiveProfileNav.tsx`),{__esModule:o,$$typeof:i}=d;d.default;let l=(0,n.createProxy)(String.raw`/Users/jz/Platzhirsch/components/Layout/ActiveProfileNav.tsx#ActiveProfileNav`);function c(){return a.jsx("header",{className:"border-b border-neutral-900 bg-bg-soft/60 backdrop-blur",children:(0,a.jsxs)("div",{className:"container flex h-12 items-center justify-between",children:[a.jsx(s.default,{href:"/",className:"font-semibold",children:"Sitzplan"}),(0,a.jsxs)("nav",{className:"space-x-4 text-sm text-fg-muted",children:[a.jsx(s.default,{href:"/profiles",className:"hover:text-fg",children:"Profile"}),a.jsx(s.default,{href:"/classes",className:"hover:text-fg",children:"Klassen"}),a.jsx(s.default,{href:"/rooms",className:"hover:text-fg",children:"R\xe4ume"}),a.jsx(s.default,{href:"/students",className:"hover:text-fg",children:"Sch\xfcler"}),a.jsx(s.default,{href:"/import",className:"hover:text-fg",children:"Import"}),a.jsx(s.default,{href:"/editor",className:"hover:text-fg",children:"Editor"}),a.jsx(l,{})]})]})})}let f={title:"Sitzplan",description:"Sitzpl\xe4ne f\xfcr Klassen und R\xe4ume"};function u({children:e}){return a.jsx("html",{lang:"de",className:"dark",children:(0,a.jsxs)("body",{children:[a.jsx(c,{}),e]})})}},1016:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$ACTION_0:()=>c,$$ACTION_1:()=>u,default:()=>f});var a=r(9510),s=r(4330),n=r(166),d=r(1379),o=r(8465),i=r(206);async function l(){let e=await (0,d.listRooms)();return(0,a.jsxs)("ul",{className:"divide-y divide-neutral-900 rounded border border-neutral-900",children:[e.map(e=>(0,a.jsxs)("li",{className:"flex items-center justify-between px-4 py-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:e.name}),a.jsx("span",{className:"rounded bg-neutral-800 px-2 py-0.5 text-xs text-fg-muted",children:"ADHOC"===e.type?"Ad-hoc":"Normal"})]}),a.jsx("form",{action:(0,s.j)("f4eb825ef11d8792cafec2d539f2d9bbd140581d",c).bind(null,(0,n.encryptActionBoundArgs)("f4eb825ef11d8792cafec2d539f2d9bbd140581d",[e.id])),children:a.jsx(o.z,{type:"submit",variant:"danger",children:"L\xf6schen"})})]},e.id)),0===e.length&&a.jsx("li",{className:"px-4 py-6 text-sm text-fg-muted",children:"Noch keine R\xe4ume vorhanden."})]})}async function c(e){var[t]=await (0,n.decryptActionBoundArgs)("f4eb825ef11d8792cafec2d539f2d9bbd140581d",e);await (0,d.deleteRoom)(t)}async function f(){return(0,a.jsxs)("main",{className:"container py-8 grid gap-6",children:[a.jsx("h1",{className:"text-xl font-semibold",children:"R\xe4ume"}),a.jsx("section",{className:"grid gap-3",children:(0,a.jsxs)("form",{action:(0,s.j)("9eb1f714dcbdb8d1d1ed129c2eb2d942ec4ca6e8",u),className:"flex items-end gap-3",children:[a.jsx(i.I,{name:"name",label:"Neuer Raum",placeholder:"z. B. W11"}),(0,a.jsxs)("label",{className:"text-sm text-fg-muted grid gap-2",children:[a.jsx("span",{children:"Typ"}),(0,a.jsxs)("select",{name:"type",className:"rounded bg-neutral-900 px-2 py-2 border border-neutral-800",children:[a.jsx("option",{value:"normal",children:"Normal"}),a.jsx("option",{value:"adHoc",children:"Ad-hoc"})]})]}),a.jsx(o.z,{type:"submit",variant:"primary",children:"Anlegen"})]})}),a.jsx(l,{})]})}async function u(e){let t=e.get("name")?.trim(),r=e.get("type");t&&await (0,d.createRoom)(t,r)}},8465:(e,t,r)=>{"use strict";r.d(t,{z:()=>s});var a=r(9510);function s({variant:e="ghost",className:t="",...r}){return a.jsx("button",{className:`inline-flex items-center rounded px-3 py-2 text-sm transition-colors ${{primary:"bg-primary/20 text-primary hover:bg-primary/30",ghost:"bg-neutral-800 text-fg hover:bg-neutral-700",danger:"bg-red-900/40 text-red-300 hover:bg-red-900/60"}[e]} ${t}`,...r})}r(1159)},206:(e,t,r)=>{"use strict";r.d(t,{I:()=>s});var a=r(9510);let s=r(1159).forwardRef(({label:e,className:t="",...r},s)=>(0,a.jsxs)("label",{className:"grid gap-2 text-sm",children:[e?a.jsx("span",{className:"text-fg-muted",children:e}):null,a.jsx("input",{ref:s,className:"rounded border border-neutral-800 bg-neutral-900 px-3 py-2 outline-none ring-0 focus:border-neutral-600 "+t,...r})]}));s.displayName="Input"},1379:(e,t,r)=>{"use strict";r.r(t),r.d(t,{createRoom:()=>l,deleteRoom:()=>c,listRooms:()=>i});var a=r(4330);r(166);var s=r(71),n=r(883),d=r(7708),o=r(3524);async function i(){let e=(0,n.I)();if(!(0,n.u)(e,"read","room"))throw Error("forbidden");return s._.room.findMany({orderBy:{name:"asc"}})}async function l(e,t="normal"){let r=(0,n.I)();if(!(0,n.u)(r,"create","room"))throw Error("forbidden");let a=await s._.room.create({data:{name:e,type:"adHoc"===t?o.RoomType.ADHOC:o.RoomType.NORMAL}});return(0,d.revalidatePath)("/rooms"),a}async function c(e){let t=(0,n.I)();if(!(0,n.u)(t,"delete","room"))throw Error("forbidden");await s._.room.delete({where:{id:e}}),(0,d.revalidatePath)("/rooms")}(0,r(618).h)([i,l,c]),(0,a.j)("8a57dfb094cf75dda1cd39da095655f2cc8d362e",i),(0,a.j)("51a097bff94b6d7bde5cfb7a76cc419ca2d2d897",l),(0,a.j)("88a28fa01bf8eb3ed6954f8a4f4ae43143c0f7e0",c)},71:(e,t,r)=>{"use strict";r.d(t,{_:()=>s});var a=r(3524);let s=globalThis.prisma??new a.PrismaClient({log:["error"]})},883:(e,t,r)=>{"use strict";function a(){return{id:"anonymous",role:"anonymous"}}function s(e,t,r){return!0}r.d(t,{I:()=>a,u:()=>s})},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[948,707,562],()=>r(5264));module.exports=a})();